{"version":3,"sources":["api.js","main/webapp/components/RegisterPatient.js","main/webapp/components/CaptureBiometric.js","main/webapp/components/PatientCard.js","main/webapp/components/PatientDashboard.js","main/webapp/components/SplitActionButton.js","main/webapp/components/Dashboard.js","main/webapp/components/PatientVitals.js","main/webapp/components/Add-Patient-Vitals.js","App.js","index.js"],"names":["token","URLSearchParams","window","location","search","get","url","library","add","faCheckSquare","faCoffee","faEdit","faTrash","useStyles","makeStyles","theme","card","margin","spacing","display","flexDirection","alignItems","form","width","marginTop","submit","cardBottom","marginBottom","Select","height","button","root","flexGrow","maxWidth","demo","backgroundColor","palette","background","default","inline","schema","yup","shape","dateOfRegistration","required","hospitalNumber","firstName","middleName","nullable","lastName","sex","employmentStatus","highestQualification","maritalStatus","dob","dateOfBirth","age","pnumber","altPhonenumber","email","address","landmark","countryId","stateId","district","UserRegistration","props","patientId","_useForm","useForm","resolver","yupResolver","register","setValue","getValues","setError","handleSubmit","errors","formState","_useState","useState","Date","toISOString","substr","replace","_useState2","Object","slicedToArray","today","_useState3","_useState4","contacts","setContacts","_useState5","_useState6","saving","_useState7","_useState8","ageDisabled","setAgeDisabled","_useState9","_useState10","showRelative","setShowRelative","_useState11","_useState12","editRelative","setEditRelative","_useState13","_useState14","genders","setGenders","_useState15","_useState16","maritalStatusOptions","setMaritalStatusOptions","_useState17","_useState18","educationOptions","setEducationOptions","_useState19","_useState20","occupationOptions","setOccupationOptions","_useState21","_useState22","relationshipOptions","setRelationshipOptions","_useState23","_useState24","topLevelUnitCountryOptions","settopLevelUnitCountryOptions","_useState25","_useState26","stateUnitOptions","setStateUnitOptions","_useState27","_useState28","districtUnitOptions","setDistrictUnitOptions","userDetail","state","user","classes","history","useHistory","locationState","useLocation","getPatient","useCallback","asyncToGenerator","regenerator_default","a","mark","_callee","response","patient","_contacts","identifiers","contactPoint","phone","altphone","country","gender","education","stateOptions","districtOptions","wrap","_context","prev","next","axios","concat","baseUrl","headers","Authorization","sent","data","contact","identifier","find","obj","type","length","otherName","surname","value","id","format","loadOrganisationUnitsByParentId","city","line","stop","onSubmit","_ref2","_callee2","patientForm","_context2","active","organisationUnitId","postalCode","deceased","deceasedDateTime","genderId","assignerId","maritalStatusId","educationId","employmentStatusId","isDateOfBirthEstimated","push","put","post","toast","success","t0","console","log","error","position","POSITION","TOP_RIGHT","_x","apply","this","arguments","loadGenders","_callee3","_context3","loadMaritalStatus","_callee4","_context4","loadEducation","_callee5","_context5","loadOccupation","_callee6","_context6","loadRelationships","_callee7","_context7","loadTopLevelCountry","_callee8","_context8","_ref9","_callee9","parentId","_context9","abrupt","_x2","onCountryChange","_ref10","_callee10","e","_context10","target","_x3","onStateChange","_ref11","_callee11","_context11","_x4","handleDateOfBirthChange","useEffect","genderRows","maritalStatusRows","educationRows","occupationRows","relationshipRows","topLevelUnitCountryRows","stateRows","districtRows","map","index","react_default","createElement","key","maritalStatusOption","educationOption","occupationOption","relationshipOption","topLevelUnitCountryOption","name","stateUnitOption","districtUnitOption","Fragment","react_toastify","autoClose","hideProgressBar","Card","className","CardContent","react_router_dom","to","pathname","Button","variant","color","style","fontWeight","startIcon","index_esm","textTransform","Form","FormGroup","Label","for","assign","max","border","message","defaultChecked","onChange","birthDate","age_now","getFullYear","m","getMonth","getDate","handleDobChange","disabled","currentDate","setDate","setMonth","moment","toDate","handleAgeChange","placeholder","item","relationshipId","relationship","getRelationship","firstname","onClick","relative","handleEditRelative","index_es","icon","setTimeout","splice","handleDeleteRelative","relationshipType","cfirstName","cmiddleName","clastName","contactPhoneNumber","contactEmail","contactAddress","fullName","shouldFocus","Add_default","Spinner","Save_default","Cancel_default","& > *","input","fontSize","checkUrl","CaptureBiometric","biometricDevices","biometricType","templateType","device","objValues","setObjValues","fingerType","setFingerType","_React$useState","React","_React$useState2","loading","setLoading","_React$useState3","_React$useState4","showCapture","setshowCapture","_React$useState5","_React$useState6","tryAgain","setTryAgain","_React$useState7","_React$useState8","setSuccess","setErrors","capturedFingered","setCapturedFingered","buttonSx","objectSpread","bgcolor","green","&:hover","TemplateType","then","catch","es_Card","CardBody","Modal","isOpen","modalstatus","toggle","togglestatus","size","ModalHeader","ModalBody","Row","Col","md","Input","deviceName","selectedDevice","x","errorType","errorName","_ref","defineProperty","preventDefault","temp","values","every","validate","ERROR","toConsumableArray","Fingerprint_default","sm","offset","Box","sx","Fab","aria-label","Check_default","CircularProgress","top","left","zIndex","Typography_Typography","gutterBottom","component","red","List","celled","horizontal","Item","Content","capturedObj","setPatientBiometricStatus","withStyles","heading","typography","pxToRem","secondaryHeading","text","secondary","verticalAlign","details","column","flexBasis","helper","borderLeft","divider","padding","link","primary","main","textDecoration","patientObj","permissions","modal","setModal","biometricStatus","patientBiometricStatus","setBiometricStatus","devices","setDevices","Accordion","defaultExpanded","AccordionSummary","root2","getHospitalNumber","split","calculate_age","Label_Label","Detail","phoneContact","getPhone","AccordionDetails","Button_Button","content","label","basic","pointing","as","Typography","includes","tag","Divider","AccordionActions","components_CaptureBiometric","CheckBoxOutlineBlank_default","checkedIcon","CheckBox_default","appointmentColumns","field","headerName","editable","appointments","newDate","control","checkinStatus","setCheckinStatus","modalCheckOut","setModalCheckOut","services","setServices","checkInServices","selectedServices","setSelectedServices","patientVisits","setPatientVisits","facilityId","personId","visitEndDate","visitStartDate","serviceIds","visitDto","checkInObj","loadServices","Swal","fire","title","loadPatientVisits","visits","checkOutDate","service","MenuItem","moduleServiceCode","moduleServiceName","panes","menuItem","render","Tab","Pane","dist_default","columns","filtering","isLoading","row","checkInDate","status","options","headerStyle","exportButton","searchFieldAlignment","pageSizeOptions","pageSize","debounceInterval","DataGrid","rows","rowsPerPageOptions","checkboxSelection","disableSelectionOnClick","onCancelCheckIn","onCancelCheckOut","checkInServicesID","Card_Card","CardContent_CardContent","components_PatientCard","material_Button_Button","Paper","gridRowGap","Grid","container","xs","FormControl","Autocomplete","multiple","getOptionLabel","option","i","renderOption","_ref5","selected","Checkbox","marginRight","checked","renderInput","params","TextField","getVisitID","SplitActionButton","open","setOpen","anchorRef","useRef","selectedIndex","handleClose","react","ButtonGroup","ref","actions","info","Divider_Divider","orientation","flexItem","aria-controls","undefined","aria-expanded","aria-haspopup","prevOpen","fa_index_esm","Popper","anchorEl","current","role","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","ClickAwayListener","onClickAway","MenuList","autoFocusItem","slice","Math","random","tableIcons","Add","forwardRef","AddBox_default","Check","icons_Check_default","Clear","Clear_default","Delete","DeleteOutline_default","DetailPanel","ChevronRight_default","Edit","Edit_default","Export","SaveAlt_default","Filter","FilterList_default","FirstPage","FirstPage_default","LastPage","LastPage_default","NextPage","PreviousPage","ChevronLeft_default","ResetSearch","Search","Search_default","SortArrow","ArrowUpward_default","ThirdStateCheck","Remove_default","ViewColumn","ViewColumn_default","PatientList","patients","setPatients","setPermissions","userPermission","loadPatients","onDelete","delete","reload","onCancelDelete","actionItems","md_index_esm","icons","searchFieldStyle","margingLeft","ModalFooter","PatientVitals","justifyContent","icons_material_Add_default","AddPatientVitals","InData","bodyWeight","Weight","diastolic","Diastolic","encounterDate","DateOfVitalSigns","Height","systolic","Systolic","timer","fullWidth","LocalizationProvider","dateAdapter","AdapterDateFns","dist_index_esm","defaultValue","_ref2$field","fieldState","DatePicker","helperText","_ref3","_ref3$field","_ref4","_ref4$field","_ref5$field","_ref6","_ref6$field","_ref7","_ref7$field","_ref8","_ref8$field","_ref9$field","App","react_router","path","RegisterPatientPage","PatientDashboardPage","PatientVitalsPage","AddPatientVitalsPage","Dashboard","components_PatientDashboard","RegisterPatient","components_PatientVitals","Add_Patient_Vitals","ReactDOM","StrictMode","document","getElementById"],"mappings":"wgBAAcA,EAAS,IAAIC,gBAAgBC,OAAOC,SAASC,QAASC,IAAI,OAC3DC,EAAM,WCyBnBC,IAAQC,IAAIC,IAAeC,IAAUC,IAAQC,KAE7C,IAAMC,EAAYC,YAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFC,OAAQF,EAAMG,QAAQ,IACtBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEhBC,KAAM,CACFC,MAAO,OACPC,UAAWT,EAAMG,QAAQ,IAE7BO,OAAQ,CACJR,OAAQF,EAAMG,QAAQ,EAAG,EAAG,IAEhCQ,WAAY,CACRC,aAAc,IAElBC,OAAQ,CACJC,OAAQ,GACRN,MAAO,KAEXO,OAAQ,CACJb,OAAQF,EAAMG,QAAQ,IAE1Ba,KAAM,CACFC,SAAU,EACVC,SAAU,KAEdC,KAAM,CACFC,gBAAiBpB,EAAMqB,QAAQC,WAAWC,SAE9CC,OAAQ,CACJpB,QAAS,aAIXqB,EAASC,MAAaC,MAAM,CAC9BC,mBAAoBF,MAAWG,WAC/BC,eAAgBJ,MAAaG,WAC7BE,UAAWL,MAAaG,WACxBG,WAAYN,MAAaO,WACzBC,SAAUR,MAAaG,WACvBM,IAAKT,MAAaG,WAClBO,iBAAkBV,MAAaG,WAC/BQ,qBAAsBX,MAAaG,WACnCS,cAAeZ,MAAaG,WAC5BU,IAAKb,MAAWG,WAChBW,YAAad,MAAaG,WAC1BY,IAAKf,MACLgB,QAAShB,MAAaG,WACtBc,eAAgBjB,MAAaO,WAC7BW,MAAOlB,MAAaO,WACpBY,QAASnB,MAAaO,WACtBa,SAAUpB,MAAaO,WACvBc,UAAWrB,MAAaG,WACxBmB,QAAStB,MAAaG,WACtBoB,SAAUvB,MAAaO,aAwiCZiB,EAriCU,SAACC,GAAU,IAwB5BC,EAxB4BC,EACyDC,YAAQ,CAC7FC,SAAUC,YAAY/B,KADlBgC,EADwBJ,EACxBI,SAAUC,EADcL,EACdK,SAAUC,EADIN,EACJM,UAAWC,EADPP,EACOO,SAAUC,EADjBR,EACiBQ,aAA2BC,EAD5CT,EAC+BU,UAAaD,OAD5CE,EAINC,oBAAS,IAAIC,MAAOC,cAAcC,OAAO,EAAG,IAAIC,QAAQ,IAAK,MAJvDC,EAAAC,OAAAC,EAAA,EAAAD,CAAAP,EAAA,GAIzBS,EAJyBH,EAAA,GAAAI,GAAAJ,EAAA,GAKAL,mBAAS,KALTU,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAKzBE,EALyBD,EAAA,GAKfE,EALeF,EAAA,GAAAG,EAMJb,oBAAS,GANLc,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAMzBE,EANyBD,EAAA,GAAAE,GAAAF,EAAA,GAOMd,oBAAS,IAPfiB,EAAAX,OAAAC,EAAA,EAAAD,CAAAU,EAAA,GAOzBE,EAPyBD,EAAA,GAOZE,EAPYF,EAAA,GAAAG,EAQQpB,oBAAS,GARjBqB,EAAAf,OAAAC,EAAA,EAAAD,CAAAc,EAAA,GAQzBE,GARyBD,EAAA,GAQXE,GARWF,EAAA,GAAAG,GASQxB,mBAAS,MATjByB,GAAAnB,OAAAC,EAAA,EAAAD,CAAAkB,GAAA,GASzBE,GATyBD,GAAA,GASXE,GATWF,GAAA,GAAAG,GAUH5B,mBAAS,IAVN6B,GAAAvB,OAAAC,EAAA,EAAAD,CAAAsB,GAAA,GAUzBE,GAVyBD,GAAA,GAUhBE,GAVgBF,GAAA,GAAAG,GAWuBhC,mBAAS,IAXhCiC,GAAA3B,OAAAC,EAAA,EAAAD,CAAA0B,GAAA,GAWzBE,GAXyBD,GAAA,GAWHE,GAXGF,GAAA,GAAAG,GAYepC,mBAAS,IAZxBqC,GAAA/B,OAAAC,EAAA,EAAAD,CAAA8B,GAAA,GAYzBE,GAZyBD,GAAA,GAYPE,GAZOF,GAAA,GAAAG,GAaiBxC,mBAAS,IAb1ByC,GAAAnC,OAAAC,EAAA,EAAAD,CAAAkC,GAAA,GAazBE,GAbyBD,GAAA,GAaNE,GAbMF,GAAA,GAAAG,GAcqB5C,mBAAS,IAd9B6C,GAAAvC,OAAAC,EAAA,EAAAD,CAAAsC,GAAA,GAczBE,GAdyBD,GAAA,GAcJE,GAdIF,GAAA,GAAAG,GAemChD,mBAAS,IAf5CiD,GAAA3C,OAAAC,EAAA,EAAAD,CAAA0C,GAAA,GAezBE,GAfyBD,GAAA,GAeGE,GAfHF,GAAA,GAAAG,GAgBepD,mBAAS,IAhBxBqD,GAAA/C,OAAAC,EAAA,EAAAD,CAAA8C,GAAA,GAgBzBE,GAhByBD,GAAA,GAgBPE,GAhBOF,GAAA,GAAAG,GAiBqBxD,mBAAS,IAjB9ByD,GAAAnD,OAAAC,EAAA,EAAAD,CAAAkD,GAAA,GAiBzBE,GAjByBD,GAAA,GAiBJE,GAjBIF,GAAA,GAkB1BG,GAAa1E,EAAM/D,UAAY+D,EAAM/D,SAAS0I,MAAQ3E,EAAM/D,SAAS0I,MAAMC,KAAO,KAClFC,GAAUlI,IACVmI,GAAUC,cAGVC,GADWC,cACcN,MAE/B1E,EAAY+E,GAAgBA,GAAc/E,UAAY,KAEtD,IAgBMiF,GAAaC,sBAAW/D,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAC,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAlG,EAAAmG,EAAAlH,EAAAmH,EAAArG,EAAAsG,EAAAC,EAAAC,EAAAhH,EAAAiH,EAAA/G,EAAAgH,EAAAC,EAAA,OAAAf,EAAAC,EAAAe,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACvBvG,EADuB,CAAAqG,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAEAC,IAAMtK,IAAN,GAAAuK,OAAaC,EAAb,YAAAD,OAA+BzG,GAAa,CAAE2G,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAFpF,UAEjB2J,EAFiBa,EAAAQ,KAGjBpB,EAAUD,EAASsB,KACnBtF,EAAWiE,EAAQsB,QAAUtB,EAAQsB,QAAU,GACrDtF,EAAYD,EAASuF,SACfpB,EAAcF,EAAQuB,WACtBvH,EAAUgG,EAAQhG,QAClBmG,EAAeH,EAAQG,aACvBlH,EAAiBiH,EAAYqB,WAAWC,KAAK,SAAAC,GAAG,MAAgB,kBAAZA,EAAIC,OACxDtB,EAAQD,EAAaA,aAAaqB,KAAK,SAAAC,GAAG,MAAgB,SAAZA,EAAIC,OAClD3H,EAAQoG,EAAaA,aAAaqB,KAAK,SAAAC,GAAG,MAAgB,SAAZA,EAAIC,OAClDrB,EAAWF,EAAaA,aAAaqB,KAAK,SAAAC,GAAG,MAAgB,YAAZA,EAAIC,OACrDpB,EAAUtG,GAAWA,EAAQA,SAAWA,EAAQA,QAAQ2H,OAAS,EAAI3H,EAAQA,QAAQ,GAAK,KAC1FuG,EAASP,EAAQO,OACjBhH,EAAmByG,EAAQzG,iBAC3BiH,EAAYR,EAAQQ,UACpB/G,EAAgBuG,EAAQvG,cAC9BoB,EAAS,qBAAsBmF,EAAQjH,oBACvC8B,EAAS,YAAamF,EAAQ9G,WAC9B2B,EAAS,aAAcmF,EAAQ4B,WAC/B/G,EAAS,WAAYmF,EAAQ6B,SAC7BhH,EAAS,iBAAkB5B,EAAiBA,EAAe6I,MAAQ,IACnEjH,EAAS,gBAAiBpB,EAAcsI,IACxClH,EAAS,mBAAoBtB,EAAiBwI,IAC9ClH,EAAS,MAAO0F,EAAOwB,IACvBlH,EAAS,uBAAwB2F,EAAUuB,IAC3ClH,EAAS,MAAOmH,YAAO,IAAI3G,KAAK2E,EAAQrG,aAAc,gBAClD2G,EA5BmB,CAAAM,EAAAE,KAAA,gBA6BnBjG,EAAS,YAAayF,EAAQpG,WA7BX0G,EAAAE,KAAA,GA8BQmB,GAAgC3B,EAAQpG,WA9BhD,eA8BbuG,EA9BaG,EAAAQ,KA+BnBzC,GAAoB8B,GACpB5F,EAAS,UAAWyF,EAAQnG,SAhCTyG,EAAAE,KAAA,GAiCWmB,GAAgC3B,EAAQnG,SAjCnD,QAiCbuG,EAjCaE,EAAAQ,KAkCnBrC,GAAuB2B,GACvB7F,EAAS,WAAYyF,EAAQlG,UAC7BS,EAAS,UAAWyF,EAAQ4B,MAC5BrH,EAAS,WAAYyF,EAAQ6B,KAAK,IArCf,QAuCvBtH,EAAS,UAAWuF,EAAQA,EAAM0B,MAAQ,MAC1CjH,EAAS,QAASd,EAAQA,EAAM+H,MAAQ,MACxCjH,EAAS,iBAAkBwF,EAAWA,EAASyB,MAAQ,MAzChC,yBAAAlB,EAAAwB,SAAAtC,MA2C5B,IAoDGuC,GAAQ,eAAAC,EAAA5G,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAG,SAAA0C,EAAOlB,GAAP,IAAAmB,EAAApC,EAAArG,EAAAD,EAAA,OAAA6F,EAAAC,EAAAe,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,UAAA2B,EAAA5B,KAAA,EAEH2B,EAAc,CAChBE,QAAQ,EACR1I,QAAS,CACL,CACIkI,KAAQb,EAAKrH,QACbE,UAAamH,EAAKnH,UAClBE,SAAYiH,EAAKjH,SACjB+H,KAAQ,CACJd,EAAKpH,UAET0I,mBAAsB,EACtBC,WAAc,GACdzI,QAAWkH,EAAKlH,UAGxBmH,QAASvF,EACToE,aAAc,GACdxG,YAAa,IAAI0B,KAAKgG,EAAK3H,KAC3BmJ,UAAU,EACVC,iBAAkB,KAClB5J,UAAWmI,EAAKnI,UAChB6J,SAAU1B,EAAK/H,IACfiI,WAAY,CACR,CACIyB,WAAc,EACdtB,KAAQ,iBACRI,MAAST,EAAKpI,iBAGtB2I,UAAWP,EAAKlI,WAChB8J,gBAAiB5B,EAAK5H,cACtBoI,QAASR,EAAKhI,SACd6J,YAAa7B,EAAK7H,qBAClB2J,mBAAoB9B,EAAK9H,iBACzBR,mBAAoBsI,EAAKtI,mBACzBqK,uBAA4C,UAApB/B,EAAK1H,aAE3ByG,EAAQ,CACVsB,KAAQ,QACRI,MAAST,EAAKxH,SAEdwH,EAAKtH,QACCA,EAAQ,CACV2H,KAAQ,QACRI,MAAST,EAAKtH,OAElByI,EAAYrC,aAAakD,KAAKtJ,IAE9BsH,EAAKvH,iBACCA,EAAiB,CACnB4H,KAAQ,WACRI,MAAST,EAAKvH,gBAElB0I,EAAYrC,aAAakD,KAAKvJ,IAElC0I,EAAYrC,aAAakD,KAAKjD,IAC1B7F,EA1DK,CAAAkI,EAAA3B,KAAA,gBA2DL0B,EAAYT,GAAK,KA3DZU,EAAA3B,KAAA,GA4DkBC,IAAMuC,IAAN,GAAAtC,OAAaC,EAAb,YAAAD,OAA+BzG,GAAaiI,EAAa,CAAEtB,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MA5DnH,QAAAqM,EAAArB,KAAAqB,EAAA3B,KAAA,wBAAA2B,EAAA3B,KAAA,GA8DkBC,IAAMwC,KAAN,GAAAvC,OAAcC,EAAd,WAAgCuB,EAAa,CAAEtB,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MA9DvG,QAAAqM,EAAArB,KAAA,QAgEToC,IAAMC,QAAQ,+BACdrE,GAAQiE,KAAK,KAjEJZ,EAAA3B,KAAA,iBAAA2B,EAAA5B,KAAA,GAAA4B,EAAAiB,GAAAjB,EAAA,SAmETkB,QAAQC,IAARnB,EAAAiB,IACAF,IAAMK,MAAM,iDAAkD,CAC1DC,SAAUN,IAAMO,SAASC,YArEpB,yBAAAvB,EAAAL,SAAAG,EAAA,kBAAH,gBAAA0B,GAAA,OAAA3B,EAAA4B,MAAAC,KAAAC,YAAA,GA+FRC,GAAc5E,sBAAW/D,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAC,SAAAyE,IAAA,IAAAvE,EAAA,OAAAJ,EAAAC,EAAAe,KAAA,SAAA4D,GAAA,cAAAA,EAAA1D,KAAA0D,EAAAzD,MAAA,cAAAyD,EAAA1D,KAAA,EAAA0D,EAAAzD,KAAA,EAEDC,IAAMtK,IAAN,GAAAuK,OAAaC,EAAb,kCAAsD,CAAEC,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAF7F,OAElB2J,EAFkBwE,EAAAnD,KAGxBjE,GAAW4C,EAASsB,MAHIkD,EAAAzD,KAAA,gBAAAyD,EAAA1D,KAAA,EAAA0D,EAAAb,GAAAa,EAAA,SAKxBf,IAAMK,MAAM,oDAAqD,CAC7DC,SAAUN,IAAMO,SAASC,YANL,yBAAAO,EAAAnC,SAAAkC,EAAA,iBAS7B,IACGE,GAAoB/E,sBAAW/D,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAC,SAAA4E,IAAA,IAAA1E,EAAA,OAAAJ,EAAAC,EAAAe,KAAA,SAAA+D,GAAA,cAAAA,EAAA7D,KAAA6D,EAAA5D,MAAA,cAAA4D,EAAA7D,KAAA,EAAA6D,EAAA5D,KAAA,EAEPC,IAAMtK,IAAN,GAAAuK,OAAaC,EAAb,0CAA8D,CAAEC,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAF/F,OAExB2J,EAFwB2E,EAAAtD,KAG9B7D,GAAwBwC,EAASsB,MAHHqD,EAAA5D,KAAA,gBAAA4D,EAAA7D,KAAA,EAAA6D,EAAAhB,GAAAgB,EAAA,SAK9BlB,IAAMK,MAAM,qDAAsD,CAC9DC,SAAUN,IAAMO,SAASC,YANC,yBAAAU,EAAAtC,SAAAqC,EAAA,iBASnC,IACGE,GAAgBlF,sBAAW/D,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAC,SAAA+E,IAAA,IAAA7E,EAAA,OAAAJ,EAAAC,EAAAe,KAAA,SAAAkE,GAAA,cAAAA,EAAAhE,KAAAgE,EAAA/D,MAAA,cAAA+D,EAAAhE,KAAA,EAAAgE,EAAA/D,KAAA,EAEHC,IAAMtK,IAAN,GAAAuK,OAAaC,EAAb,qCAAyD,CAAEC,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAF9F,OAEpB2J,EAFoB8E,EAAAzD,KAG1BzD,GAAoBoC,EAASsB,MAHHwD,EAAA/D,KAAA,gBAAA+D,EAAAhE,KAAA,EAAAgE,EAAAnB,GAAAmB,EAAA,SAK1BrB,IAAMK,MAAM,uDAAwD,CAChEC,SAAUN,IAAMO,SAASC,YANH,yBAAAa,EAAAzC,SAAAwC,EAAA,iBAS/B,IACGE,GAAiBrF,sBAAW/D,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAC,SAAAkF,IAAA,IAAAhF,EAAA,OAAAJ,EAAAC,EAAAe,KAAA,SAAAqE,GAAA,cAAAA,EAAAnE,KAAAmE,EAAAlE,MAAA,cAAAkE,EAAAnE,KAAA,EAAAmE,EAAAlE,KAAA,EAEJC,IAAMtK,IAAN,GAAAuK,OAAaC,EAAb,sCAA0D,CAAEC,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAF9F,OAErB2J,EAFqBiF,EAAA5D,KAG3BrD,GAAqBgC,EAASsB,MAHH2D,EAAAlE,KAAA,gBAAAkE,EAAAnE,KAAA,EAAAmE,EAAAtB,GAAAsB,EAAA,SAK3BxB,IAAMK,MAAM,wDAAyD,CACjEC,SAAUN,IAAMO,SAASC,YANF,yBAAAgB,EAAA5C,SAAA2C,EAAA,iBAShC,IACGE,GAAoBxF,sBAAW/D,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAC,SAAAqF,IAAA,IAAAnF,EAAA,OAAAJ,EAAAC,EAAAe,KAAA,SAAAwE,GAAA,cAAAA,EAAAtE,KAAAsE,EAAArE,MAAA,cAAAqE,EAAAtE,KAAA,EAAAsE,EAAArE,KAAA,EAETC,IAAMtK,IAAN,GAAAuK,OAAaC,EAAb,wCAA4D,CAAEC,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAF3F,OAE1B2J,EAF0BoF,EAAA/D,KAGhCjD,GAAuB4B,EAASsB,MAHA8D,EAAArE,KAAA,gBAAAqE,EAAAtE,KAAA,EAAAsE,EAAAzB,GAAAyB,EAAA,SAKhC3B,IAAMK,MAAM,0DAA2D,CACnEC,SAAUN,IAAMO,SAASC,YANG,yBAAAmB,EAAA/C,SAAA8C,EAAA,iBASnC,IACGE,GAAsB3F,sBAAW/D,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAC,SAAAwF,IAAA,IAAAtF,EAAA,OAAAJ,EAAAC,EAAAe,KAAA,SAAA2E,GAAA,cAAAA,EAAAzE,KAAAyE,EAAAxE,MAAA,cAAAwE,EAAAxE,KAAA,EACbC,IAAMtK,IAAN,GAAAuK,OAAaC,EAAb,kDAAsE,CAAEC,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MADjG,OAC9B2J,EAD8BuF,EAAAlE,KAEpC7C,GAA8BwB,EAASsB,MAFH,wBAAAiE,EAAAlD,SAAAiD,MAGrC,IACGpD,GAA+B,eAAAsD,EAAA7J,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAG,SAAA2F,EAAOC,GAAP,IAAA1F,EAAA,OAAAJ,EAAAC,EAAAe,KAAA,SAAA+E,GAAA,cAAAA,EAAA7E,KAAA6E,EAAA5E,MAAA,cAAA4E,EAAA5E,KAAA,EACbC,IAAMtK,IAAN,GAAAuK,OAAaC,EAAb,iDAAAD,OAAoEyE,GAAY,CAAEvE,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAD3G,cAC9B2J,EAD8B2F,EAAAtE,KAAAsE,EAAAC,OAAA,SAE7B5F,EAASsB,MAFoB,wBAAAqE,EAAAtD,SAAAoD,MAAH,gBAAAI,GAAA,OAAAL,EAAArB,MAAAC,KAAAC,YAAA,GAI/ByB,GAAe,eAAAC,EAAApK,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAG,SAAAkG,EAAOC,GAAP,IAAAvF,EAAA,OAAAd,EAAAC,EAAAe,KAAA,SAAAsF,GAAA,cAAAA,EAAApF,KAAAoF,EAAAnF,MAAA,WAChBkF,EAAEE,OAAOpE,MADO,CAAAmE,EAAAnF,KAAA,eAAAmF,EAAAnF,KAAA,EAEWmB,GAAgC+D,EAAEE,OAAOpE,OAFpD,OAEVrB,EAFUwF,EAAA7E,KAGhBzC,GAAoB8B,GAHJwF,EAAAnF,KAAA,eAKhBnC,GAAoB,IALJ,wBAAAsH,EAAA7D,SAAA2D,MAAH,gBAAAI,GAAA,OAAAL,EAAA5B,MAAAC,KAAAC,YAAA,GAQfgC,GAAa,eAAAC,EAAA3K,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAG,SAAAyG,EAAON,GAAP,IAAAtF,EAAA,OAAAf,EAAAC,EAAAe,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,WACdkF,EAAEE,OAAOpE,MADK,CAAAyE,EAAAzF,KAAA,eAAAyF,EAAAzF,KAAA,EAEgBmB,GAAgC+D,EAAEE,OAAOpE,OAFzD,OAERpB,EAFQ6F,EAAAnF,KAGdrC,GAAuB2B,GAHT6F,EAAAzF,KAAA,eAKd/B,GAAuB,IALT,wBAAAwH,EAAAnE,SAAAkE,MAAH,gBAAAE,GAAA,OAAAH,EAAAnC,MAAAC,KAAAC,YAAA,GAwBbqC,GAA0B,SAACT,GACP,UAAlBA,EAAEE,OAAOpE,MACTvF,GAAe,GACU,aAAlByJ,EAAEE,OAAOpE,OAChBvF,GAAe,IAevBmK,oBAAU,WACNrC,KACAG,KACAG,KACAG,KACAG,KACAG,KACA5F,MACD,CAAC6E,GAAaG,GAAmBG,GAAeG,GAAgBG,GAAmBG,GAAqB5F,KAE3G,IAAImH,GAAa,KACbC,GAAoB,KACpBC,GAAgB,KAChBC,GAAiB,KACjBC,GAAmB,KACnBC,GAA0B,KAC1BC,GAAY,KACZC,GAAe,KACfhK,IAAWA,GAAQyE,OAAS,IAC5BgF,GAAazJ,GAAQiK,IAAI,SAAC5G,EAAQ6G,GAAT,OACrBC,EAAAzH,EAAA0H,cAAA,UAAQC,IAAKhH,EAAOwB,GAAID,MAAOvB,EAAOwB,IAAKxB,EAAOhJ,YAGtD+F,IAAwBA,GAAqBqE,OAAS,IACtDiF,GAAoBtJ,GAAqB6J,IAAI,SAACK,EAAqBJ,GAAtB,OACzCC,EAAAzH,EAAA0H,cAAA,UAAQC,IAAKC,EAAoBzF,GAAID,MAAO0F,EAAoBzF,IAAKyF,EAAoBjQ,YAG7FmG,IAAoBA,GAAiBiE,OAAS,IAC9CkF,GAAgBnJ,GAAiByJ,IAAI,SAACM,EAAiBL,GAAlB,OACjCC,EAAAzH,EAAA0H,cAAA,UAAQC,IAAKE,EAAgB1F,GAAID,MAAO2F,EAAgB1F,IAAK0F,EAAgBlQ,YAGjFuG,IAAqBA,GAAkB6D,OAAS,IAChDmF,GAAiBhJ,GAAkBqJ,IAAI,SAACO,EAAkBN,GAAnB,OACnCC,EAAAzH,EAAA0H,cAAA,UAAQC,IAAKG,EAAiB3F,GAAID,MAAO4F,EAAiB3F,IAAK2F,EAAiBnQ,YAGpF2G,IAAuBA,GAAoByD,OAAS,IACpDoF,GAAmB7I,GAAoBiJ,IAAI,SAACQ,EAAoBP,GAArB,OACvCC,EAAAzH,EAAA0H,cAAA,UAAQC,IAAKI,EAAmB5F,GAAID,MAAO6F,EAAmB5F,IAAK4F,EAAmBpQ,YAG1F+G,IAA8BA,GAA2BqD,OAAS,IAClEqF,GAA0B1I,GAA2B6I,IAAI,SAACS,EAA2BR,GAA5B,OACrDC,EAAAzH,EAAA0H,cAAA,UAAQC,IAAKK,EAA0B7F,GAAID,MAAO8F,EAA0B7F,IAAK6F,EAA0BC,SAG/GnJ,IAAoBA,GAAiBiD,OAAS,IAC9CsF,GAAYvI,GAAiByI,IAAI,SAACW,EAAiBV,GAAlB,OAC7BC,EAAAzH,EAAA0H,cAAA,UAAQC,IAAKO,EAAgB/F,GAAID,MAAOgG,EAAgB/F,IAAK+F,EAAgBD,SAGjF/I,IAAuBA,GAAoB6C,OAAS,IACpDuF,GAAepI,GAAoBqI,IAAI,SAACY,EAAoBX,GAArB,OACnCC,EAAAzH,EAAA0H,cAAA,UAAQC,IAAKQ,EAAmBhG,GAAID,MAAOiG,EAAmBhG,IAAKgG,EAAmBF,SAQ9F,OACIR,EAAAzH,EAAA0H,cAAAD,EAAAzH,EAAAoI,SAAA,KACIX,EAAAzH,EAAA0H,cAACW,EAAA,EAAD,CAAgBC,UAAW,IAAMC,iBAAe,IAChDd,EAAAzH,EAAA0H,cAACc,EAAA,EAAD,CAAMC,UAAWlJ,GAAQrH,YACrBuP,EAAAzH,EAAA0H,cAACgB,EAAA,EAAD,KACIjB,EAAAzH,EAAA0H,cAACiB,EAAA,EAAD,CACIC,GAAI,CACAC,SAAU,IACVxJ,MAAO,UAEXoI,EAAAzH,EAAA0H,cAACoB,EAAA,EAAD,CACIC,QAAQ,YACRC,MAAM,UACNP,UAAU,oBACVQ,MAAO,CAACtQ,gBAAgB,UAAUuQ,WAAW,UAC7CC,UAAW1B,EAAAzH,EAAA0H,cAAC0B,EAAA,EAAD,OAEX3B,EAAAzH,EAAA0H,cAAA,QAAMuB,MAAO,CAAEI,cAAe,eAA9B,WAGR5B,EAAAzH,EAAA0H,cAAA,WACAD,EAAAzH,EAAA0H,cAAA,WACAD,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,uBACXhB,EAAAzH,EAAA0H,cAAC4B,EAAA,EAAD,CAAM7G,SAAUrH,EAAaqH,GAzNjC,SAACpH,GACb0I,QAAQE,MAAM5I,MAyNMoM,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,QACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,cAAcQ,MAAO,CAACtQ,gBAAgB,UAAUqQ,MAAM,OAAOE,WAAW,WACnFzB,EAAAzH,EAAA0H,cAAA,MAAIe,UAAU,cAA2B,OAAbrJ,GAAoB,oBAAsB,0BAG1EqI,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,aACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,cACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,OACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,CAAOC,IAAI,sBAAX,yBACAhC,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,qBACL9F,GAAG,qBACHwH,IAAK3N,GACDhB,EAAS,sBANjB,CAOIiO,MAAO,CAACW,OAAQ,wBAEnBvO,EAAOlC,oBAAsBsO,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOlC,mBAAmB0Q,WAIpEpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,CAAOC,IAAI,aAAX,qBACAhC,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,iBACL9F,GAAG,kBACCnH,EAAS,kBALjB,CAMIiO,MAAO,CAACW,OAAQ,wBAEnBvO,EAAOhC,gBAAkBoO,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOhC,eAAewQ,YAKhEpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,OACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,CAAOC,IAAI,aAAX,gBACAhC,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,YACL9F,GAAG,aACCnH,EAAS,aALjB,CAMIiO,MAAO,CAACW,OAAQ,wBAEnBvO,EAAO/B,WAAamO,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAO/B,UAAUuQ,WAIlDpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,oBACA/B,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,aACL9F,GAAG,cACCnH,EAAS,cALjB,CAMIiO,MAAO,CAACW,OAAQ,wBAEnBvO,EAAO9B,YAAckO,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAO9B,WAAWsQ,WAIpDpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,oBACA/B,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,WACL9F,GAAG,YACCnH,EAAS,YALjB,CAMIiO,MAAO,CAACW,OAAQ,wBAEnBvO,EAAO5B,UAAYgO,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAO5B,SAASoQ,YAKpDpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,OACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,wBACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,cACA/B,EAAAzH,EAAA0H,cAAA,SAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACVR,KAAK,MACL9F,GAAG,OACCnH,EAAS,OAJjB,CAKIiO,MAAO,CAACW,OAAQ,uBAEhBnC,EAAAzH,EAAA0H,cAAA,UAAQxF,MAAO,KACd6E,IAEJ1L,EAAO3B,KAAO+N,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAO3B,IAAImQ,WAItCpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,wBACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,4BACA/B,EAAAzH,EAAA0H,cAAA,SAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACVR,KAAK,mBACL9F,GAAG,oBACCnH,EAAS,oBAJjB,CAKIiO,MAAO,CAACW,OAAQ,uBAEhBnC,EAAAzH,EAAA0H,cAAA,UAAQxF,MAAO,KACdgF,IAEJ7L,EAAO5B,UAAYgO,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAO5B,SAASoQ,WAIhDpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,wBACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,gCACA/B,EAAAzH,EAAA0H,cAAA,SAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACVR,KAAK,uBACL9F,GAAG,wBACCnH,EAAS,wBAJjB,CAKIiO,MAAO,CAACW,OAAQ,uBAEhBnC,EAAAzH,EAAA0H,cAAA,UAAQxF,MAAO,KACd+E,IAEJ5L,EAAOzB,sBAAwB6N,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOzB,qBAAqBiQ,YAK5EpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAW,OACZhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,uBACA/B,EAAAzH,EAAA0H,cAAA,SAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACVR,KAAK,gBACL9F,GAAG,iBACCnH,EAAS,iBAJjB,CAKIiO,MAAO,CAACW,OAAQ,uBAEhBnC,EAAAzH,EAAA0H,cAAA,UAAQxF,MAAO,KACd8E,IAEJ3L,EAAOxB,eAAiB4N,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOxB,cAAcgQ,WAI1DpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,sBACA/B,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,SACXhB,EAAAzH,EAAA0H,cAAA,aACID,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACI5H,KAAK,QACLI,MAAM,SACN+F,KAAK,cACL6B,gBAAc,GACV9O,EAAS,eALjB,CAMI+O,SAAU,SAAC3D,GAAD,OAAOS,GAAwBT,IACzC6C,MAAO,CAACW,OAAQ,wBARxB,YAYJnC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,SACXhB,EAAAzH,EAAA0H,cAAA,aACID,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACI5H,KAAK,QACLI,MAAM,YACN+F,KAAK,eACDjN,EAAS,eAJjB,CAKI+O,SAAU,SAAC3D,GAAD,OAAOS,GAAwBT,IACzC6C,MAAO,CAACW,OAAQ,wBAPxB,iBAcZnC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,aACA/B,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,MACL9F,GAAG,MACHwH,IAAK3N,GACDhB,EAAS,OANjB,CAOI+O,SAAU,SAAC3D,GAAD,OAhUtC,SAACA,GACrB,GAAIA,EAAEE,OAAOpE,MAAO,CAChB,IAAMlG,EAAQ,IAAIP,KACZuO,EAAY,IAAIvO,KAAK2K,EAAEE,OAAOpE,OAChC+H,EAAUjO,EAAMkO,cAAgBF,EAAUE,cACxCC,EAAInO,EAAMoO,WAAaJ,EAAUI,YACnCD,EAAI,GAAY,IAANA,GAAWnO,EAAMqO,UAAYL,EAAUK,YACjDJ,IAEJhP,EAAS,MAAOgP,QAEhBhP,EAAS,MAAO,MAqT6CqP,CAAgBlE,IACjC6C,MAAO,CAACW,OAAQ,wBAEnBvO,EAAOvB,KAAO2N,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOvB,IAAI+P,WAItCpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,YACA/B,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,SACLmG,KAAK,MACL9F,GAAG,OACCnH,EAAS,OALjB,CAMIuP,SAAU7N,EACVqN,SAAU,SAAC3D,GAAD,OA1TtC,SAACA,GACrB,IAAK1J,GAAe0J,EAAEE,OAAOpE,MAAO,CAChC,IAAMsI,EAAc,IAAI/O,KACxB+O,EAAYC,QAAQ,IACpBD,EAAYE,SAAS,GACrB,IACM5Q,EADS6Q,EAAOH,EAAY9O,eACf1E,KAAuB,EAAlBoP,EAAEE,OAAOpE,MAAa,SAC9CjH,EAAS,MAAOmH,YAAO,IAAI3G,KAAK3B,EAAI8Q,UAAW,gBAmTcC,CAAgBzE,IACjC6C,MAAO,CAACW,OAAQ,8BAS5CnC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,QACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,cAAcQ,MAAO,CAACtQ,gBAAgB,UAAUqQ,MAAM,OAAOE,WAAW,WACnFzB,EAAAzH,EAAA0H,cAAA,MAAIe,UAAU,cAAd,oBAGJhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,aACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAW,OACZhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,wBACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,uBACA/B,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,MACLmG,KAAK,UACL9F,GAAG,WACCnH,EAAS,WALjB,CAMI8P,YAAY,kBACZ7B,MAAO,CAACW,OAAQ,wBAEnBvO,EAAOpB,SAAWwN,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOpB,QAAQ4P,WAI9CpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,uBACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,0BACA/B,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,MACLmG,KAAK,iBACL9F,GAAG,kBACCnH,EAAS,kBALjB,CAMI8P,YAAY,kBACZ7B,MAAO,CAACW,OAAQ,wBAEnBvO,EAAOnB,gBAAkBuN,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOnB,eAAe2P,WAI5DpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,uBACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,cACA/B,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,QACLmG,KAAK,QACL9F,GAAG,SACCnH,EAAS,SALjB,CAMIiO,MAAO,CAACW,OAAQ,wBAEnBvO,EAAOlB,OAASsN,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOlB,MAAM0P,YAK9CpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,OACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,wBACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,gBACA/B,EAAAzH,EAAA0H,cAAA,SAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,UACL9F,GAAG,UACH8G,MAAO,CAACW,OAAQ,sBACZ5O,EAAS,aANjB,CAOI+O,SAAU,SAAC3D,GAAD,OAAOH,GAAgBG,MACjCqB,EAAAzH,EAAA0H,cAAA,UAAQxF,MAAO,KACdkF,IAEJ/L,EAAOqF,SAAW+G,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOqF,QAAQmJ,WAI9CpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,wBACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,cACA/B,EAAAzH,EAAA0H,cAAA,SAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,UACL9F,GAAG,UACH8G,MAAO,CAACW,OAAQ,sBACZ5O,EAAS,WANjB,CAOI+O,SAAU,SAAC3D,GAAD,OAAOI,GAAcJ,MAC/BqB,EAAAzH,EAAA0H,cAAA,UAAQxF,MAAO,KACdmF,MAKbI,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,wBACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,8BACA/B,EAAAzH,EAAA0H,cAAA,SAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,WACL9F,GAAG,WACH8G,MAAO,CAACW,OAAQ,sBACZ5O,EAAS,aACbyM,EAAAzH,EAAA0H,cAAA,UAAQxF,MAAO,KACdoF,OAMjBG,EAAAzH,EAAA0H,cAAA,OAAKe,UAAW,OACZhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,wBACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,uBACA/B,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,UACL9F,GAAG,UACH8G,MAAO,CAACW,OAAQ,sBACZ5O,EAAS,aAEhBK,EAAOjB,SAAWqN,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOjB,QAAQyP,WAI9CpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,wBACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,iBACA/B,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,WACL9F,GAAG,WACH8G,MAAO,CAACW,OAAQ,sBACZ5O,EAAS,cAEhBK,EAAOhB,UAAYoN,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOhB,SAASwP,cAO5DpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,QACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,cAAcQ,MAAO,CAACtQ,gBAAgB,UAAUqQ,MAAM,OAAOE,WAAW,WACnFzB,EAAAzH,EAAA0H,cAAA,MAAIe,UAAU,cAAd,+BAEJhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,aACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,OAEPtM,GAAYA,EAAS4F,OAAS,GAC1B0F,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,uBACXhB,EAAAzH,EAAA0H,cAAA,SAAOuB,MAAO,CAAElR,MAAO,SACnB0P,EAAAzH,EAAA0H,cAAA,aACAD,EAAAzH,EAAA0H,cAAA,UACID,EAAAzH,EAAA0H,cAAA,+BACAD,EAAAzH,EAAA0H,cAAA,kBACAD,EAAAzH,EAAA0H,cAAA,mBACAD,EAAAzH,EAAA0H,cAAA,qBACAD,EAAAzH,EAAA0H,cAAA,uBAGJD,EAAAzH,EAAA0H,cAAA,aACCvL,EAASoL,IAAI,SAACwD,EAAMvD,GACjB,OACIC,EAAAzH,EAAA0H,cAAA,MAAIC,IAAKoD,EAAKvD,OACVC,EAAAzH,EAAA0H,cAAA,UAnxBxC,SAACsD,GACrB,IAAMC,EAAe3M,GAAoBsD,KAAK,SAAAC,GAAG,OAAIA,EAAIM,IAAM6I,IAC/D,OAAOC,EAAeA,EAAatT,QAAU,GAixBqBuT,CAAgBH,EAAKC,iBAC3BvD,EAAAzH,EAAA0H,cAAA,WA1xB9CuD,EA0xB6DF,GAzxB9C9I,QAGZ,KAFCgJ,EAAaE,UAEK,KADlBF,EAAajJ,UAAYiJ,EAAajJ,UAAY,KAwxBRyF,EAAAzH,EAAA0H,cAAA,WAjxBlCnH,EAixB6DwK,EAAKxK,cAhxBtEA,EAAa2B,MAAQ,IAixBiBuF,EAAAzH,EAAA0H,cAAA,WA/wB5CtN,EA+wB6D2Q,EAAK3Q,UA9wBhEA,EAAQmI,MAAQnI,EAAQmI,KAAKR,OAAS,EAAI3H,EAAQmI,KAAK,GAAK,IA+wBlBkF,EAAAzH,EAAA0H,cAAA,UACID,EAAAzH,EAAA0H,cAAA,UAAQ5F,KAAK,SACL2G,UAAU,2CACV2C,QAAS,SAAChF,GAAD,OArmB1D,SAACiF,EAAU7D,GAClCvM,EAAS,mBAAoBoQ,EAASL,gBACtC/P,EAAS,aAAcoQ,EAASF,WAChClQ,EAAS,cAAeoQ,EAASrJ,WACjC/G,EAAS,YAAaoQ,EAASpJ,SAC/BhH,EAAS,qBAAsBoQ,EAAS9K,aAAe8K,EAAS9K,aAAa2B,MAAQ,IACrFjH,EAAS,iBAAkBoQ,EAASjR,SAAWiR,EAASjR,QAAQmI,MAAQ8I,EAASjR,QAAQmI,KAAKR,OAAS,EAAIsJ,EAASjR,QAAQmI,KAAK,GAAK,IACtIxF,IAAgB,GAChBI,GAAgBqK,GA6lBwE8D,CAAmBP,EAAMvD,KAC7CC,EAAAzH,EAAA0H,cAAC6D,EAAA,EAAD,CAAiBC,KAAK,UAJ9B,WAOI/D,EAAAzH,EAAA0H,cAAA,UACI5F,KAAK,SACL2G,UAAU,kCACV2C,QAAS,SAAChF,GAAD,OAlmBpD,SAACoB,GAC1BiE,WAAW,WACPtP,EAASuP,OAAOlE,EAAO,GACvBpL,EAAYD,GACZY,IAAgB,GAChBA,IAAgB,IACjB,KA4lBiF4O,CAAqBnE,KACrCC,EAAAzH,EAAA0H,cAAC6D,EAAA,EAAD,CAAiBC,KAAK,aA3xB3E,IAACpR,EAHUmG,EAVZ0K,OAmzBkBxD,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,uBAEP3L,IACI2K,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,QACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,aACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,OACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,CAAOC,IAAI,oBAAX,uBACAhC,EAAAzH,EAAA0H,cAAA,SAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACVR,KAAK,mBACL9F,GAAG,mBACH8G,MAAO,CAACW,OAAQ,sBACZ5O,EAAS,qBACbyM,EAAAzH,EAAA0H,cAAA,UAAQxF,MAAO,KACdiF,IAEJ9L,EAAOuQ,kBAAoBnE,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOuQ,iBAAiB/B,WAIhEpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,CAAOC,IAAI,cAAX,gBACAhC,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,aACL9F,GAAG,aACH8G,MAAO,CAACW,OAAQ,sBACZ5O,EAAS,gBAEhBK,EAAOwQ,YAAcpE,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOwQ,WAAWhC,WAIpDpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,oBACA/B,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,cACL9F,GAAG,cACH8G,MAAO,CAACW,OAAQ,sBACZ5O,EAAS,iBAEhBK,EAAOyQ,aAAerE,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAOyQ,YAAYjC,WAItDpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,oBACA/B,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,YACL9F,GAAG,YACH8G,MAAO,CAACW,OAAQ,sBACZ5O,EAAS,eAEhBK,EAAO0Q,WAAatE,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAO0Q,UAAUlC,YAKtDpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,OACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,CAAOC,IAAI,sBAAX,gBACAhC,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,qBACL9F,GAAG,qBACH8G,MAAO,CAACW,OAAQ,sBACZ5O,EAAS,wBAEhBK,EAAO2Q,oBAAsBvE,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAO2Q,mBAAmBnC,WAIpEpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,CAAOC,IAAI,gBAAX,SACAhC,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,eACL9F,GAAG,eACH8G,MAAO,CAACW,OAAQ,sBACZ5O,EAAS,kBAEhBK,EAAO4Q,cAAgBxE,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAO4Q,aAAapC,WAIxDpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,4BACXhB,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,CAAOC,IAAI,kBAAX,WACAhC,EAAAzH,EAAA0H,cAAA,QAAA5L,OAAA4N,OAAA,CACIjB,UAAU,eACV3G,KAAK,OACLmG,KAAK,iBACL9F,GAAG,iBACH8G,MAAO,CAACW,OAAQ,sBACZ5O,EAAS,oBAEhBK,EAAO6Q,gBAAkBzE,EAAAzH,EAAA0H,cAAA,SAAIrM,EAAO6Q,eAAerC,YAKhEpC,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,OACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,IACXhB,EAAAzH,EAAA0H,cAACoB,EAAA,EAAD,CACIhH,KAAK,SACLiH,QAAQ,YACRC,MAAM,UACNP,UAAWlJ,GAAQjH,OACnB8S,QA92BrC,SAAChF,GAC5B,IAAMwF,EAAmB1Q,EAAU,oBAC7B2Q,EAAa3Q,EAAU,cACvB4Q,EAAc5Q,EAAU,eACxB6Q,EAAY7Q,EAAU,aACtB8Q,EAAqB9Q,EAAU,sBAE/BgR,GADehR,EAAU,gBACRA,EAAU,mBACjC,GAAK0Q,EAIL,GAAKC,EAIL,GAAKE,EAAL,CAKA,IAAMrK,EAAU,CACZtH,QAAW,CACPmI,KAAQ,CACJ2J,IAGR3L,aAAgB,CACZuB,KAAQ,QACRI,MAAS8J,GAEb1S,UAAauS,EACbM,SAAYN,EAAa,IAAMC,EAAc,IAAMC,EACnDf,eAAkBY,EAClB3J,QAAW8J,EACX/J,UAAa8J,GAEG,MAAhB5O,IACAf,EAASuP,OAAOxO,GAAc,GAC9Bd,EAAYD,EAASiF,OAAOM,KAE5BtF,EAAYD,EAASiF,OAAOM,IAEhC3E,IAAgB,QA1BZ5B,EAAS,YAAa,CAAG2G,KAAM,SAAU+H,QAAS,wBAA0B,CAAEuC,aAAa,SAJ3FjR,EAAS,aAAc,CAAG2G,KAAM,SAAU+H,QAAS,yBAA2B,CAAEuC,aAAa,SAJ7FjR,EAAS,mBAAoB,CAAG2G,KAAM,SAAU+H,QAAS,4BAA8B,CAAEuC,aAAa,MAg2B9C,QAWJ3E,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,IACXhB,EAAAzH,EAAA0H,cAACoB,EAAA,EAAD,CACIhH,KAAK,SACLiH,QAAQ,YACRC,MAAM,YACNP,UAAWlJ,GAAQjH,OACnB8S,QA70B/B,WACjCrO,IAAgB,KAu0B4C,gBAkBhC0K,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,OACXhB,EAAAzH,EAAA0H,cAACoB,EAAA,EAAD,CACIhH,KAAK,SACLiH,QAAQ,YACRC,MAAM,UACNP,UAAWlJ,GAAQjH,OACnB6Q,UAAW1B,EAAAzH,EAAA0H,cAAC2E,EAAArM,EAAD,MACXoL,QAj5Bd,WACtBrO,IAAgB,IAi5BoBkM,MAAO,CAACtQ,gBAAgB,UAAUuQ,WAAW,WAPjD,iCAeX3M,EAASkL,EAAAzH,EAAA0H,cAAC4E,EAAA,EAAD,MAAc,GAExB7E,EAAAzH,EAAA0H,cAAA,WAGQD,EAAAzH,EAAA0H,cAACoB,EAAA,EAAD,CACIhH,KAAK,SACLiH,QAAQ,YACRC,MAAM,UACNP,UAAWlJ,GAAQjH,OACnB6Q,UAAW1B,EAAAzH,EAAA0H,cAAC6E,EAAAvM,EAAD,OAETzD,EAGEkL,EAAAzH,EAAA0H,cAAA,QAAMuB,MAAO,CAAEI,cAAe,eAA9B,aAFA5B,EAAAzH,EAAA0H,cAAA,QAAMuB,MAAO,CAAEI,cAAe,eAA9B,SAuBhB5B,EAAAzH,EAAA0H,cAACoB,EAAA,EAAD,CACIC,QAAQ,YACRN,UAAWlJ,GAAQjH,OACnB6Q,UAAW1B,EAAAzH,EAAA0H,cAAC8E,EAAAxM,EAAD,MACXoL,QAxoBP,WACjB5L,GAAQiE,KAAK,OAyoBWgE,EAAAzH,EAAA0H,cAAA,QAAMuB,MAAO,CAAEI,cAAe,eAA9B,oUCllC1BhS,GAAYC,YAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFC,OAAQF,EAAMG,QAAQ,IACtBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEhBC,KAAM,CACFC,MAAO,OACPC,UAAWT,EAAMG,QAAQ,IAE7BO,OAAQ,CACJR,OAAQF,EAAMG,QAAQ,EAAG,EAAG,IAEhCQ,WAAY,CACRC,aAAc,IAElBC,OAAQ,CACJC,OAAQ,GACRN,MAAO,KAEXO,OAAQ,CACJb,OAAQF,EAAMG,QAAQ,IAE1Ba,KAAM,CACFkU,QAAS,CACLhV,OAAQF,EAAMG,QAAQ,KAG9BgV,MAAO,CACH/U,QAAS,QAEbsM,MAAO,CACH+E,MAAO,UACP2D,SAAU,aAIdC,GAAS,GAgXEC,GA9WU,SAACnS,GACtB,IAAM6E,EAAUlI,KACVyV,EAAmBpS,EAAMoS,iBAFCvR,EAGCC,mBAAS,CAACuR,cAAe,cAAepS,UAAUD,EAAMC,UAAWqS,aAAa,GAAIC,OAAO,KAH5FpR,EAAAC,OAAAC,EAAA,EAAAD,CAAAP,EAAA,GAGzB2R,EAHyBrR,EAAA,GAGdsR,EAHctR,EAAA,GAAAI,EAIIT,mBAAS,IAJbU,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAIzBmR,EAJyBlR,EAAA,GAIbmR,EAJanR,EAAA,GAAAG,EAKFb,mBAASd,EAAMoS,kBALbxQ,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAAAiR,GAAAhR,EAAA,GAAAA,EAAA,GAMFiR,IAAM/R,UAAS,IANbgS,EAAA1R,OAAAC,EAAA,EAAAD,CAAAwR,EAAA,GAMzBG,EANyBD,EAAA,GAMhBE,EANgBF,EAAA,GAAAG,EAOMJ,IAAM/R,UAAS,GAPrBoS,EAAA9R,OAAAC,EAAA,EAAAD,CAAA6R,EAAA,GAOzBE,EAPyBD,EAAA,GAOZE,EAPYF,EAAA,GAAAG,EAQAR,IAAM/R,UAAS,GARfwS,EAAAlS,OAAAC,EAAA,EAAAD,CAAAiS,EAAA,GAQzBE,EARyBD,EAAA,GAQfE,EAReF,EAAA,GAAAG,EASFZ,IAAM/R,UAAS,GATb4S,EAAAtS,OAAAC,EAAA,EAAAD,CAAAqS,EAAA,GASzBtK,EATyBuK,EAAA,GAShBC,EATgBD,EAAA,GAAA5R,EAUJhB,mBAAS,IAVLiB,EAAAX,OAAAC,EAAA,EAAAD,CAAAU,EAAA,GAUzBnB,EAVyBoB,EAAA,GAUjB6R,EAViB7R,EAAA,GAAAG,EAYepB,mBAAS,IAZxBqB,EAAAf,OAAAC,EAAA,EAAAD,CAAAc,EAAA,GAYzB2R,EAZyB1R,EAAA,GAYP2R,EAZO3R,EAAA,GAa/BkH,QAAQC,IAAI8I,GACb,IAAM2B,EAAQ3S,OAAA4S,EAAA,EAAA5S,CAAA,GACR+H,GAAW,CACb8K,QAASC,KAAM,KACfC,UAAW,CACTF,QAASC,KAAM,QAMrB9H,oBAAU,WACNgI,IACsB,KAAnB5B,EAAUD,QACTa,GAAe,IAGlB,IAEJ,IAAMgB,EAAc,WACjB3N,IACItK,IADJ,GAAAuK,OACWC,EADX,qDAEO,CAAEC,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAE3CuY,KAAK,SAAC5O,GACHkN,EAAclN,EAASsB,QAE1BuN,MAAM,SAAC/K,OAuGf,OACIwD,EAAAzH,EAAA0H,cAAA,WACID,EAAAzH,EAAA0H,cAACuH,GAAA,EAAD,KACIxH,EAAAzH,EAAA0H,cAACwH,GAAA,EAAD,KACIzH,EAAAzH,EAAA0H,cAACyH,GAAA,EAAD,CAAOC,OAAQ1U,EAAM2U,YAAaC,OAAQ5U,EAAM6U,aAAc9G,UAAW/N,EAAM+N,UAAW+G,KAAK,MAC3F/H,EAAAzH,EAAA0H,cAAC4B,EAAA,EAAD,KACI7B,EAAAzH,EAAA0H,cAAC+H,GAAA,EAAD,CAAaH,OAAQ5U,EAAM6U,cAA3B,qBACA9H,EAAAzH,EAAA0H,cAACgI,GAAA,EAAD,KACIjI,EAAAzH,EAAA0H,cAACuH,GAAA,EAAD,KAIIxH,EAAAzH,EAAA0H,cAACwH,GAAA,EAAD,KACAzH,EAAAzH,EAAA0H,cAACiI,GAAA,EAAD,CAAK7X,MAAI,GACT2P,EAAAzH,EAAA0H,cAACW,EAAA,EAAD,MACIZ,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,GACLpI,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,CAAOC,IAAI,UAAX,kBACAhC,EAAAzH,EAAA0H,cAACoI,GAAA,EAAD,CACIhO,KAAK,SACLmG,KAAK,SACL9F,GAAG,SACH4H,SAvH3B,SAAA3D,GACjB,IAAM2J,EAAY3J,EAAEE,OAAOpE,MACrB8N,EAAelD,EAAiBlL,KAAK,SAACqO,GAAD,OAAMA,EAAEhI,OAAQ8H,IAC3DnD,GAA+B,OAArBoD,EAAelZ,IAAYuK,EAAU2O,EAAelZ,IAC9DiN,QAAQC,IAAI4I,IACZO,EAAarR,OAAA4S,EAAA,EAAA5S,CAAA,GAAIoR,EAAL,CAAgBD,OAAO8C,KACnC5O,IACItK,IADJ,GAAAuK,OACWwL,GADX,mCAAAxL,OACqD2O,GAC9C,CAAEzO,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAE3CuY,KAAK,SAAC5O,GACwB,UAA3BA,EAASsB,KAAKyO,UACbtM,IAAMK,MAAM9D,EAASsB,KAAK0O,UAAY,gBAGtCrC,GAAe,KAGnBkB,MAAM,SAAC/K,OAsGiC/B,MAAOgL,EAAUD,OACjB7T,UAAQ,GAEZqO,EAAAzH,EAAA0H,cAAA,UAAQxF,MAAM,IAAd,kBACC4K,EAAiBvF,IAAI,SAAA6I,GAAA,IAAGjO,EAAHiO,EAAGjO,GAAI8F,EAAPmI,EAAOnI,KAAP,OAClBR,EAAAzH,EAAA0H,cAAA,UAAQC,IAAKxF,EAAID,MAAO+F,GACnBA,MAKK,KAAjB5M,EAAO4R,OACJxF,EAAAzH,EAAA0H,cAAA,QAAMe,UAAWlJ,EAAQ0E,OAAQ5I,EAAO4R,QACxC,KAGPY,EACDpG,EAAAzH,EAAA0H,cAAAD,EAAAzH,EAAAoI,SAAA,KACIX,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,GACTpI,EAAAzH,EAAA0H,cAAC6B,EAAA,EAAD,KACI9B,EAAAzH,EAAA0H,cAAC8B,EAAA,EAAD,CAAOC,IAAI,UAAX,iBACAhC,EAAAzH,EAAA0H,cAACoI,GAAA,EAAD,CACIhO,KAAK,SACLmG,KAAK,eACL9F,GAAG,eACH4H,SA1HrB,SAAA3D,GACvB+G,EAAYrR,OAAA4S,EAAA,EAAA5S,CAAA,GAAMoR,EAANpR,OAAAuU,EAAA,EAAAvU,CAAA,GAAmBsK,EAAEE,OAAO2B,KAAO7B,EAAEE,OAAOpE,UA0HZA,MAAOgL,EAAUF,aACjB5T,UAAQ,GAEZqO,EAAAzH,EAAA0H,cAAA,UAAQxF,MAAM,IAAd,kBAECkL,EAAW7F,IAAI,SAACrF,GAAD,OACZuF,EAAAzH,EAAA0H,cAAA,UAAQC,IAAKzF,EAAMC,GAAID,MAAOA,EAAMvK,SAC/BuK,EAAMvK,YAIK,KAAvB0D,EAAO2R,aACJvF,EAAAzH,EAAA0H,cAAA,QAAMe,UAAWlJ,EAAQ0E,OAAQ5I,EAAO2R,cACxC,KAKRvF,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,GAETpI,EAAAzH,EAAA0H,cAACoB,EAAA,EAAD,CACIhH,KAAK,SACLiH,QAAQ,YACRC,MAAM,UACNoC,QArIlB,SAAChF,GACnBA,EAAEkK,iBAXW,WACb,IAAIC,EAAIzU,OAAA4S,EAAA,EAAA5S,CAAA,GAAQT,GAMhB,OALAkV,EAAKvD,aAAeE,EAAUF,aAAe,GAAK,yBAClDuD,EAAKtD,OAASC,EAAUD,OAAS,GAAK,yBACtCqB,EAAUxS,OAAA4S,EAAA,EAAA5S,CAAA,GACHyU,IAEAzU,OAAO0U,OAAOD,GAAME,MAAM,SAAAR,GAAC,MAAS,IAALA,IAKnCS,IACCvP,IAAMwC,KAAN,GAAAvC,OAAcwL,GAAd,oDAAyEM,EACzE,CAAE5L,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAErCuY,KAAK,SAAA5O,GAEF,GADAuN,GAAW,GACc,UAAtBvN,EAASsB,KAAKK,KACf4L,GAAW,GACXQ,GAAY,GACZxX,OAAO+U,WAAW,WACdyC,GAAY,IACX,KACLtK,IAAMK,MAAM9D,EAASsB,KAAKoI,QAAQ8G,WAC/B,CACH,IAAM3D,EAAc7M,EAASsB,KAAKuL,aAClCkB,GAAY,GACZG,GAAW,GACX3X,OAAO+U,WAAW,WACd4C,GAAW,GACXX,GAAW,IACV,KAELc,EAAmB,GAAApN,OAAAtF,OAAA8U,GAAA,EAAA9U,CAAKyS,GAAL,CAAuBpO,EAASsB,QACnD2L,EAAW1B,OAAOsB,EAAc,GAChCK,EAAcvR,OAAA8U,GAAA,EAAA9U,CAAIsR,OAIvB4B,MAAM,SAAA/K,OAwGuBwE,UAAW,OACXU,UAAW1B,EAAAzH,EAAA0H,cAACmJ,GAAA7Q,EAAD,OANf,mBAYAyH,EAAAzH,EAAA0H,cAAA,YAKA,GAGAD,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKkB,GAAG,KAAKjB,GAAI,CAAEL,KAAM,EAAGuB,OAAQ,IAEtCtD,GACEhG,EAAAzH,EAAA0H,cAAAD,EAAAzH,EAAAoI,SAAA,KACCX,EAAAzH,EAAA0H,cAACsJ,GAAA,EAAD,CAAKC,GAAI,CAAEtZ,QAAS,OAAQE,WAAY,WACrC4P,EAAAzH,EAAA0H,cAACsJ,GAAA,EAAD,CAAKC,GAAI,CAAE9G,EAAG,EAAGjG,SAAU,aACvBuD,EAAAzH,EAAA0H,cAACwJ,GAAA,EAAD,CACAC,aAAW,OACXnI,MAAM,YACNiI,GAAIxC,GAGH5K,EAAU4D,EAAAzH,EAAA0H,cAAC0J,GAAApR,EAAD,MAAgByH,EAAAzH,EAAA0H,cAACmJ,GAAA7Q,EAAD,OAE1ByN,GACDhG,EAAAzH,EAAA0H,cAAC2J,GAAA,EAAD,CACI7B,KAAM,GACNyB,GAAI,CACJjI,MAAO4F,KAAM,KACb1K,SAAU,WACVoN,KAAM,EACNC,MAAO,EACPC,OAAQ,MAKhB/J,EAAAzH,EAAA0H,cAAC+J,GAAA,EAAD,CAAY1I,QAAQ,KAAK2I,cAAY,EAACC,UAAU,OAC/C9N,EAAO,UAAAzC,OAAY8L,EAAUF,aAAtB,2CAAA5L,OAA8E8L,EAAUF,aAAxF,0BAMXiB,GACDxG,EAAAzH,EAAA0H,cAAAD,EAAAzH,EAAAoI,SAAA,KAGCX,EAAAzH,EAAA0H,cAACsJ,GAAA,EAAD,CAAKC,GAAI,CAAEtZ,QAAS,OAAQE,WAAY,WACrC4P,EAAAzH,EAAA0H,cAACsJ,GAAA,EAAD,CAAKC,GAAI,CAAE9G,EAAG,EAAGjG,SAAU,aACvBuD,EAAAzH,EAAA0H,cAACwJ,GAAA,EAAD,CACAC,aAAW,OACXnI,MAAM,YACNiI,GAAIxC,GAGHhH,EAAAzH,EAAA0H,cAACmJ,GAAA7Q,EAAD,OAEAiO,GACDxG,EAAAzH,EAAA0H,cAAC2J,GAAA,EAAD,CACI7B,KAAM,GACNyB,GAAI,CACJjI,MAAO4I,KAAI,KACX1N,SAAU,WACVoN,KAAM,EACNC,MAAO,EACPC,OAAQ,MAKhB/J,EAAAzH,EAAA0H,cAAC+J,GAAA,EAAD,CAAY1I,QAAQ,KAAK2I,cAAY,EAACC,UAAU,OAAhD,gCAaRlK,EAAAzH,EAAA0H,cAACiI,GAAA,EAAD,KACFpB,EAAiBxM,QAAS,EACvB0F,EAAAzH,EAAA0H,cAAAD,EAAAzH,EAAAoI,SAAA,KACDX,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,IACLpI,EAAAzH,EAAA0H,cAAA,oCAEJD,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,GAAI5G,MAAO,CAACjR,UAAU,SAC3ByP,EAAAzH,EAAA0H,cAACmK,GAAA,EAAD,CAAMC,QAAM,EAACC,YAAU,GAClBxD,EAAiBhH,IAAI,SAAC0I,GAAD,OAClBxI,EAAAzH,EAAA0H,cAACmK,GAAA,EAAKG,KAAN,KAEIvK,EAAAzH,EAAA0H,cAACmK,GAAA,EAAKI,QAAN,SAAexK,EAAAzH,EAAA0H,cAACmJ,GAAA7Q,EAAD,CAAiBiJ,MAAO,CAACD,MAAM,UAAW2D,SAAU,MAAOsD,EAAEjD,mBAmB5FvF,EAAAzH,EAAA0H,cAAA,WAAKD,EAAAzH,EAAA0H,cAAA,WAAKD,EAAAzH,EAAA0H,cAAA,WAAKD,EAAAzH,EAAA0H,cAAA,WAAKD,EAAAzH,EAAA0H,cAAA,WAAKD,EAAAzH,EAAA0H,cAAA,WACrBD,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,IACLpI,EAAAzH,EAAA0H,cAACoB,EAAA,EAAD,CACIhH,KAAK,SACLiH,QAAQ,YACRC,MAAM,UACNoC,QA/NrB,SAAChF,GAEpB,GADAA,EAAEkK,iBACC/B,EAAiBxM,OAAS,EAAE,CAC3B,IAAMmQ,EAAa3D,EAAiBA,EAAiBxM,OAAS,GAC9DZ,IAAMwC,KAAN,GAAAvC,OAAcC,EAAd,wBAA4C6Q,EAC5C,CAAE5Q,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAErCuY,KAAK,SAAA5O,GACJyD,IAAMC,QAAQ,6BACd2K,EAAoB,IACpB9T,EAAMyX,2BAA0B,GAChCzX,EAAM6U,iBAETP,MAAM,SAAA/K,GACHL,IAAMK,MAAM,+BAIhBL,IAAMK,MAAM,sCA+MwBkF,UAAW1B,EAAAzH,EAAA0H,cAAC6E,EAAAvM,EAAD,OANf,kBAcJ,aCzIzBoS,mBAlRA,SAAA7a,GAAK,MAAK,CACrBgB,KAAM,CACFR,MAAO,QAEXsa,QAAS,CACL1F,SAAUpV,EAAM+a,WAAWC,QAAQ,KAEvCC,iBAAkB,CACd7F,SAAUpV,EAAM+a,WAAWC,QAAQ,IACnCvJ,MAAOzR,EAAMqB,QAAQ6Z,KAAKC,WAE9BlH,KAAM,CACFmH,cAAe,SACfta,OAAQ,GACRN,MAAO,IAEX6a,QAAS,CACL/a,WAAY,UAEhBgb,OAAQ,CACJC,UAAW,UAEfC,OAAQ,CACJC,WAAU,aAAA5R,OAAe7J,EAAMqB,QAAQqa,SACvCC,QAAO,GAAA9R,OAAK7J,EAAMG,QAAQ,GAAnB,OAAA0J,OAA8C,EAAnB7J,EAAMG,QAAQ,GAAzC,OAEXyb,KAAM,CACFnK,MAAOzR,EAAMqB,QAAQwa,QAAQC,KAC7BC,eAAgB,OAChBzE,UAAW,CACPyE,eAAgB,gBAoPblB,CA/Of,SAAqB1X,GAAO,IAChB6E,EAAY7E,EAAZ6E,QACFgU,EAAa7Y,EAAM6Y,WAAa7Y,EAAM6Y,WAAa,GACnDC,EAAa9Y,EAAM8Y,YAAc9Y,EAAM8Y,YAAc,GAHnCjY,EAIEC,oBAAS,GAJXK,EAAAC,OAAAC,EAAA,EAAAD,CAAAP,EAAA,GAIjBkY,EAJiB5X,EAAA,GAIV6X,EAJU7X,EAAA,GAAAI,EAKmCT,mBAASd,EAAM6Y,WAAWI,iBAL7DzX,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAKjB2X,EALiB1X,EAAA,GAKOiW,EALPjW,EAAA,GAAAG,EAQsBb,oBAAS,GAR/Bc,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAQjBsX,EARiBrX,EAAA,GAQAuX,EARAvX,EAAA,GAAAE,EASMhB,mBAAS,IATfiB,EAAAX,OAAAC,EAAA,EAAAD,CAAAU,EAAA,GASjBsX,EATiBrX,EAAA,GASRsX,EATQtX,EAAA,GAUxBqK,oBAAU,WACNgI,KACD,IAEH,IAqDoB1U,EArDd0U,EAAc,WAChB3N,IACKtK,IADL,GAAAuK,OACYC,EADZ,sCAEQ,CAAEC,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAE3CuY,KAAK,SAAC5O,GACH4D,QAAQC,IAAI7D,EAASsB,MACrBoS,EAAmB1T,EAASsB,OACT,IAAhBtB,EAASsB,MACRN,IACKtK,IADL,GAAAuK,OACYC,EADZ,sBAEQ,CAAEC,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAE3CuY,KAAK,SAAC5O,GACH4T,EAAW5T,EAASsB,QAGvBuN,MAAM,SAAC/K,GACJF,QAAQC,IAAIC,OAK3B+K,MAAM,SAAC/K,OAyChB,OACIwD,EAAAzH,EAAA0H,cAAA,OAAKe,UAAWlJ,EAAQhH,MACpBkP,EAAAzH,EAAA0H,cAACsM,EAAA,EAAD,CAAWC,iBAAe,GACtBxM,EAAAzH,EAAA0H,cAACwM,EAAA,EAAD,KAEIzM,EAAAzH,EAAA0H,cAACiI,GAAA,EAAD,KAEIlI,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,IACLpI,EAAAzH,EAAA0H,cAACiI,GAAA,EAAD,CAAKlH,UAAW,QACZhB,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,GAAIpH,UAAWlJ,EAAQ4U,OAC5B1M,EAAAzH,EAAA0H,cAAA,KAAGuB,MAAO,CAAC0D,SAAU,SAChB4G,EAAWtR,QAAU,KAAOsR,EAAWja,UAAY,IAAMia,EAAWvR,YAI7EyF,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,EAAGpH,UAAWlJ,EAAQ4U,OAC3B1M,EAAAzH,EAAA0H,cAAA,YACK,IADL,qBAEsBD,EAAAzH,EAAA0H,cAAA,SAtD5B,SAAC/F,GACvB,IAAMtI,EAAiBsI,EAAWA,WAAWC,KAAK,SAAAC,GAAG,MAAgB,kBAAZA,EAAIC,OAC7D,OAAOzI,EAAiBA,EAAe6I,MAAQ,GAoDOkS,CAAkBb,EAAW5R,eAI3D8F,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,EAAGpH,UAAWlJ,EAAQ4U,OAC3B1M,EAAAzH,EAAA0H,cAAA,+BACoBD,EAAAzH,EAAA0H,cAAA,SAAI6L,EAAWxZ,eAGvC0N,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,EAAGpH,UAAWlJ,EAAQ4U,OAC/B1M,EAAAzH,EAAA0H,cAAA,YACK,IADL,SAEUD,EAAAzH,EAAA0H,cAAA,SA7DhB,SAAA5N,GAClB,IAAMkC,EAAQ,IAAIP,KAEZuO,GADYlQ,EAAIua,MAAM,KACV,IAAI5Y,KAAK3B,IACvBmQ,EAAUjO,EAAMkO,cAAgBF,EAAUE,cACxCC,EAAInO,EAAMoO,WAAaJ,EAAUI,WAIvC,OAHID,EAAI,GAAY,IAANA,GAAWnO,EAAMqO,UAAYL,EAAUK,YACjDJ,IAEY,IAAZA,EACOE,EAAI,YAERF,EAAU,WAiDqBqK,CAAcf,EAAWxZ,gBAGvC0N,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,GACTpI,EAAAzH,EAAA0H,cAAA,YACK,IADL,WAEa,IACTD,EAAAzH,EAAA0H,cAAA,SAAI6L,EAAW5S,OAAOhJ,UAEtB8P,EAAAzH,EAAA0H,cAAC6M,EAAA,EAAD,CAAOvL,MAAO,QAASwG,KAAM,QAA7B,iBAEI/H,EAAAzH,EAAA0H,cAAC6M,EAAA,EAAMC,OAAP,iBAGR/M,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,EAAGpH,UAAWlJ,EAAQ4U,OAC/B1M,EAAAzH,EAAA0H,cAAA,YACK,IADL,kBAEmBD,EAAAzH,EAAA0H,cAAA,SA/D9B,SAACnH,GACd,IAAMkU,EAAelU,EAAaA,aAAaqB,KAAK,SAAAC,GAAG,MAAgB,SAAZA,EAAIC,OAC/D,OAAO2S,EAAeA,EAAavS,MAAQ,GA6DIwS,CAASnB,EAAWhT,iBAG3CkH,EAAAzH,EAAA0H,cAACkI,GAAA,EAAD,CAAKC,GAAI,EAAGpH,UAAWlJ,EAAQ4U,OAC/B1M,EAAAzH,EAAA0H,cAAA,YACK,IADL,aAEcD,EAAAzH,EAAA0H,cAAA,UAhEtBtN,EAgEqCmZ,EAAWnZ,UA/DxCA,EAAQA,SAAWA,EAAQA,QAAQ2H,OAAS,EAAI3H,EAAQA,QAAQ,GAAGkI,KAAO,KA+D5D,WAW9BmF,EAAAzH,EAAA0H,cAACiN,EAAA,EAAD,CAAkBlM,UAAWlJ,EAAQqT,SACjCnL,EAAAzH,EAAA0H,cAAA,OAAKe,UAAWlJ,EAAQsT,QACpBpL,EAAAzH,EAAA0H,cAACkN,GAAA,EAAD,CACI5L,MAAM,MACN6L,QAAQ,YAERC,MAAO,CAAEC,OAAO,EAAM/L,MAAO,MAAOgM,SAAU,OAAQH,QAAS,UAIvEpN,EAAAzH,EAAA0H,cAAA,OAAKe,UAAWlJ,EAAQsT,QACpBpL,EAAAzH,EAAA0H,cAACkN,GAAA,EAAD,CACIG,OAAK,EACL/L,MAAM,OACN6L,QAAQ,SACRrJ,KAAK,OACLsJ,MAAO,CACHG,GAAI,IACJF,OAAO,EACP/L,MAAO,OACPgM,SAAU,OACVH,QAAS,cAIrBpN,EAAAzH,EAAA0H,cAAA,OAAKe,UAAWlJ,EAAQsT,QACpBpL,EAAAzH,EAAA0H,cAACkN,GAAA,EAAD,CACIG,OAAK,EACL/L,MAAM,OACN6L,QAAQ,SACRrJ,KAAK,OACLsJ,MAAO,CACHG,GAAI,IACJF,OAAO,EACP/L,MAAO,OACPgM,SAAU,OACVH,QAAS,eAIF,IAAlBlB,EACOlM,EAAAzH,EAAA0H,cAAAD,EAAAzH,EAAAoI,SAAA,KACIX,EAAAzH,EAAA0H,cAAA,WACID,EAAAzH,EAAA0H,cAACwN,EAAA,EAAD,CAAYnM,QAAQ,WAChBtB,EAAAzH,EAAA0H,cAAC6M,EAAA,EAAD,CAAOvL,OAAgC,IAAzB4K,EAA+B,QAAU,MAAOpE,KAAM,QAApE,mBAEI/H,EAAAzH,EAAA0H,cAAC6M,EAAA,EAAMC,OAAP,MAAwC,IAAzBZ,EAA+B,WAAa,iBAErC,IAAzBA,EAEOnM,EAAAzH,EAAA0H,cAAAD,EAAAzH,EAAAoI,SAAA,KACKoL,EAAY2B,SAAS,qBAAuB3B,EAAY2B,SAAS,kBAC1D1N,EAAAzH,EAAA0H,cAAAD,EAAAzH,EAAAoI,SAAA,KACIX,EAAAzH,EAAA0H,cAAC6M,EAAA,EAAD,CAAOU,GAAG,IAAIjM,MAAM,OAAOoC,QAAS,kBAA6BmI,EAAWpR,QAxHpIuR,GAAUD,IAwH+H2B,KAAG,GAApF,gBAKP,IAIZ,MAQrB3N,EAAAzH,EAAA0H,cAAAD,EAAAzH,EAAAoI,SAAA,KACIX,EAAAzH,EAAA0H,cAAA,WACID,EAAAzH,EAAA0H,cAACwN,EAAA,EAAD,CAAYnM,QAAQ,WAChBtB,EAAAzH,EAAA0H,cAAC6M,EAAA,EAAD,CAAOvL,MAAO,MAAOwG,KAAM,QAA3B,6BAUpB/H,EAAAzH,EAAA0H,cAAC2N,EAAA,EAAD,MACA5N,EAAAzH,EAAA0H,cAAC4N,EAAA,EAAD,OAIJ7N,EAAAzH,EAAA0H,cAAC6N,GAAD,CAAkBlG,YAAaoE,EAAOlE,aAhO1B,kBAAMmE,GAAUD,IAgOqC9Y,UAAW4Y,EAAWpR,GAAI2K,iBAAkBgH,EAAS3B,0BAA2BA,wNCxPvJ3G,GAAO/D,EAAAzH,EAAA0H,cAAC8N,GAAAxV,EAAD,CAA0B2M,SAAS,UAC1C8I,GAAchO,EAAAzH,EAAA0H,cAACgO,GAAA1V,EAAD,CAAc2M,SAAS,UAqCrCgJ,GAAqB,CACvB,CAAEC,MAAO,KAAMC,WAAY,KAAM9d,MAAO,IACxC,CACI6d,MAAO,YACPC,WAAY,aACZ9d,MAAO,IACP+d,UAAU,GAEd,CACIF,MAAO,WACPC,WAAY,YACZ9d,MAAO,IACP+d,UAAU,GAEd,CACIF,MAAO,MACPC,WAAY,MACZ/T,KAAM,SACN/J,MAAO,IACP+d,UAAU,IAKZC,GAAe,GAMjBC,GAAU,IAAIva,KAsbH2W,mBAvfA,SAAA7a,GAAK,MAAK,CACrBgB,KAAM,CACFR,MAAO,QAEXsa,QAAS,CACL1F,SAAUpV,EAAM+a,WAAWC,QAAQ,KAEvCC,iBAAkB,CACd7F,SAAUpV,EAAM+a,WAAWC,QAAQ,IACnCvJ,MAAOzR,EAAMqB,QAAQ6Z,KAAKC,WAE9BlH,KAAM,CACFmH,cAAe,SACfta,OAAQ,GACRN,MAAO,IAEX6a,QAAS,CACL/a,WAAY,UAEhBgb,OAAQ,CACJC,UAAW,UAEfC,OAAQ,CACJC,WAAU,aAAA5R,OAAe7J,EAAMqB,QAAQqa,SACvCC,QAAO,GAAA9R,OAAK7J,EAAMG,QAAQ,GAAnB,OAAA0J,OAA8C,EAAnB7J,EAAMG,QAAQ,GAAzC,OAEXyb,KAAM,CACFnK,MAAOzR,EAAMqB,QAAQwa,QAAQC,KAC7BC,eAAgB,OAChBzE,UAAW,CACPyE,eAAgB,gBAydblB,CArbf,SAA0B1X,GAAO,IAAAa,EACCC,mBAAS,IADVK,EAAAC,OAAAC,EAAA,EAAAD,CAAAP,EAAA,GACtBkS,EADsB5R,EAAA,GAEzB2D,GAFyB3D,EAAA,GAEf4D,eACNF,EAAY7E,EAAZ6E,QACFgU,EAAa/T,EAAQ7I,UAAY6I,EAAQ7I,SAAS0I,MAAQG,EAAQ7I,SAAS0I,MAAMkU,WAAa,GAC9FC,EAAchU,EAAQ7I,UAAY6I,EAAQ7I,SAAS0I,MAAQG,EAAQ7I,SAAS0I,MAAMmU,YAAc,GALzE5Y,EAMKC,cANLoB,GAAArB,EAMrBQ,aANqBR,EAMPqb,QACIza,oBAAS,IAPNU,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAOtBwX,EAPsBvX,EAAA,GAOfwX,EAPexX,EAAA,GAAAG,EAQYb,oBAAS,GARrBc,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAQtB6Z,EARsB5Z,EAAA,GAQP6Z,EARO7Z,EAAA,GAAAE,EASahB,oBAAS,GATtBiB,EAAAX,OAAAC,EAAA,EAAAD,CAAAU,EAAA,GAStB4Z,EATsB3Z,EAAA,GASP4Z,EATO5Z,EAAA,GAAAG,EAUEpB,mBAAS,IAVXqB,EAAAf,OAAAC,EAAA,EAAAD,CAAAc,EAAA,GAUtB0Z,EAVsBzZ,EAAA,GAUZ0Z,EAVY1Z,EAAA,GAAAG,EAWkBxB,mBAAS,CAACgb,gBAAgB,KAX5CvZ,EAAAnB,OAAAC,EAAA,EAAAD,CAAAkB,EAAA,GAWtByZ,EAXsBxZ,EAAA,GAWJyZ,EAXIzZ,EAAA,GAAAG,EAYY5B,mBAAS,IAZrB6B,EAAAvB,OAAAC,EAAA,EAAAD,CAAAsB,EAAA,GAYtBuZ,EAZsBtZ,EAAA,GAYPuZ,EAZOvZ,EAAA,GAAAG,EAaShC,mBAAS,CAC3Cqb,WAAY,EACZC,SAAU,GACVC,aAAa3U,YAAO,IAAI3G,KAAKua,IAAU,cACvCgB,eAAe,KAjBUvZ,EAAA3B,OAAAC,EAAA,EAAAD,CAAA0B,EAAA,GAAAI,GAAAH,EAAA,GAAAA,EAAA,GAmBOjC,mBAAS,CACzCyb,WAAW,GACXC,SAAU,CACNL,WAAY,EACZC,SAAUvD,EAAWpR,GACrB4U,aAAc,GACdC,eAAgB5U,YAAO,IAAI3G,KAAKua,IAAU,kBAzBrBnY,EAAA/B,OAAAC,EAAA,EAAAD,CAAA8B,EAAA,GAmBtBuZ,EAnBsBtZ,EAAA,GA6BvBuZ,IA7BuBvZ,EAAA,GA6BRgC,sBAAW/D,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAC,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAe,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEFC,IAAMtK,IAAN,GAAAuK,OAAaC,EAAb,wBAA4C,CAAEC,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAFlF,OAEnB2J,EAFmBa,EAAAQ,KAGzB+U,EAAYpW,EAASsB,MAHIT,EAAAE,KAAA,uBAAAF,EAAAC,KAAA,EAAAD,EAAA8C,GAAA9C,EAAA,SAAAA,EAAAE,KAAA,GAKnBmW,KAAKC,KAAK,CACZ9L,KAAM,QACN+L,MAAO,UACP9E,KAAM,yCARe,yBAAAzR,EAAAwB,SAAAtC,EAAA,iBAW9B,KACGsX,GAAoB3X,sBAAW/D,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAC,SAAA0C,IAAA,IAAAxC,EAAA,OAAAJ,EAAAC,EAAAe,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,cAAA2B,EAAA5B,KAAA,EAAA4B,EAAA3B,KAAA,EAEPC,IAAMtK,IAAN,GAAAuK,OAAaC,EAAb,+BAAAD,OAAkDmS,EAAWpR,IAAM,CAAEb,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAFpG,OAExB2J,EAFwB0C,EAAArB,KAG9BoV,EAAiBzW,EAASsB,MAC1BtB,EAASsB,KAAK8F,IAAI,SAACkQ,GACU,OAAtBA,EAAOC,cACNvB,GAAiB,KANKtT,EAAA3B,KAAA,uBAAA2B,EAAA5B,KAAA,EAAA4B,EAAAiB,GAAAjB,EAAA,SAAAA,EAAA3B,KAAA,GAYxBmW,KAAKC,KAAK,CACZ9L,KAAM,QACN+L,MAAO,UACP9E,KAAM,yCAfoB,yBAAA5P,EAAAL,SAAAG,EAAA,iBAkBnC,IAEHmE,oBAAU,WACNsQ,KACAI,MACD,CAACJ,GAAcI,KAGdlB,GAAYA,EAASvU,OAAS,GACbuU,EAAS/O,IAAI,SAACoQ,EAASnQ,GAAV,OAC1BC,EAAAzH,EAAA0H,cAACkQ,GAAA,EAAD,CAAUjQ,IAAKgQ,EAAQE,kBAAmB3V,MAAOyV,EAAQE,mBAAoBF,EAAQG,qBAO7F,IA2BMC,GAAQ,CACV,CAAEC,SAAU,gBAAiBC,OAAQ,kBAC7BxQ,EAAAzH,EAAA0H,cAACwQ,GAAA,EAAIC,KAAL,KAEI1Q,EAAAzH,EAAA0H,cAAC0Q,GAAApY,EAAD,CACIuX,MAAM,GACNc,QAAS,CACL,CACId,MAAO,kBACP3B,MAAO,cAAe0C,WAAW,GAErC,CAAEf,MAAO,iBAAkB3B,MAAO,eAAgB0C,WAAW,GAC7D,CAAEf,MAAO,UAAW3B,MAAO,UAAW0C,WAAW,GACjD,CAAEf,MAAO,SAAU3B,MAAO,SAAU0C,WAAW,IAEnDC,UAAW9K,EACXhM,KAAMkV,EAAcpP,IAAI,SAACiR,GAAD,MAAU,CAC9BC,YAAaD,EAAIC,YACjBf,aAAcc,EAAId,aAClBC,QAAQa,EAAIb,QACZe,OAAQjR,EAAAzH,EAAA0H,cAAC6M,EAAA,EAAD,CAAOvL,MAAqB,cAAdwP,EAAIE,OAAwB,QAAU,MAAOlJ,KAAK,QAAQgJ,EAAIE,WAIxFC,QAAS,CACLC,YAAa,CACTjgB,gBAAiB,OACjBqQ,MAAO,WAEXpS,QAAQ,EAKR0hB,WAAW,EACXO,cAAc,EACdC,qBAAsB,OACtBC,gBAAgB,CAAC,GAAG,GAAG,KACvBC,SAAS,GACTC,iBAAkB,UAMtC,CAAEjB,SAAUxE,EAAY2B,SAAS,6BAA+B3B,EAAY2B,SAAS,kBAAoB,eAAiB,GAAI8C,OAAQ,kBAC9HzE,EAAY2B,SAAS,6BAA+B3B,EAAY2B,SAAS,kBACrE1N,EAAAzH,EAAA0H,cAACwQ,GAAA,EAAIC,KAAL,KACI1Q,EAAAzH,EAAA0H,cAAA,OAAKuB,MAAO,CAAE5Q,OAAQ,IAAKN,MAAO,SAC9B0P,EAAAzH,EAAA0H,cAACwR,GAAA,EAAD,CACIC,KAAMpD,GACNsC,QAAS1C,GACTqD,SAAU,EACVI,mBAAoB,CAAC,GACrBC,mBAAiB,EACjBC,yBAAuB,MAIlC,MAaXC,GAAkB,WACpB7F,GAAS,IAEP8F,GAAmB,WACrBnD,GAAiB,IAuDjBoD,GAAoB,GAmDxB,OACIhS,EAAAzH,EAAA0H,cAAA,OAAKe,UAAWlJ,EAAQhH,MACpBkP,EAAAzH,EAAA0H,cAACgS,GAAA,EAAD,KACIjS,EAAAzH,EAAA0H,cAACiS,GAAA,EAAD,KAEIlS,EAAAzH,EAAA0H,cAACkS,GAAD,CAAmBrG,WAAYA,EAAYC,YAAaA,IACxD/L,EAAAzH,EAAA0H,cAACgS,GAAA,EAAD,KACIjS,EAAAzH,EAAA0H,cAACiS,GAAA,EAAD,KACIlS,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,OACXhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,iBAAf,QAGAhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,iBAAf,QAGAhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,iBAAf,QAGAhB,EAAAzH,EAAA0H,cAAA,OAAKe,UAAU,iBACXhB,EAAAzH,EAAA0H,cAACiB,EAAA,EAAD,CAAMC,GAAI,KACNnB,EAAAzH,EAAA0H,cAACoB,EAAA,EAAD,CACIC,QAAQ,YACRC,MAAM,UACNP,UAAU,qBACVhB,EAAAzH,EAAA0H,cAAA,QAAMuB,MAAO,CAAEI,cAAe,eAA9B,UAGPmK,EAAY2B,SAAS,qBAAuB3B,EAAY2B,SAAS,kBAC1D1N,EAAAzH,EAAA0H,cAAAD,EAAAzH,EAAAoI,SAAA,MACqB,IAAhB8N,EACOzO,EAAAzH,EAAA0H,cAACmS,GAAA,EAAD,CACI9Q,QAAQ,YACRE,MAAO,CAAEtQ,gBAAiB,SAC1ByS,QAtJlC,WAClBsI,GAAS,IAsJ2CjL,UAAU,qBAEVhB,EAAAzH,EAAA0H,cAAA,QAAMuB,MAAO,CAAEI,cAAe,eAA9B,YAIR,IAIX,IAEY,IAAhB6M,EACOzO,EAAAzH,EAAA0H,cAACmS,GAAA,EAAD,CACI9Q,QAAQ,YACRE,MAAO,CAAEtQ,gBAAiB,SAC1ByS,QApKrB,WACnBiL,GAAiB,IAoKuB5N,UAAU,qBAEVhB,EAAAzH,EAAA0H,cAAA,QAAMuB,MAAO,CAAEI,cAAe,eAA9B,aAIR,KAKZ5B,EAAAzH,EAAA0H,cAACwQ,GAAA,EAAD,CAAKH,MAAOA,SAK5BtQ,EAAAzH,EAAA0H,cAACyH,GAAA,EAAD,CAAOC,OAAQqE,EAAOnE,OAAQiK,IAC1B9R,EAAAzH,EAAA0H,cAAC+H,GAAA,EAAD,CAAaH,OAAQiK,IAArB,yBACA9R,EAAAzH,EAAA0H,cAACgI,GAAA,EAAD,KACIjI,EAAAzH,EAAA0H,cAAA,QAAMjF,SAvHM,SAAC2D,GACzBA,EAAEkK,iBACFmG,EAAiBD,gBAAgBzU,OAAS,GAAK0U,EAAiBD,gBAAgBjP,IAAI,SAACoQ,GAEjE,OAAbA,EAAQxV,KACPsX,GAAkBhW,KAAKkU,EAAQxV,IAC/B4B,QAAQC,IAAI2T,MAGpBR,EAAWF,WAAYwC,GACvBtY,IAAMwC,KAAN,GAAAvC,OAAcC,EAAd,yBAA8C8V,EAC1C,CAAE7V,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAGvCuY,KAAK,SAAA5O,GACFyD,IAAMC,QAAQ,+BACdsS,GAAiB,GACjBoD,KACA/B,OAEHxI,MAAM,SAAA/K,GACHF,QAAQC,IAAIC,GACZL,IAAMK,MAAM,wBACZsV,SAiGQ9R,EAAAzH,EAAA0H,cAACoS,GAAA,EAAD,CACI7Q,MAAO,CACHtR,QAAS,OACToiB,WAAY,OACZ7G,QAAS,OACTzb,OAAQ,cAEZgQ,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMC,WAAS,EAACviB,QAAS,GACrB+P,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GACXzS,EAAAzH,EAAA0H,cAACyS,GAAA,EAAD,KAEI1S,EAAAzH,EAAA0H,cAAC0S,GAAA,EAAD,CACIC,UAAQ,EACRlY,GAAG,uBACHwW,QAASrC,EAETgE,eAAgB,SAACC,GAAD,OAAYA,EAAOzC,mBACnC/N,SAAU,SAAC3D,EAAGoU,GACVzW,QAAQC,IAAIwW,GACZ9D,EAAoB5a,OAAA4S,EAAA,EAAA5S,CAAA,GAAK2a,EAAN,CAAwBD,gBAAiBgE,MAEhEC,aAAc,SAAC/f,EAAO6f,EAARG,GAAA,IAAkBC,EAAlBD,EAAkBC,SAAlB,OACVlT,EAAAzH,EAAA0H,cAAA,KAAQhN,EACJ+M,EAAAzH,EAAA0H,cAACkT,GAAA,EAAD,CACIpP,KAAMA,GACNiK,YAAaA,GACbxM,MAAO,CAAE4R,YAAa,GACtBC,QAASH,IAEZJ,EAAOzC,oBAGhB7O,MAAO,CAAElR,MAAO,KAChBgjB,YAAa,SAACC,GAAD,OACTvT,EAAAzH,EAAA0H,cAACuT,GAAA,EAADnf,OAAA4N,OAAA,GAAesR,EAAf,CAAuBlG,MAAM,oBAOjDrN,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMC,WAAS,EAACviB,QAAS,GACrB+P,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,IACXzS,EAAAzH,EAAA0H,cAACmS,GAAA,EAAD,CAAQ/X,KAAM,SAAUiH,QAAQ,YAAYC,MAAO,WAAnD,gBAQxBvB,EAAAzH,EAAA0H,cAACyH,GAAA,EAAD,CAAOC,OAAQgH,EAAe9G,OAAQkK,IAClC/R,EAAAzH,EAAA0H,cAAC+H,GAAA,EAAD,CAAaH,OAAQkK,IAArB,aACA/R,EAAAzH,EAAA0H,cAACgI,GAAA,EAAD,KACIjI,EAAAzH,EAAA0H,cAAA,YACID,EAAAzH,EAAA0H,cAACoS,GAAA,EAAD,CACI7Q,MAAO,CACHtR,QAAS,OACToiB,WAAY,OACZ7G,QAAS,OACTzb,OAAQ,cAEZgQ,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMC,WAAS,EAACviB,QAAS,GACrB+P,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,IACXzS,EAAAzH,EAAA0H,cAAA,2DAGRD,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMC,WAAS,EAACviB,QAAS,GACrB+P,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,IACXzS,EAAAzH,EAAA0H,cAACmS,GAAA,EAAD,CAAQ/X,KAAM,SAAUsJ,QAlK3B,SAAChF,GAC1BA,EAAEkK,iBACF,IAAM4K,EAAYvE,EAAc/U,KAAK,SAAC6V,GAAD,MAA2B,YAAhBA,EAAOiB,SAEvDvX,IAAMuC,IAAN,GAAAtC,OAAaC,EAAb,2BAAAD,OAA8C8Z,EAAW/Y,IAAK+Y,EAAW/Y,GACrE,CAAEb,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAGvCuY,KAAK,SAAA5O,GACFyD,IAAMC,QAAQ,0BACdsS,GAAiB,GACjBqD,KACAhC,OAEHxI,MAAM,SAAA/K,GACHF,QAAQC,IAAIC,GACZL,IAAMK,MAAM,wBACZuV,QAiJ2EzQ,QAAQ,YAAYC,MAAO,WAAlF,kICtf9B2P,GAAU,CAAC,SAAU,QAIZ,SAASwC,GAAkBzgB,GAAO,IAAA4S,EACrBC,YAAe,GADMC,EAAA1R,OAAAC,EAAA,EAAAD,CAAAwR,EAAA,GACtC8N,EADsC5N,EAAA,GAChC6N,EADgC7N,EAAA,GAEvC8N,EAAYC,iBAAO,MAFoB5N,EAGHJ,WAAe,GAHZK,EAAA9R,OAAAC,EAAA,EAAAD,CAAA6R,EAAA,GAGtC6N,EAHsC5N,EAAA,GAiBvC6N,GAjBuC7N,EAAA,GAiBzB,WAChByN,GAAQ,KAGZ,OACIK,EAAA,cAACA,EAAA,SAAD,KACIA,EAAA,cAACC,GAAA,EAAD,CAAa5S,QAAQ,YAAY6S,IAAKN,EAAWrS,MAAO,CAACtQ,gBAAgB,mBAAoBN,OAAO,OAAON,MAAM,UAC7G2jB,EAAA,cAAC/S,EAAA,EAAD,CAAMC,GAAIlO,EAAMmhB,QAAQ,GAAGjT,IACvB8S,EAAA,cAAC7B,GAAA,EAAD,CAAQrK,KAAK,QAAQpE,QApBjB,WAChBrH,QAAQ+X,KAAR,eAAA1a,OAA4BuX,GAAQ6C,MAmBmBzS,QAAQ,YAAYI,UAAWzO,EAAMmhB,QAAQ,GAAGrQ,KAAMvC,MAAO,CAACtQ,gBAAgB,qBACrH+iB,EAAA,cAACjK,GAAA,EAAD,CAAY1I,QAAQ,KAAKE,MAAO,CAACC,WAAW,WAAYxO,EAAMmhB,QAAQ,GAAG5T,QAIjFyT,EAAA,cAACK,GAAA,EAAD,CAASC,YAAY,WAAWC,UAAQ,IAExCP,EAAA,cAAC7B,GAAA,EAAD,CACIrK,KAAK,SACL0M,gBAAed,EAAO,yBAAsBe,EAC5CC,gBAAehB,EAAO,YAASe,EAC/BhL,aAAW,wBACXkL,gBAAc,OACdjR,QAzBK,WACjBiQ,EAAQ,SAACiB,GAAD,OAAeA,KAyBXrT,MAAO,CAACtQ,gBAAgB,qBAExB+iB,EAAA,cAACa,GAAA,EAAD,CAAa/M,KAAK,SAG1BkM,EAAA,cAACc,GAAA,EAAD,CACIpB,KAAMA,EACNqB,SAAUnB,EAAUoB,QACpBC,UAAMR,EACNS,YAAU,EACVC,eAAa,EACb5T,MAAO,CAAEuI,OAAO,UAEf,SAAApB,GAAA,IAAG0M,EAAH1M,EAAG0M,gBAAiBC,EAApB3M,EAAoB2M,UAApB,OACGrB,EAAA,cAACsB,GAAA,EAADlhB,OAAA4N,OAAA,GACQoT,EADR,CAEI7T,MAAO,CACHgU,gBAA+B,WAAdF,EAAyB,aAAe,gBACzDvL,OAAO,UAIXkK,EAAA,cAAC5B,GAAA,EAAD,CAAO7I,GAAI,CAAGxY,SAAU,OAAQT,UAAU,MAAOwZ,OAAO,SACpDkK,EAAA,cAACwB,GAAA,EAAD,CAAmBC,YAAa1B,GAC5BC,EAAA,cAAC0B,GAAA,EAAD,CAAUjb,GAAG,oBAAoBkb,eAAa,GACzC3iB,EAAMmhB,QAAQyB,MAAM,GAAG/V,IAAI,SAACgT,EAAQ/S,GAAT,OACxBkU,EAAA,cAAC9D,GAAA,EAAD,CACIjQ,IAAK4V,KAAKC,UAEV9B,EAAA,cAAC/S,EAAA,EAAD,CACIC,GAAI2R,EAAO3R,IAEV2R,EAAO/O,KAAKkQ,EAAA,sBAAMzS,MAAO,CAACD,MAAO,UAAWE,WAAW,SAAUyD,SAAS,SAAU4N,EAAOtS,gVC3DtIwV,GAAa,CACfC,IAAKC,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAACkW,GAAA5d,EAADlE,OAAA4N,OAAA,GAAYhP,EAAZ,CAAmBkhB,IAAKA,OAC5DiC,MAAOF,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAACoW,GAAA9d,EAADlE,OAAA4N,OAAA,GAAWhP,EAAX,CAAkBkhB,IAAKA,OACzDmC,MAAOJ,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAACsW,GAAAhe,EAADlE,OAAA4N,OAAA,GAAWhP,EAAX,CAAkBkhB,IAAKA,OACzDqC,OAAQN,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAACwW,GAAAle,EAADlE,OAAA4N,OAAA,GAAmBhP,EAAnB,CAA0BkhB,IAAKA,OAClEuC,YAAaR,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAAC0W,GAAApe,EAADlE,OAAA4N,OAAA,GAAkBhP,EAAlB,CAAyBkhB,IAAKA,OACtEyC,KAAMV,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAAC4W,GAAAte,EAADlE,OAAA4N,OAAA,GAAUhP,EAAV,CAAiBkhB,IAAKA,OACvD2C,OAAQZ,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAAC8W,GAAAxe,EAADlE,OAAA4N,OAAA,GAAahP,EAAb,CAAoBkhB,IAAKA,OAC5D6C,OAAQd,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAACgX,GAAA1e,EAADlE,OAAA4N,OAAA,GAAgBhP,EAAhB,CAAuBkhB,IAAKA,OAC/D+C,UAAWhB,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAACkX,GAAA5e,EAADlE,OAAA4N,OAAA,GAAehP,EAAf,CAAsBkhB,IAAKA,OACjEiD,SAAUlB,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAACoX,GAAA9e,EAADlE,OAAA4N,OAAA,GAAchP,EAAd,CAAqBkhB,IAAKA,OAC/DmD,SAAUpB,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAAC0W,GAAApe,EAADlE,OAAA4N,OAAA,GAAkBhP,EAAlB,CAAyBkhB,IAAKA,OACnEoD,aAAcrB,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAACuX,GAAAjf,EAADlE,OAAA4N,OAAA,GAAiBhP,EAAjB,CAAwBkhB,IAAKA,OACtEsD,YAAavB,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAACsW,GAAAhe,EAADlE,OAAA4N,OAAA,GAAWhP,EAAX,CAAkBkhB,IAAKA,OAC/DuD,OAAQxB,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAAC0X,GAAApf,EAADlE,OAAA4N,OAAA,GAAYhP,EAAZ,CAAmBkhB,IAAKA,OAC3DyD,UAAW1B,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAAC4X,GAAAtf,EAADlE,OAAA4N,OAAA,GAAiBhP,EAAjB,CAAwBkhB,IAAKA,OACnE2D,gBAAiB5B,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAAC8X,GAAAxf,EAADlE,OAAA4N,OAAA,GAAYhP,EAAZ,CAAmBkhB,IAAKA,OACpE6D,WAAY9B,qBAAW,SAACjjB,EAAOkhB,GAAR,OAAgBnU,EAAAzH,EAAA0H,cAACgY,GAAA1f,EAADlE,OAAA4N,OAAA,GAAgBhP,EAAhB,CAAuBkhB,IAAKA,QAsUpD+D,IAlUGroB,YAAW,SAAAC,GAAK,MAAK,CACnCC,KAAM,CACFC,OAAQF,EAAMG,QAAQ,IACtBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEhBC,KAAM,CACFC,MAAO,OACPC,UAAWT,EAAMG,QAAQ,IAE7BO,OAAQ,CACJR,OAAQF,EAAMG,QAAQ,EAAG,EAAG,IAEhCQ,WAAY,CACRC,aAAc,IAElBC,OAAQ,CACJC,OAAQ,GACRN,MAAO,KAEXO,OAAQ,CACJb,OAAQF,EAAMG,QAAQ,IAG1Ba,KAAM,CACFkU,QAAS,CACLhV,OAAQF,EAAMG,QAAQ,KAG9BgV,MAAO,CACH/U,QAAS,QAEbsM,MAAO,CACH+E,MAAO,UACP2D,SAAU,QAEd9I,QAAS,CACLmF,MAAO,WACP2D,SAAU,WAME,SAACjS,GAAU,IAAAa,EAEKC,mBAAS,IAFdK,EAAAC,OAAAC,EAAA,EAAAD,CAAAP,EAAA,GAEpBqkB,EAFoB/jB,EAAA,GAEVgkB,EAFUhkB,EAAA,GAAAI,EAGWT,mBAAS,IAHpBU,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAGpBuX,EAHoBtX,EAAA,GAGP4jB,EAHO5jB,EAAA,GAAAG,EAIGb,mBAAS,IAJZc,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAIpBoR,EAJoBnR,EAAA,GAAAE,GAAAF,EAAA,GAKDd,oBAAS,IALRiB,EAAAX,OAAAC,EAAA,EAAAD,CAAAU,EAAA,GAKpBiX,EALoBhX,EAAA,GAKbiX,EALajX,EAAA,GAAAG,EAMGpB,oBAAS,GANZqB,EAAAf,OAAAC,EAAA,EAAAD,CAAAc,EAAA,GAMpBwD,EANoBvD,EAAA,GAAAA,EAAA,GAY3BiK,oBAAU,WACNiZ,KACC,IAEL,IAAMA,EAAgB,WAClB5e,IACItK,IADJ,GAAAuK,OACWC,EADX,WAEO,CAAEC,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAE3CuY,KAAK,SAAC5O,GACF2f,EAAe3f,EAASsB,KAAK+R,eAGjCxE,MAAM,SAAC/K,OAIT+b,EAAengB,sBAAW/D,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAC,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAe,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEFC,IAAMtK,IAAN,GAAAuK,OAAaC,EAAb,WAA+B,CAAEC,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAFrE,OAEnB2J,EAFmBa,EAAAQ,KAGzBqe,EAAY1f,EAASsB,MAHIT,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAA8C,GAAA9C,EAAA,SAKzB+C,QAAQC,IAARhD,EAAA8C,IALyB,yBAAA9C,EAAAwB,SAAAtC,EAAA,iBAO9B,IAEG+f,EAAQ,eAAAvd,EAAA5G,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAG,SAAA0C,EAAOR,GAAP,OAAApC,EAAAC,EAAAe,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,UAAA2B,EAAA5B,KAAA,GAELkB,EAFK,CAAAU,EAAA3B,KAAA,eAAA2B,EAAA3B,KAAA,EAGkBC,IAAM+e,OAAN,GAAA9e,OAAgBC,EAAhB,YAAAD,OAAkCe,GAAM,CAAEb,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAHlG,OAAAqM,EAAArB,KAIL9K,OAAOC,SAASwpB,SAJX,OAAAtd,EAAA3B,KAAA,gBAAA2B,EAAA5B,KAAA,EAAA4B,EAAAiB,GAAAjB,EAAA,kCAAAA,EAAAL,SAAAG,EAAA,iBAAH,gBAAA0B,GAAA,OAAA3B,EAAA4B,MAAAC,KAAAC,YAAA,GAWR4b,EAAiB,WACnB1M,GAAS,IAGPY,EAAgB,SAAAxa,GAClB,IAAMkC,EAAQ,IAAIP,KAEZuO,GADYlQ,EAAIua,MAAM,KACV,IAAI5Y,KAAK3B,IACvBmQ,EAAUjO,EAAMkO,cAAgBF,EAAUE,cACxCC,EAAInO,EAAMoO,WAAaJ,EAAUI,WAIvC,OAHID,EAAI,GAAY,IAANA,GAAWnO,EAAMqO,UAAYL,EAAUK,YACjDJ,IAEY,IAAZA,EACOE,EAAI,YAERF,EAAU,YAGfmK,EAAoB,SAACzS,GACvB,IAAMtI,EAAiBsI,EAAWA,WAAWC,KAAK,SAAAC,GAAG,MAAgB,kBAAZA,EAAIC,OAC7D,OAAOzI,EAAiBA,EAAe6I,MAAQ,IAiBnD,SAASme,EAAY7H,GAClB,MAAQ,CACJ,CACIvQ,KAAK,OACLuD,KAAK/D,EAAAzH,EAAA0H,cAAC6U,GAAA,EAAD,CAAQ/M,KAAK,OAClB5G,GAAG,CACCC,SAAU,oBACVxJ,MAAO,CAAE1E,UAAY6d,EAAIrW,GAAIqR,YAAYA,KAN7C1X,OAAA4S,EAAA,EAAA5S,CAAA,GASC0X,EAAY2B,SAAS,iBAAmB3B,EAAY2B,SAAS,mBAC1D,CACIlN,KAAK,oBACLuD,KAAK/D,EAAAzH,EAAA0H,cAAC4Y,GAAA,EAAD,CAAU9Q,KAAK,KAAKxG,MAAM,qBAC/BJ,GAAG,CACCC,SAAU,qBACVxJ,MAAO,CAAEkU,WAAYiF,EAAKhF,YAAYA,MAflD1X,OAAA4S,EAAA,EAAA5S,CAAA,GAmBC0X,EAAY2B,SAAS,iBAAmB3B,EAAY2B,SAAS,mBAC1D,CACIlN,KAAK,eACLuD,KAAK/D,EAAAzH,EAAA0H,cAAC4Y,GAAA,EAAD,CAAY9Q,KAAK,KAAKxG,MAAM,qBACjCJ,GAAG,CACCC,SAAU,oBACVxJ,MAAO,CAAE1E,UAAY6d,EAAIrW,GAAIqR,YAAYA,MAzBrD1X,OAAA4S,EAAA,EAAA5S,CAAA,GA6BC0X,EAAY2B,SAAS,mBAAqB3B,EAAY2B,SAAS,mBAC5D,CACIlN,KAAK,iBACLuD,KAAK/D,EAAAzH,EAAA0H,cAAC4Y,GAAA,EAAD,CAAiB9Q,KAAK,KAAKxG,MAAM,qBACtCJ,GAAG,CACCC,SAAU,KACVxJ,MAAO,CAAEkU,WAAYiF,EAAKhF,YAAYA,OAM/D,OA/CE1M,oBAAU,WACNkZ,KACD,CAACA,IACJjc,QAAQC,IAAIwP,GAChBzP,QAAQC,IAAIwP,EAAY2B,SAAU,mBA4C9B1N,EAAAzH,EAAA0H,cAAA,WACID,EAAAzH,EAAA0H,cAACW,EAAA,EAAD,CAAgBC,UAAW,IAAMC,iBAAe,IAChDd,EAAAzH,EAAA0H,cAACuH,GAAA,EAAD,KACIxH,EAAAzH,EAAA0H,cAACwH,GAAA,EAAD,KACCsE,EAAY2B,SAAS,iBAAmB3B,EAAY2B,SAAS,kBAC1D1N,EAAAzH,EAAA0H,cAACiB,EAAA,EAAD,CAAMC,GAAI,oBACNnB,EAAAzH,EAAA0H,cAACoB,EAAA,EAAD,CACIC,QAAQ,YACRC,MAAM,UACNP,UAAU,oBACVU,UAAW1B,EAAAzH,EAAA0H,cAAC6U,GAAA,EAAD,CAAY/M,KAAK,OAC5BvG,MAAO,CAACtQ,gBAAgB,qBAExB8O,EAAAzH,EAAA0H,cAAA,QAAMuB,MAAO,CAAEI,cAAe,aAAcH,WAAW,WAAvD,iBAGV,GAEEzB,EAAAzH,EAAA0H,cAAA,WAAKD,EAAAzH,EAAA0H,cAAA,WACLD,EAAAzH,EAAA0H,cAAA,WACAD,EAAAzH,EAAA0H,cAAC0Q,GAAApY,EAAD,CACIugB,MAAO9C,GACPlG,MAAM,gBACNc,QAAS,CACL,CACId,MAAO,eACP3B,MAAO,OAAQ0C,WAAW,GAE9B,CAAEf,MAAO,aAAc3B,MAAO,KAAO0C,WAAW,GAChD,CAAEf,MAAO,SAAU3B,MAAO,SAAU0C,WAAW,GAC/C,CAAEf,MAAO,gBAAiB3B,MAAO,cAAe0C,WAAW,GAC3D,CAAEf,MAAO,MAAO3B,MAAO,MAAO0C,WAAW,GAEzC,CAAEf,MAAO,SAAU3B,MAAO,SAAU0C,WAAW,GAC/C,CAACf,MAAO,UAAW3B,MAAO,UAAW0C,WAAW,IAEpDC,UAAW9K,EACXhM,KAAMme,EAASrY,IAAI,SAACiR,GAAD,MAAU,CACzBvQ,KAAMuQ,EAAIlf,UAAa,IAAMkf,EAAIxW,UAAa,IAAMwW,EAAIvW,QACxDE,GAAIiS,EAAkBoE,EAAI7W,YAC1BhB,QA5FDA,EA4FmB6X,EAAI7X,OA3F/BA,EAAOhJ,SA4FEoC,YAAaye,EAAIze,YACjBC,IAA0B,IAApBwe,EAAIze,kBACcoiB,IAApB3D,EAAIze,aACgB,OAApBye,EAAIze,aACgB,KAApBye,EAAIze,YACF,EACAua,EAAckE,EAAIze,aAKxB2e,OAAQF,EAAI1V,OACR,SACE,aACN+Y,QACIpU,EAAAzH,EAAA0H,cAAA,WACK8L,EAAY2B,SAAS,iBAAmB3B,EAAY2B,SAAS,kBAC1D1N,EAAAzH,EAAA0H,cAACyT,GAAD,CAAmBU,QAASwE,EAAY7H,KAC1C,KA/GZ,IAAC7X,IAqKHgY,QAAS,CACLC,YAAa,CAET5P,MAAO,QAEXwX,iBAAkB,CACdzoB,MAAQ,OACR0oB,YAAa,SAEjBnI,WAAW,EACXO,cAAc,EACdC,qBAAsB,OACtBC,gBAAgB,CAAC,GAAG,GAAG,KACvBC,SAAS,GACTC,iBAAkB,SAMlCxR,EAAAzH,EAAA0H,cAACyH,GAAA,EAAD,CAAOC,OAAQqE,EAAOnE,OAAQ8Q,GAC1B3Y,EAAAzH,EAAA0H,cAAC+H,GAAA,EAAD,CAAaH,OAAQ8Q,GAArB,kBACA3Y,EAAAzH,EAAA0H,cAACgI,GAAA,EAAD,4CAC0CtP,EAAUA,EAAQ6B,QAAW,KAAO7B,EAAQ+K,UAAa,IAAM/K,EAAQ4B,UAAY,IAE7HyF,EAAAzH,EAAA0H,cAACgZ,GAAA,EAAD,KACIjZ,EAAAzH,EAAA0H,cAACoB,EAAA,EAAD,CAAQE,MAAM,UAAUlH,KAAK,SAASsJ,QAAS,SAAChF,GAAD,OAAO6Z,EAAS7f,EAAQ+B,MAAvE,OAAyF,IACzFsF,EAAAzH,EAAA0H,cAACoB,EAAA,EAAD,CAAQE,MAAM,YAAYlH,KAAK,SAASsJ,QAAS,SAAChF,GAAD,OAAOga,MAAxD,gCChXV/H,GAAU,CACZ,CACIzC,MAAO,SACPC,WAAY,SACZ9d,MAAO,IACP+d,UAAU,GAEd,CACIF,MAAO,SACPC,WAAY,SACZ9d,MAAO,IACP+d,UAAU,GAEd,CACIF,MAAO,cACPC,WAAY,cACZ9d,MAAO,IACP+d,UAAU,GAEd,CACIF,MAAO,SACPC,WAAY,SACZ9d,MAAO,IACP+d,UAAU,IAoDH6K,GAhDO,WAGlB,OACIlZ,EAAAzH,EAAA0H,cAACgS,GAAA,EAAD,KACIjS,EAAAzH,EAAA0H,cAACiS,GAAA,EAAD,KACIlS,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMC,WAAS,EAACviB,QAAS,GACrB+P,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GAAf,QACAzS,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GAAf,QACAzS,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GAAf,QACAzS,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GACXzS,EAAAzH,EAAA0H,cAACsJ,GAAA,EAAD,CACI7G,EAAG,EACHxS,QAAQ,OACRipB,eAAe,SACf/oB,WAAW,UAEX4P,EAAAzH,EAAA0H,cAACiB,EAAA,EAAD,CAAMC,GAAI,CACNC,SAAU,uBAEVpB,EAAAzH,EAAA0H,cAACmS,GAAA,EAAD,CACI9Q,QAAQ,YACRE,MAAO,CAAEtQ,gBAAiB,UAE1B8O,EAAAzH,EAAA0H,cAACmZ,GAAA7gB,EAAD,MAJJ,wBAUhByH,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMC,WAAS,EAACviB,QAAS,GACrB+P,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,IACXzS,EAAAzH,EAAA0H,cAACsJ,GAAA,EAAD,CAAK3Y,OAAQ,SACToP,EAAAzH,EAAA0H,cAACwR,GAAA,EAAD,CACIC,KAjCf,GAkCed,QAASA,GACTW,SAAU,EACVI,mBAAoB,CAAC,GACrBE,yBAAuB,wCCuKxCwH,GAnOU,WAAM,IAAAlmB,EACOC,cAA1BO,EADmBR,EACnBQ,aAAc6a,EADKrb,EACLqb,QAChBxT,EAAQ,eAAA2N,EAAAtU,OAAAgE,EAAA,EAAAhE,CAAAiE,EAAAC,EAAAC,KAAG,SAAAC,EAAOuB,GAAP,IAAAsf,EAAA,OAAAhhB,EAAAC,EAAAe,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAGH8f,EAAS,CACXC,WAAcvf,EAAKwf,OACnBC,UAAazf,EAAK0f,UAClBC,cAAiB3f,EAAK4f,iBACtBhpB,OAAUoJ,EAAK6f,OACfxK,SAAY,EACZyK,SAAY9f,EAAK+f,UATZxgB,EAAAE,KAAA,EAWHC,IAAMwC,KAAN,GAAAvC,OAAcC,EAAd,sBAA2C0f,EAAQ,CAAEzf,QAAS,CAACC,cAAA,UAAAH,OAA4B5K,MAXxF,cAAAwK,EAAAE,KAAA,EAYHmW,KAAKC,KAAK,CACZ9L,KAAM,UACNiH,KAAM,iCACNgP,MAAO,OAfF,OAAAzgB,EAAAE,KAAA,uBAAAF,EAAAC,KAAA,EAAAD,EAAA8C,GAAA9C,EAAA,SAAAA,EAAAE,KAAA,GAkBHmW,KAAKC,KAAK,CACZ9L,KAAM,QACN+L,MAAO,UACP9E,KAAM,mDArBD,yBAAAzR,EAAAwB,SAAAtC,EAAA,iBAAH,gBAAAmE,GAAA,OAAA+L,EAAA9L,MAAAC,KAAAC,YAAA,GA6Bd,OACIiD,EAAAzH,EAAA0H,cAACgS,GAAA,EAAD,KACIjS,EAAAzH,EAAA0H,cAACiS,GAAA,EAAD,KACIlS,EAAAzH,EAAA0H,cAAA,QAAMjF,SAAUrH,EAAaqH,EAPzB,eAQAgF,EAAAzH,EAAA0H,cAACoS,GAAA,EAAD,CACI7Q,MAAO,CACHtR,QAAS,OACToiB,WAAY,OACZ7G,QAAS,OACTzb,OAAQ,cAEZgQ,EAAAzH,EAAA0H,cAAC+J,GAAA,EAAD,CAAY1I,QAAQ,MAApB,uBACAtB,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMC,WAAS,EAACviB,QAAS,GACrB+P,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GACXzS,EAAAzH,EAAA0H,cAACyS,GAAA,EAAD,CAAauH,WAAS,GAClBja,EAAAzH,EAAA0H,cAACia,GAAA,EAAD,CAAsBC,YAAaC,MAC/Bpa,EAAAzH,EAAA0H,cAACoa,EAAA,EAAD,CACI7Z,KAAK,mBACLgO,QAASA,EACT8L,aAAc,KACd9J,OAAQ,SAAAvV,GAAA,IAAAsf,EAAAtf,EAAGkT,MAAS7L,EAAZiY,EAAYjY,SAAU7H,EAAtB8f,EAAsB9f,MAAuB+B,EAA7CvB,EAA+Buf,WAAche,MAA7C,OACJwD,EAAAzH,EAAA0H,cAACwa,GAAA,EAAD,CACInH,YAAa,SAACrgB,GAAD,OAAW+M,EAAAzH,EAAA0H,cAACuT,GAAA,EAAcvgB,IACvCoa,MAAM,sBACN6F,SAAUzY,EACVA,MAAOA,EACP6H,SAAUA,EACV9F,QAASA,EACTke,WAAYle,EAAQA,EAAM4F,QAAU,aAO5DpC,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GACXzS,EAAAzH,EAAA0H,cAACyS,GAAA,EAAD,CAAauH,WAAS,GAClBja,EAAAzH,EAAA0H,cAACoa,EAAA,EAAD,CACI7Z,KAAK,QACLgO,QAASA,EACT8L,aAAa,GACb9J,OAAQ,SAAAmK,GAAA,IAAAC,EAAAD,EAAGxM,MAAS7L,EAAZsY,EAAYtY,SAAU7H,EAAtBmgB,EAAsBngB,MAAuB+B,EAA7Cme,EAA+BH,WAAche,MAA7C,OACJwD,EAAAzH,EAAA0H,cAACuT,GAAA,EAAD,CACInG,MAAM,aACN3S,GAAG,QACH4G,QAAQ,WACR7G,MAAOA,EACP6H,SAAUA,EACV9F,QAASA,EACTke,WAAYle,EAAQA,EAAM4F,QAAU,YAMxDpC,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GACXzS,EAAAzH,EAAA0H,cAACyS,GAAA,EAAD,CAAauH,WAAS,GAClBja,EAAAzH,EAAA0H,cAACoa,EAAA,EAAD,CACI7Z,KAAK,kBACLgO,QAASA,EACT8L,aAAa,GACb9J,OAAQ,SAAAqK,GAAA,IAAAC,EAAAD,EAAG1M,MAAS7L,EAAZwY,EAAYxY,SAAU7H,EAAtBqgB,EAAsBrgB,MAAuB+B,EAA7Cqe,EAA+BL,WAAche,MAA7C,OACJwD,EAAAzH,EAAA0H,cAACuT,GAAA,EAAD,CACInG,MAAM,yBACN3S,GAAG,kBACH4G,QAAQ,WACR7G,MAAOA,EACP6H,SAAUA,EACV9F,QAASA,EACTke,WAAYle,EAAQA,EAAM4F,QAAU,YAMxDpC,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GACXzS,EAAAzH,EAAA0H,cAACyS,GAAA,EAAD,CAAauH,WAAS,GAClBja,EAAAzH,EAAA0H,cAACoa,EAAA,EAAD,CACI7Z,KAAK,cACLgO,QAASA,EACT8L,aAAa,GACb9J,OAAQ,SAAAyC,GAAA,IAAA8H,EAAA9H,EAAG9E,MAAS7L,EAAZyY,EAAYzY,SAAU7H,EAAtBsgB,EAAsBtgB,MAAuB+B,EAA7CyW,EAA+BuH,WAAche,MAA7C,OACJwD,EAAAzH,EAAA0H,cAACuT,GAAA,EAAD,CACInG,MAAM,kBACN3S,GAAG,cACH4G,QAAQ,WACR7G,MAAOA,EACP6H,SAAUA,EACV9F,QAASA,EACTke,WAAYle,EAAQA,EAAM4F,QAAU,YAMxDpC,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GACXzS,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMC,WAAS,EAACviB,QAAS,GACrB+P,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GACXzS,EAAAzH,EAAA0H,cAACyS,GAAA,EAAD,CAAauH,WAAS,GAClBja,EAAAzH,EAAA0H,cAACoa,EAAA,EAAD,CACI7Z,KAAK,WACLgO,QAASA,EACT8L,aAAa,GACb9J,OAAQ,SAAAwK,GAAA,IAAAC,EAAAD,EAAG7M,MAAS7L,EAAZ2Y,EAAY3Y,SAAU7H,EAAtBwgB,EAAsBxgB,MAAuB+B,EAA7Cwe,EAA+BR,WAAche,MAA7C,OACJwD,EAAAzH,EAAA0H,cAACuT,GAAA,EAAD,CACInG,MAAM,kBACN3S,GAAG,WACH4G,QAAQ,WACR7G,MAAOA,EACP6H,SAAUA,EACV9F,QAASA,EACTke,WAAYle,EAAQA,EAAM4F,QAAU,YAOxDpC,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GACXzS,EAAAzH,EAAA0H,cAACyS,GAAA,EAAD,CAAauH,WAAS,GAClBja,EAAAzH,EAAA0H,cAACoa,EAAA,EAAD,CACI7Z,KAAK,YACLgO,QAASA,EACT8L,aAAa,GACb9J,OAAQ,SAAA0K,GAAA,IAAAC,EAAAD,EAAG/M,MAAS7L,EAAZ6Y,EAAY7Y,SAAU7H,EAAtB0gB,EAAsB1gB,MAAuB+B,EAA7C0e,EAA+BV,WAAche,MAA7C,OACJwD,EAAAzH,EAAA0H,cAACuT,GAAA,EAAD,CACInG,MAAM,mBACN3S,GAAG,YACH4G,QAAQ,WACR7G,MAAOA,EACP6H,SAAUA,EACV9F,QAASA,EACTke,WAAYle,EAAQA,EAAM4F,QAAU,cAQhEpC,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GACXzS,EAAAzH,EAAA0H,cAACyS,GAAA,EAAD,CAAauH,WAAS,GAClBja,EAAAzH,EAAA0H,cAACoa,EAAA,EAAD,CACI7Z,KAAK,SACLgO,QAASA,EACT8L,aAAa,GACb9J,OAAQ,SAAA4K,GAAA,IAAAC,EAAAD,EAAGjN,MAAS7L,EAAZ+Y,EAAY/Y,SAAU7H,EAAtB4gB,EAAsB5gB,MAAuB+B,EAA7C4e,EAA+BZ,WAAche,MAA7C,OACJwD,EAAAzH,EAAA0H,cAACuT,GAAA,EAAD,CACInG,MAAM,cACN3S,GAAG,SACH4G,QAAQ,WACR7G,MAAOA,EACP6H,SAAUA,EACV9F,QAASA,EACTke,WAAYle,EAAQA,EAAM4F,QAAU,YAOxDpC,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,GACXzS,EAAAzH,EAAA0H,cAACyS,GAAA,EAAD,CAAauH,WAAS,GAClBja,EAAAzH,EAAA0H,cAACoa,EAAA,EAAD,CACI7Z,KAAK,SACLgO,QAASA,EACT8L,aAAa,GACb9J,OAAQ,SAAAtS,GAAA,IAAAod,EAAApd,EAAGiQ,MAAS7L,EAAZgZ,EAAYhZ,SAAU7H,EAAtB6gB,EAAsB7gB,MAAuB+B,EAA7C0B,EAA+Bsc,WAAche,MAA7C,OACJwD,EAAAzH,EAAA0H,cAACuT,GAAA,EAAD,CACInG,MAAM,cACN3S,GAAG,SACH4G,QAAQ,WACR7G,MAAOA,EACP6H,SAAUA,EACV9F,QAASA,EACTke,WAAYle,EAAQA,EAAM4F,QAAU,aAO5DpC,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMC,WAAS,EAACviB,QAAS,GACrB+P,EAAAzH,EAAA0H,cAACsS,GAAA,EAAD,CAAMjP,MAAI,EAACmP,GAAI,IACXzS,EAAAzH,EAAA0H,cAACmS,GAAA,EAAD,CAAQ/X,KAAM,SAAUiH,QAAQ,YAAYC,MAAO,SAAnD,UADJ,WAGIvB,EAAAzH,EAAA0H,cAACmS,GAAA,EAAD,CAAQ/X,KAAM,SAAUiH,QAAQ,YAAYC,MAAO,WAAnD,iBCtNjB,SAASga,KACtB,OACEvb,EAAAzH,EAAA0H,cAACub,EAAA,EAAD,KACExb,EAAAzH,EAAA0H,cAAA,WACAD,EAAAzH,EAAA0H,cAACW,EAAA,EAAD,MAGEZ,EAAAzH,EAAA0H,cAACub,EAAA,EAAD,KAEExb,EAAAzH,EAAA0H,cAACub,EAAA,EAAD,CAAOC,KAAK,qBACVzb,EAAAzH,EAAA0H,cAACyb,GAAD,OAEF1b,EAAAzH,EAAA0H,cAACub,EAAA,EAAD,CAAOC,KAAK,sBACVzb,EAAAzH,EAAA0H,cAAC0b,GAAD,OAEF3b,EAAAzH,EAAA0H,cAACub,EAAA,EAAD,CAAOC,KAAK,mBACVzb,EAAAzH,EAAA0H,cAAC2b,GAAD,OAEF5b,EAAAzH,EAAA0H,cAACub,EAAA,EAAD,CAAOC,KAAK,sBACVzb,EAAAzH,EAAA0H,cAAC4b,GAAD,OAEF7b,EAAAzH,EAAA0H,cAACub,EAAA,EAAD,CAAOC,KAAK,KACVzb,EAAAzH,EAAA0H,cAAC6b,GAAD,UASZ,SAASH,KACP,OAAO3b,EAAAzH,EAAA0H,cAAC8b,GAAD,MAET,SAASL,KACP,OAAO1b,EAAAzH,EAAA0H,cAAC+b,EAAD,MAET,SAASJ,KACP,OAAO5b,EAAAzH,EAAA0H,cAACgc,GAAD,MAET,SAASJ,KACP,OAAO7b,EAAAzH,EAAA0H,cAACic,GAAD,aChDTC,IAAS3L,OACPxQ,EAAAzH,EAAA0H,cAACD,EAAAzH,EAAM6jB,WAAP,KACEpc,EAAAzH,EAAA0H,cAACsb,GAAD,OAEFc,SAASC,eAAe","file":"static/js/main.955bcbf1.chunk.js","sourcesContent":["export const  token = (new URLSearchParams(window.location.search)).get(\"jwt\")\r\nexport const url = '/api/v1/'\r\n\r\n\r\n/*\r\n export const url =  'http://localhost:8282/api/v1/';\r\n export const  token = 'eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJndWVzdEBsYW1pc3BsdXMub3JnIiwiYXV0aCI6IlN1cGVyIEFkbWluIiwibmFtZSI6Ikd1ZXN0IEd1ZXN0IiwiZXhwIjoxNjU1OTQ0MDA0fQ.7ioUk1ptPMFaZU6kvWgx-kPboV7HwKc7X7-UIyiTGe0K1lnXGq3CkgKMhodXuO_Hr18xUuLJwX0uN5DbnzV1NA'\r\n\r\n*/\r\n","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {format} from 'date-fns';\r\nimport MatButton from \"@material-ui/core/Button\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {Form, FormGroup, Label, Spinner,} from \"reactstrap\";\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {library} from '@fortawesome/fontawesome-svg-core'\r\nimport {faCheckSquare, faCoffee, faEdit, faTrash} from '@fortawesome/free-solid-svg-icons'\r\nimport {yupResolver} from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\nimport * as moment from 'moment';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Card, CardContent} from \"@material-ui/core\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport {ToastContainer, toast} from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"react-widgets/dist/css/react-widgets.css\";\r\nimport {Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport {TiArrowBack} from 'react-icons/ti'\r\nimport {useForm} from \"react-hook-form\";\r\nimport {token, url as baseUrl } from \"../../../api\";\r\n\r\n\r\nlibrary.add(faCheckSquare, faCoffee, faEdit, faTrash);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    card: {\r\n        margin: theme.spacing(20),\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\"\r\n    },\r\n    form: {\r\n        width: \"100%\", // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n    cardBottom: {\r\n        marginBottom: 20,\r\n    },\r\n    Select: {\r\n        height: 45,\r\n        width: 300,\r\n    },\r\n    button: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    root: {\r\n        flexGrow: 1,\r\n        maxWidth: 752,\r\n    },\r\n    demo: {\r\n        backgroundColor: theme.palette.background.default,\r\n    },\r\n    inline: {\r\n        display: \"inline\",\r\n    },\r\n}));\r\n\r\nconst schema = yup.object().shape({\r\n    dateOfRegistration: yup.date().required(),\r\n    hospitalNumber: yup.string().required(),\r\n    firstName: yup.string().required(),\r\n    middleName: yup.string().nullable(),\r\n    lastName: yup.string().required(),\r\n    sex: yup.number().required(),\r\n    employmentStatus: yup.number().required(),\r\n    highestQualification: yup.number().required(),\r\n    maritalStatus: yup.number().required(),\r\n    dob: yup.date().required(),\r\n    dateOfBirth: yup.string().required(),\r\n    age: yup.number(),\r\n    pnumber: yup.string().required(),\r\n    altPhonenumber: yup.string().nullable(),\r\n    email: yup.string().nullable(),\r\n    address: yup.string().nullable(),\r\n    landmark: yup.string().nullable(),\r\n    countryId: yup.number().required(),\r\n    stateId: yup.number().required(),\r\n    district: yup.number().nullable(),\r\n});\r\n\r\nconst UserRegistration = (props) => {\r\n    const { register, setValue, getValues, setError, handleSubmit, formState: { errors } } = useForm({\r\n        resolver: yupResolver(schema),\r\n    });\r\n    const [today, setToday] = useState(new Date().toISOString().substr(0, 10).replace('T', ' '));\r\n    const [contacts, setContacts] = useState([]);\r\n    const [saving, setSaving] = useState(false);\r\n    const [ageDisabled, setAgeDisabled] = useState(true);\r\n    const [showRelative, setShowRelative] = useState(false);\r\n    const [editRelative, setEditRelative] = useState(null);\r\n    const [genders, setGenders]= useState([]);\r\n    const [maritalStatusOptions, setMaritalStatusOptions]= useState([]);\r\n    const [educationOptions, setEducationOptions]= useState([]);\r\n    const [occupationOptions, setOccupationOptions]= useState([]);\r\n    const [relationshipOptions, setRelationshipOptions]= useState([]);\r\n    const [topLevelUnitCountryOptions, settopLevelUnitCountryOptions]= useState([]);\r\n    const [stateUnitOptions, setStateUnitOptions]= useState([]);\r\n    const [districtUnitOptions, setDistrictUnitOptions]= useState([]);\r\n    const userDetail = props.location && props.location.state ? props.location.state.user : null;\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    const location = useLocation();\r\n    const locationState = location.state;\r\n    let patientId = null;\r\n    patientId = locationState ? locationState.patientId : null;\r\n\r\n    const getNames = (relationship) => {\r\n        const surname = relationship.surname;\r\n        const firstName = relationship.firstname;\r\n        const otherName = relationship.otherName ? relationship.otherName : '';\r\n        return surname + ', ' + firstName + ' ' + otherName;\r\n    }\r\n    const getRelationship = (relationshipId) => {\r\n        const relationship = relationshipOptions.find(obj => obj.id == relationshipId);\r\n        return relationship ? relationship.display : '';\r\n    };\r\n    const getPhoneContactPoint = (contactPoint) => {\r\n        return contactPoint ? contactPoint.value : '';\r\n    };\r\n    const getAddress = (address) => {\r\n        return address && address.line && address.line.length > 0 ? address.line[0] : '';\r\n    };\r\n    const getPatient = useCallback(async () => {\r\n        if (patientId) {\r\n            const response = await axios.get(`${baseUrl}patient/${patientId}`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            const patient = response.data;\r\n            const contacts = patient.contact ? patient.contact : [];\r\n            setContacts(contacts.contact);\r\n            const identifiers = patient.identifier;\r\n            const address = patient.address;\r\n            const contactPoint = patient.contactPoint;\r\n            const hospitalNumber = identifiers.identifier.find(obj => obj.type == 'HospitalNumber');\r\n            const phone = contactPoint.contactPoint.find(obj => obj.type == 'phone');\r\n            const email = contactPoint.contactPoint.find(obj => obj.type == 'email');\r\n            const altphone = contactPoint.contactPoint.find(obj => obj.type == 'altphone');\r\n            const country = address && address.address && address.address.length > 0 ? address.address[0] : null;\r\n            const gender = patient.gender;\r\n            const employmentStatus = patient.employmentStatus;\r\n            const education = patient.education;\r\n            const maritalStatus = patient.maritalStatus;\r\n            setValue('dateOfRegistration', patient.dateOfRegistration);\r\n            setValue('firstName', patient.firstName);\r\n            setValue('middleName', patient.otherName);\r\n            setValue('lastName', patient.surname);\r\n            setValue('hospitalNumber', hospitalNumber ? hospitalNumber.value : '');\r\n            setValue('maritalStatus', maritalStatus.id);\r\n            setValue('employmentStatus', employmentStatus.id);\r\n            setValue('sex', gender.id);\r\n            setValue('highestQualification', education.id);\r\n            setValue('dob', format(new Date(patient.dateOfBirth), 'yyyy-MM-dd'));\r\n            if (country) {\r\n                setValue('countryId', country.countryId);\r\n                const stateOptions = await loadOrganisationUnitsByParentId(country.countryId);\r\n                setStateUnitOptions(stateOptions);\r\n                setValue('stateId', country.stateId);\r\n                const districtOptions = await loadOrganisationUnitsByParentId(country.stateId);\r\n                setDistrictUnitOptions(districtOptions);\r\n                setValue('district', country.district);\r\n                setValue('address', country.city);\r\n                setValue('landmark', country.line[0]);\r\n            }\r\n            setValue('pnumber', phone ? phone.value : null);\r\n            setValue('email', email ? email.value : null);\r\n            setValue('altPhonenumber', altphone ? altphone.value : null);\r\n        }\r\n    }, []);\r\n    const handleAddRelative = () => {\r\n        setShowRelative(true);\r\n    };\r\n    const handleSaveRelationship = (e) => {\r\n        const relationshipType = getValues(\"relationshipType\");\r\n        const cfirstName = getValues(\"cfirstName\");\r\n        const cmiddleName = getValues(\"cmiddleName\");\r\n        const clastName = getValues(\"clastName\");\r\n        const contactPhoneNumber = getValues(\"contactPhoneNumber\");\r\n        const contactEmail = getValues(\"contactEmail\");\r\n        const contactAddress = getValues(\"contactAddress\");\r\n        if (!relationshipType) {\r\n            setError(\"relationshipType\", {  type: 'custom', message: 'Relationship is required' }, { shouldFocus: true });\r\n            return;\r\n        }\r\n        if (!cfirstName) {\r\n            setError(\"cfirstName\", {  type: 'custom', message: 'FirstName is required' }, { shouldFocus: true });\r\n            return;\r\n        }\r\n        if (!clastName) {\r\n            setError(\"clastName\", {  type: 'custom', message: 'LastName is required' }, { shouldFocus: true });\r\n            return;\r\n        }\r\n\r\n        const contact = {\r\n            \"address\": {\r\n                \"line\": [\r\n                    contactAddress\r\n                ],\r\n            },\r\n            \"contactPoint\": {\r\n                \"type\": \"phone\",\r\n                \"value\": contactPhoneNumber\r\n            },\r\n            \"firstName\": cfirstName,\r\n            \"fullName\": cfirstName + ' ' + cmiddleName + ' ' + clastName,\r\n            \"relationshipId\": relationshipType,\r\n            \"surname\": clastName,\r\n            \"otherName\": cmiddleName\r\n        };\r\n        if (editRelative != null) {\r\n            contacts.splice(editRelative, 1);\r\n            setContacts(contacts.concat(contact));\r\n        } else {\r\n            setContacts(contacts.concat(contact));\r\n        }\r\n        setShowRelative(false);\r\n    };\r\n    const handleCancelSaveRelationship = () => {\r\n        setShowRelative(false);\r\n    }\r\n    const onSubmit = async (data) => {\r\n        try {\r\n            const patientForm = {\r\n                active: true,\r\n                address: [\r\n                    {\r\n                        \"city\": data.address,\r\n                        \"countryId\": data.countryId,\r\n                        \"district\": data.district,\r\n                        \"line\": [\r\n                            data.landmark\r\n                        ],\r\n                        \"organisationUnitId\": 0,\r\n                        \"postalCode\": \"\",\r\n                        \"stateId\": data.stateId\r\n                    }\r\n                ],\r\n                contact: contacts,\r\n                contactPoint: [],\r\n                dateOfBirth: new Date(data.dob),\r\n                deceased: false,\r\n                deceasedDateTime: null,\r\n                firstName: data.firstName,\r\n                genderId: data.sex,\r\n                identifier: [\r\n                    {\r\n                        \"assignerId\": 1,\r\n                        \"type\": \"HospitalNumber\",\r\n                        \"value\": data.hospitalNumber\r\n                    }\r\n                ],\r\n                otherName: data.middleName,\r\n                maritalStatusId: data.maritalStatus,\r\n                surname: data.lastName,\r\n                educationId: data.highestQualification,\r\n                employmentStatusId: data.employmentStatus,\r\n                dateOfRegistration: data.dateOfRegistration,\r\n                isDateOfBirthEstimated: data.dateOfBirth == \"Actual\" ? false : true\r\n            };\r\n            const phone = {\r\n                \"type\": \"phone\",\r\n                \"value\": data.pnumber\r\n            };\r\n            if (data.email) {\r\n                const email = {\r\n                    \"type\": \"email\",\r\n                    \"value\": data.email\r\n                }\r\n                patientForm.contactPoint.push(email);\r\n            }\r\n            if (data.altPhonenumber) {\r\n                const altPhonenumber = {\r\n                    \"type\": \"altphone\",\r\n                    \"value\": data.altPhonenumber\r\n                }\r\n                patientForm.contactPoint.push(altPhonenumber);\r\n            }\r\n            patientForm.contactPoint.push(phone);\r\n            if (patientId) {\r\n                patientForm.id = null;\r\n                const response = await axios.put(`${baseUrl}patient/${patientId}`, patientForm, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            } else {\r\n                const response = await axios.post(`${baseUrl}patient`, patientForm, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            }\r\n            toast.success(\"Patient Register successful\");\r\n            history.push('/');\r\n        } catch (e) {\r\n            console.log(e);\r\n            toast.error(\"An error occured while registering a patient !\", {\r\n                position: toast.POSITION.TOP_RIGHT\r\n            });\r\n        }\r\n    };\r\n    const onError = (errors) => {\r\n        console.error(errors)\r\n    }\r\n    const handleEditRelative = (relative, index) => {\r\n        setValue(\"relationshipType\", relative.relationshipId);\r\n        setValue(\"cfirstName\", relative.firstname);\r\n        setValue(\"cmiddleName\", relative.otherName);\r\n        setValue(\"clastName\", relative.surname);\r\n        setValue(\"contactPhoneNumber\", relative.contactPoint ? relative.contactPoint.value : '');\r\n        setValue(\"contactAddress\", relative.address && relative.address.line && relative.address.line.length > 0 ? relative.address.line[0] : '');\r\n        setShowRelative(true);\r\n        setEditRelative(index);\r\n    };\r\n    const handleDeleteRelative = (index) => {\r\n        setTimeout(() => {\r\n            contacts.splice(index, 1);\r\n            setContacts(contacts);\r\n            setShowRelative(true);\r\n            setShowRelative(false);\r\n        }, 500);\r\n    };\r\n\r\n    const loadGenders = useCallback(async () => {\r\n        try {\r\n            const response = await axios.get(`${baseUrl}application-codesets/v2/GENDER`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            setGenders(response.data);\r\n        } catch (e) {\r\n            toast.error(\"An error occured while fetching gender codesets !\", {\r\n                position: toast.POSITION.TOP_RIGHT\r\n            });\r\n        }\r\n    }, []);\r\n    const loadMaritalStatus = useCallback(async () => {\r\n        try {\r\n            const response = await axios.get(`${baseUrl}application-codesets/v2/MARITAL_STATUS`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            setMaritalStatusOptions(response.data);\r\n        } catch (e) {\r\n            toast.error(\"An error occured while fetching marital codesets !\", {\r\n                position: toast.POSITION.TOP_RIGHT\r\n            });\r\n        }\r\n    }, []);\r\n    const loadEducation = useCallback(async () => {\r\n        try {\r\n            const response = await axios.get(`${baseUrl}application-codesets/v2/EDUCATION`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            setEducationOptions(response.data);\r\n        } catch (e) {\r\n            toast.error(\"An error occured while fetching education codesets !\", {\r\n                position: toast.POSITION.TOP_RIGHT\r\n            });\r\n        }\r\n    }, []);\r\n    const loadOccupation = useCallback(async () => {\r\n        try {\r\n            const response = await axios.get(`${baseUrl}application-codesets/v2/OCCUPATION`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            setOccupationOptions(response.data);\r\n        } catch (e) {\r\n            toast.error(\"An error occured while fetching occupation codesets !\", {\r\n                position: toast.POSITION.TOP_RIGHT\r\n            });\r\n        }\r\n    }, []);\r\n    const loadRelationships = useCallback(async () => {\r\n      try {\r\n          const response = await axios.get(`${baseUrl}application-codesets/v2/RELATIONSHIP`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n          setRelationshipOptions(response.data);\r\n      } catch (e) {\r\n          toast.error(\"An error occured while fetching relationship codesets !\", {\r\n              position: toast.POSITION.TOP_RIGHT\r\n          });\r\n      }\r\n    }, []);\r\n    const loadTopLevelCountry = useCallback(async () => {\r\n        const response = await axios.get(`${baseUrl}organisation-units/parent-organisation-units/0`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n        settopLevelUnitCountryOptions(response.data);\r\n    }, []);\r\n    const loadOrganisationUnitsByParentId = async (parentId) => {\r\n        const response = await axios.get(`${baseUrl}organisation-units/parent-organisation-units/${parentId}`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n        return response.data;\r\n    };\r\n    const onCountryChange = async (e) => {\r\n        if (e.target.value) {\r\n            const stateOptions = await loadOrganisationUnitsByParentId(e.target.value);\r\n            setStateUnitOptions(stateOptions);\r\n        } else {\r\n            setStateUnitOptions([]);\r\n        }\r\n    };\r\n    const onStateChange = async (e) => {\r\n        if (e.target.value) {\r\n            const districtOptions = await loadOrganisationUnitsByParentId(e.target.value);\r\n            setDistrictUnitOptions(districtOptions);\r\n        } else {\r\n            setDistrictUnitOptions([]);\r\n        }\r\n    };\r\n    \r\n    const handleDobChange = (e) => {\r\n        if (e.target.value) {\r\n            const today = new Date();\r\n            const birthDate = new Date(e.target.value);\r\n            let age_now = today.getFullYear() - birthDate.getFullYear();\r\n            const m = today.getMonth() - birthDate.getMonth();\r\n            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n                age_now--;\r\n            }\r\n            setValue('age', age_now);\r\n        } else {\r\n            setValue('age', null);\r\n        }\r\n    }\r\n\r\n    const handleDateOfBirthChange = (e) => {\r\n        if (e.target.value == \"Actual\") {\r\n            setAgeDisabled(true);\r\n        } else if (e.target.value == \"Estimated\") {\r\n            setAgeDisabled(false);\r\n        }\r\n    }\r\n\r\n    const handleAgeChange = (e) => {\r\n        if (!ageDisabled && e.target.value) {\r\n            const currentDate = new Date();\r\n            currentDate.setDate(15);\r\n            currentDate.setMonth(5);\r\n            const estDob = moment(currentDate.toISOString());\r\n            const dob = estDob.add((e.target.value * -1), 'years');\r\n            setValue('dob', format(new Date(dob.toDate()), 'yyyy-MM-dd'));\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadGenders();\r\n        loadMaritalStatus();\r\n        loadEducation();\r\n        loadOccupation();\r\n        loadRelationships();\r\n        loadTopLevelCountry();\r\n        getPatient();\r\n    }, [loadGenders, loadMaritalStatus, loadEducation, loadOccupation, loadRelationships, loadTopLevelCountry, getPatient]);\r\n\r\n    let genderRows = null;\r\n    let maritalStatusRows = null;\r\n    let educationRows = null;\r\n    let occupationRows = null;\r\n    let relationshipRows = null;\r\n    let topLevelUnitCountryRows = null;\r\n    let stateRows = null;\r\n    let districtRows = null;\r\n    if (genders && genders.length > 0) {\r\n        genderRows = genders.map((gender, index) => (\r\n            <option key={gender.id} value={gender.id}>{gender.display}</option>\r\n        ));\r\n    }\r\n    if (maritalStatusOptions && maritalStatusOptions.length > 0) {\r\n        maritalStatusRows = maritalStatusOptions.map((maritalStatusOption, index) => (\r\n            <option key={maritalStatusOption.id} value={maritalStatusOption.id}>{maritalStatusOption.display}</option>\r\n        ));\r\n    }\r\n    if (educationOptions && educationOptions.length > 0) {\r\n        educationRows = educationOptions.map((educationOption, index) => (\r\n            <option key={educationOption.id} value={educationOption.id}>{educationOption.display}</option>\r\n        ));\r\n    }\r\n    if (occupationOptions && occupationOptions.length > 0) {\r\n        occupationRows = occupationOptions.map((occupationOption, index) => (\r\n            <option key={occupationOption.id} value={occupationOption.id}>{occupationOption.display}</option>\r\n        ));\r\n    }\r\n    if (relationshipOptions && relationshipOptions.length > 0) {\r\n        relationshipRows = relationshipOptions.map((relationshipOption, index) => (\r\n            <option key={relationshipOption.id} value={relationshipOption.id}>{relationshipOption.display}</option>\r\n        ));\r\n    }\r\n    if (topLevelUnitCountryOptions && topLevelUnitCountryOptions.length > 0) {\r\n        topLevelUnitCountryRows = topLevelUnitCountryOptions.map((topLevelUnitCountryOption, index) => (\r\n            <option key={topLevelUnitCountryOption.id} value={topLevelUnitCountryOption.id}>{topLevelUnitCountryOption.name}</option>\r\n        ));\r\n    }\r\n    if (stateUnitOptions && stateUnitOptions.length > 0) {\r\n        stateRows = stateUnitOptions.map((stateUnitOption, index) => (\r\n            <option key={stateUnitOption.id} value={stateUnitOption.id}>{stateUnitOption.name}</option>\r\n        ));\r\n    }\r\n    if (districtUnitOptions && districtUnitOptions.length > 0) {\r\n        districtRows = districtUnitOptions.map((districtUnitOption, index) => (\r\n            <option key={districtUnitOption.id} value={districtUnitOption.id}>{districtUnitOption.name}</option>\r\n        ));\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        history.push('/');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer autoClose={3000} hideProgressBar />\r\n            <Card className={classes.cardBottom}>\r\n                <CardContent>\r\n                    <Link\r\n                        to={{\r\n                            pathname: \"/\",\r\n                            state: 'users'\r\n                        }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className=\" float-right ms-1\"\r\n                            style={{backgroundColor:'#04C4D9',fontWeight:\"bolder\"}}\r\n                            startIcon={<TiArrowBack />}\r\n                        >\r\n                            <span style={{ textTransform: \"capitalize\" }}>Back </span>\r\n                        </Button>\r\n                    </Link>\r\n                    <br />\r\n                    <br />\r\n                    <div className=\"col-xl-12 col-lg-12\">\r\n                        <Form onSubmit={handleSubmit(onSubmit, onError)}>\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\" style={{backgroundColor:\"#04C4D9\",color:'#fff',fontWeight:'bolder'}}>\r\n                                    <h5 className=\"card-title\">{userDetail===null ? \"Basic Information\" : \"Edit User Information\"}</h5>\r\n                                </div>\r\n\r\n                                <div className=\"card-body\">\r\n                                    <div className=\"basic-form\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"form-group mb-3 col-md-4\">\r\n                                                <FormGroup>\r\n                                                    <Label for=\"dateOfRegistration\">Date of Registration*</Label>\r\n                                                    <input\r\n                                                        className=\"form-control\"\r\n                                                        type=\"date\"\r\n                                                        name=\"dateOfRegistration\"\r\n                                                        id=\"dateOfRegistration\"\r\n                                                        max={today}\r\n                                                        {...register(\"dateOfRegistration\")}\r\n                                                        style={{border: \"1px solid #04C4D9\"}}\r\n                                                    />\r\n                                                    {errors.dateOfRegistration && <p>{errors.dateOfRegistration.message}</p>}\r\n                                                </FormGroup>\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group mb-3 col-md-4\">\r\n                                                <FormGroup>\r\n                                                    <Label for=\"patientId\">Hospital Number* </Label>\r\n                                                    <input\r\n                                                        className=\"form-control\"\r\n                                                        type=\"text\"\r\n                                                        name=\"hospitalNumber\"\r\n                                                        id=\"hospitalNumber\"\r\n                                                        {...register(\"hospitalNumber\")}\r\n                                                        style={{border: \"1px solid #04C4D9\"}}\r\n                                                    />\r\n                                                    {errors.hospitalNumber && <p>{errors.hospitalNumber.message}</p>}\r\n                                                </FormGroup>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"row\">\r\n                                            <div className=\"form-group mb-3 col-md-4\">\r\n                                                <FormGroup>\r\n                                                    <Label for=\"firstName\">First Name *</Label>\r\n                                                    <input\r\n                                                        className=\"form-control\"\r\n                                                        type=\"text\"\r\n                                                        name=\"firstName\"\r\n                                                        id=\"firstName\"\r\n                                                        {...register(\"firstName\")}\r\n                                                        style={{border: \"1px solid #04C4D9\"}}\r\n                                                    />\r\n                                                    {errors.firstName && <p>{errors.firstName.message}</p>}\r\n                                                </FormGroup>\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group mb-3 col-md-4\">\r\n                                                <FormGroup>\r\n                                                    <Label>Middle Name</Label>\r\n                                                    <input\r\n                                                        className=\"form-control\"\r\n                                                        type=\"text\"\r\n                                                        name=\"middleName\"\r\n                                                        id=\"middleName\"\r\n                                                        {...register(\"middleName\")}\r\n                                                        style={{border: \"1px solid #04C4D9\"}}\r\n                                                    />\r\n                                                    {errors.middleName && <p>{errors.middleName.message}</p>}\r\n                                                </FormGroup>\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group mb-3 col-md-4\">\r\n                                                <FormGroup>\r\n                                                    <Label>Last Name *</Label>\r\n                                                    <input\r\n                                                        className=\"form-control\"\r\n                                                        type=\"text\"\r\n                                                        name=\"lastName\"\r\n                                                        id=\"lastName\"\r\n                                                        {...register(\"lastName\")}\r\n                                                        style={{border: \"1px solid #04C4D9\"}}\r\n                                                    />\r\n                                                    {errors.lastName && <p>{errors.lastName.message}</p>}\r\n                                                </FormGroup>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"row\">\r\n                                            <div className=\"form-group  col-md-4\">\r\n                                                <FormGroup>\r\n                                                    <Label>Sex *</Label>\r\n                                                    <select\r\n                                                        className=\"form-control\"\r\n                                                        name=\"sex\"\r\n                                                        id=\"sex\"\r\n                                                        {...register(\"sex\")}\r\n                                                        style={{border: \"1px solid #04C4D9\"}}\r\n                                                    >\r\n                                                        <option value={\"\"}></option>\r\n                                                        {genderRows}\r\n                                                    </select>\r\n                                                    {errors.sex && <p>{errors.sex.message}</p>}\r\n                                                </FormGroup>\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group  col-md-4\">\r\n                                                <FormGroup>\r\n                                                    <Label>Employment Status *</Label>\r\n                                                    <select\r\n                                                        className=\"form-control\"\r\n                                                        name=\"employmentStatus\"\r\n                                                        id=\"employmentStatus\"\r\n                                                        {...register(\"employmentStatus\")}\r\n                                                        style={{border: \"1px solid #04C4D9\"}}\r\n                                                    >\r\n                                                        <option value={\"\"}></option>\r\n                                                        {occupationRows}\r\n                                                    </select>\r\n                                                    {errors.lastName && <p>{errors.lastName.message}</p>}\r\n                                                </FormGroup>\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group  col-md-4\">\r\n                                                <FormGroup>\r\n                                                    <Label>Highest Qualification *</Label>\r\n                                                    <select\r\n                                                        className=\"form-control\"\r\n                                                        name=\"highestQualification\"\r\n                                                        id=\"highestQualification\"\r\n                                                        {...register(\"highestQualification\")}\r\n                                                        style={{border: \"1px solid #04C4D9\"}}\r\n                                                    >\r\n                                                        <option value={\"\"}></option>\r\n                                                        {educationRows}\r\n                                                    </select>\r\n                                                    {errors.highestQualification && <p>{errors.highestQualification.message}</p>}\r\n                                                </FormGroup>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className={\"row\"}>\r\n                                            <div className=\"form-group mb-3 col-md-3\">\r\n                                                <FormGroup>\r\n                                                    <Label>Marital Status</Label>\r\n                                                    <select\r\n                                                        className=\"form-control\"\r\n                                                        name=\"maritalStatus\"\r\n                                                        id=\"maritalStatus\"\r\n                                                        {...register(\"maritalStatus\")}\r\n                                                        style={{border: \"1px solid #04C4D9\"}}\r\n                                                    >\r\n                                                        <option value={\"\"}></option>\r\n                                                        {maritalStatusRows}\r\n                                                    </select>\r\n                                                    {errors.maritalStatus && <p>{errors.maritalStatus.message}</p>}\r\n                                                </FormGroup>\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group mb-2 col-md-2\">\r\n                                                <FormGroup>\r\n                                                    <Label>Date Of Birth</Label>\r\n                                                    <div className=\"radio\">\r\n                                                        <label>\r\n                                                            <input\r\n                                                                type=\"radio\"\r\n                                                                value=\"Actual\"\r\n                                                                name=\"dateOfBirth\"\r\n                                                                defaultChecked\r\n                                                                {...register(\"dateOfBirth\")}\r\n                                                                onChange={(e) => handleDateOfBirthChange(e)}\r\n                                                                style={{border: \"1px solid #04C4D9\"}}\r\n                                                            /> Actual\r\n                                                        </label>\r\n                                                    </div>\r\n                                                    <div className=\"radio\">\r\n                                                        <label>\r\n                                                            <input\r\n                                                                type=\"radio\"\r\n                                                                value=\"Estimated\"\r\n                                                                name=\"dateOfBirth\"\r\n                                                                {...register(\"dateOfBirth\")}\r\n                                                                onChange={(e) => handleDateOfBirthChange(e)}\r\n                                                                style={{border: \"1px solid #04C4D9\"}}\r\n                                                            /> Estimated\r\n                                                        </label>\r\n                                                    </div>\r\n                                                </FormGroup>\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group mb-3 col-md-3\">\r\n                                                <FormGroup>\r\n                                                    <Label>Date</Label>\r\n                                                    <input\r\n                                                        className=\"form-control\"\r\n                                                        type=\"date\"\r\n                                                        name=\"dob\"\r\n                                                        id=\"dob\"\r\n                                                        max={today}\r\n                                                        {...register(\"dob\")}\r\n                                                        onChange={(e) => handleDobChange(e)}\r\n                                                        style={{border: \"1px solid #04C4D9\"}}\r\n                                                    />\r\n                                                    {errors.dob && <p>{errors.dob.message}</p>}\r\n                                                </FormGroup>\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group mb-3 col-md-3\">\r\n                                                <FormGroup>\r\n                                                    <Label>Age</Label>\r\n                                                    <input\r\n                                                        className=\"form-control\"\r\n                                                        type=\"number\"\r\n                                                        name=\"age\"\r\n                                                        id=\"age\"\r\n                                                        {...register(\"age\")}\r\n                                                        disabled={ageDisabled}\r\n                                                        onChange={(e) => handleAgeChange(e)}\r\n                                                        style={{border: \"1px solid #04C4D9\"}}\r\n                                                    />\r\n                                                </FormGroup>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\" style={{backgroundColor:\"#04C4D9\",color:'#fff',fontWeight:'bolder'}}>\r\n                                    <h5 className=\"card-title\">Contact Details</h5>\r\n                                </div>\r\n\r\n                                <div className=\"card-body\">\r\n                                    <div className={\"row\"}>\r\n                                        <div className=\"form-group  col-md-4\">\r\n                                            <FormGroup>\r\n                                                <Label>Phone Number *</Label>\r\n                                                <input\r\n                                                    className=\"form-control\"\r\n                                                    type=\"tel\"\r\n                                                    name=\"pnumber\"\r\n                                                    id=\"pnumber\"\r\n                                                    {...register(\"pnumber\")}\r\n                                                    placeholder=\"(234)7099999999\"\r\n                                                    style={{border: \"1px solid #04C4D9\"}}\r\n                                                />\r\n                                                {errors.pnumber && <p>{errors.pnumber.message}</p>}\r\n                                            </FormGroup>\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group col-md-4\">\r\n                                            <FormGroup>\r\n                                                <Label>Alt. Phone Number</Label>\r\n                                                <input\r\n                                                    className=\"form-control\"\r\n                                                    type=\"tel\"\r\n                                                    name=\"altPhoneNumber\"\r\n                                                    id=\"altPhoneNumber\"\r\n                                                    {...register(\"altPhonenumber\")}\r\n                                                    placeholder=\"(234)7099999999\"\r\n                                                    style={{border: \"1px solid #04C4D9\"}}\r\n                                                />\r\n                                                {errors.altPhonenumber && <p>{errors.altPhonenumber.message}</p>}\r\n                                            </FormGroup>\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group col-md-4\">\r\n                                            <FormGroup>\r\n                                                <Label>Email</Label>\r\n                                                <input\r\n                                                    className=\"form-control\"\r\n                                                    type=\"email\"\r\n                                                    name=\"email\"\r\n                                                    id=\"email\"\r\n                                                    {...register(\"email\")}\r\n                                                    style={{border: \"1px solid #04C4D9\"}}\r\n                                                />\r\n                                                {errors.email && <p>{errors.email.message}</p>}\r\n                                            </FormGroup>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"row\">\r\n                                        <div className=\"form-group  col-md-4\">\r\n                                            <FormGroup>\r\n                                                <Label>Country</Label>\r\n                                                <select\r\n                                                    className=\"form-control\"\r\n                                                    type=\"text\"\r\n                                                    name=\"country\"\r\n                                                    id=\"country\"\r\n                                                    style={{border: \"1px solid #04C4D9\"}}\r\n                                                    {...register(\"countryId\")}\r\n                                                    onChange={(e) => onCountryChange(e)}>\r\n                                                    <option value={\"\"}></option>\r\n                                                    {topLevelUnitCountryRows}\r\n                                                </select>\r\n                                                {errors.country && <p>{errors.country.message}</p>}\r\n                                            </FormGroup>\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group  col-md-4\">\r\n                                            <FormGroup>\r\n                                                <Label>State</Label>\r\n                                                <select\r\n                                                    className=\"form-control\"\r\n                                                    type=\"text\"\r\n                                                    name=\"stateId\"\r\n                                                    id=\"stateId\"\r\n                                                    style={{border: \"1px solid #04C4D9\"}}\r\n                                                    {...register(\"stateId\")}\r\n                                                    onChange={(e) => onStateChange(e)}>\r\n                                                    <option value={\"\"}></option>\r\n                                                    {stateRows}\r\n                                                </select>\r\n                                            </FormGroup>\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group  col-md-4\">\r\n                                            <FormGroup>\r\n                                                <Label>Province/District/LGA</Label>\r\n                                                <select\r\n                                                    className=\"form-control\"\r\n                                                    type=\"text\"\r\n                                                    name=\"district\"\r\n                                                    id=\"district\"\r\n                                                    style={{border: \"1px solid #04C4D9\"}}\r\n                                                    {...register(\"district\")}>\r\n                                                    <option value={\"\"}></option>\r\n                                                    {districtRows}\r\n                                                </select>\r\n                                            </FormGroup>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className={\"row\"}>\r\n                                        <div className=\"form-group  col-md-4\">\r\n                                            <FormGroup>\r\n                                                <Label>Street Address</Label>\r\n                                                <input\r\n                                                    className=\"form-control\"\r\n                                                    type=\"text\"\r\n                                                    name=\"address\"\r\n                                                    id=\"address\"\r\n                                                    style={{border: \"1px solid #04C4D9\"}}\r\n                                                    {...register(\"address\")}\r\n                                                />\r\n                                                {errors.address && <p>{errors.address.message}</p>}\r\n                                            </FormGroup>\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group  col-md-4\">\r\n                                            <FormGroup>\r\n                                                <Label>Landmark</Label>\r\n                                                <input\r\n                                                    className=\"form-control\"\r\n                                                    type=\"text\"\r\n                                                    name=\"landmark\"\r\n                                                    id=\"landmark\"\r\n                                                    style={{border: \"1px solid #04C4D9\"}}\r\n                                                    {...register(\"landmark\")}\r\n                                                />\r\n                                                {errors.landmark && <p>{errors.landmark.message}</p>}\r\n                                            </FormGroup>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\" style={{backgroundColor:\"#04C4D9\",color:'#fff',fontWeight:'bolder'}}>\r\n                                    <h5 className=\"card-title\">Relationship / Next Of Kin</h5>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <div className=\"row\">\r\n                                        {\r\n                                            contacts && contacts.length > 0 && (\r\n                                                <div className=\"col-xl-12 col-lg-12\">\r\n                                                    <table style={{ width: '100%' }}>\r\n                                                        <thead>\r\n                                                        <tr>\r\n                                                            <th>Relationship Type</th>\r\n                                                            <th>Name</th>\r\n                                                            <th>Phone</th>\r\n                                                            <th>Address</th>\r\n                                                            <th>Actions</th>\r\n                                                        </tr>\r\n                                                        </thead>\r\n                                                        <tbody>\r\n                                                        {contacts.map((item, index) => {\r\n                                                            return (\r\n                                                                <tr key={item.index}>\r\n                                                                    <td>{ getRelationship(item.relationshipId) }</td>\r\n                                                                    <td>{ getNames(item) }</td>\r\n                                                                    <td>{ getPhoneContactPoint(item.contactPoint) }</td>\r\n                                                                    <td>{ getAddress(item.address) }</td>\r\n                                                                    <td>\r\n                                                                        <button type=\"button\"\r\n                                                                                className=\"btn btn-default btn-light btn-sm editRow\"\r\n                                                                                onClick={(e) => handleEditRelative(item, index)}>\r\n                                                                            <FontAwesomeIcon icon=\"edit\" />\r\n                                                                        </button>\r\n                                                                        &nbsp;&nbsp;\r\n                                                                        <button\r\n                                                                            type=\"button\"\r\n                                                                            className=\"btn btn-danger btn-sm removeRow\"\r\n                                                                            onClick={(e) => handleDeleteRelative(index)}>\r\n                                                                            <FontAwesomeIcon icon=\"trash\" />\r\n                                                                        </button>\r\n                                                                    </td>\r\n                                                                </tr>\r\n                                                            );\r\n                                                        })}\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                        <div className=\"col-xl-12 col-lg-12\">\r\n                                            {\r\n                                                showRelative && (\r\n                                                    <div className=\"card\">\r\n                                                        <div className=\"card-body\">\r\n                                                            <div className=\"row\">\r\n                                                                <div className=\"form-group mb-3 col-md-3\">\r\n                                                                    <FormGroup>\r\n                                                                        <Label for=\"relationshipType\">Relationship Type *</Label>\r\n                                                                        <select\r\n                                                                            className=\"form-control\"\r\n                                                                            name=\"relationshipType\"\r\n                                                                            id=\"relationshipType\"\r\n                                                                            style={{border: \"1px solid #04C4D9\"}}\r\n                                                                            {...register(\"relationshipType\")}>\r\n                                                                            <option value={\"\"}></option>\r\n                                                                            {relationshipRows}\r\n                                                                        </select>\r\n                                                                        {errors.relationshipType && <p>{errors.relationshipType.message}</p>}\r\n                                                                    </FormGroup>\r\n                                                                </div>\r\n\r\n                                                                <div className=\"form-group mb-3 col-md-3\">\r\n                                                                    <FormGroup>\r\n                                                                        <Label for=\"cfirstName\">First Name *</Label>\r\n                                                                        <input\r\n                                                                            className=\"form-control\"\r\n                                                                            type=\"text\"\r\n                                                                            name=\"cfirstName\"\r\n                                                                            id=\"cfirstName\"\r\n                                                                            style={{border: \"1px solid #04C4D9\"}}\r\n                                                                            {...register(\"cfirstName\")}\r\n                                                                        />\r\n                                                                        {errors.cfirstName && <p>{errors.cfirstName.message}</p>}\r\n                                                                    </FormGroup>\r\n                                                                </div>\r\n\r\n                                                                <div className=\"form-group mb-3 col-md-3\">\r\n                                                                    <FormGroup>\r\n                                                                        <Label>Middle Name</Label>\r\n                                                                        <input\r\n                                                                            className=\"form-control\"\r\n                                                                            type=\"text\"\r\n                                                                            name=\"cmiddleName\"\r\n                                                                            id=\"cmiddleName\"\r\n                                                                            style={{border: \"1px solid #04C4D9\"}}\r\n                                                                            {...register(\"cmiddleName\")}\r\n                                                                        />\r\n                                                                        {errors.cmiddleName && <p>{errors.cmiddleName.message}</p>}\r\n                                                                    </FormGroup>\r\n                                                                </div>\r\n\r\n                                                                <div className=\"form-group mb-3 col-md-3\">\r\n                                                                    <FormGroup>\r\n                                                                        <Label>Last Name *</Label>\r\n                                                                        <input\r\n                                                                            className=\"form-control\"\r\n                                                                            type=\"text\"\r\n                                                                            name=\"clastName\"\r\n                                                                            id=\"clastName\"\r\n                                                                            style={{border: \"1px solid #04C4D9\"}}\r\n                                                                            {...register(\"clastName\")}\r\n                                                                        />\r\n                                                                        {errors.clastName && <p>{errors.clastName.message}</p>}\r\n                                                                    </FormGroup>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                            <div className=\"row\">\r\n                                                                <div className=\"form-group mb-3 col-md-3\">\r\n                                                                    <FormGroup>\r\n                                                                        <Label for=\"contactPhoneNumber\">Phone Number</Label>\r\n                                                                        <input\r\n                                                                            className=\"form-control\"\r\n                                                                            type=\"text\"\r\n                                                                            name=\"contactPhoneNumber\"\r\n                                                                            id=\"contactPhoneNumber\"\r\n                                                                            style={{border: \"1px solid #04C4D9\"}}\r\n                                                                            {...register(\"contactPhoneNumber\")}\r\n                                                                        />\r\n                                                                        {errors.contactPhoneNumber && <p>{errors.contactPhoneNumber.message}</p>}\r\n                                                                    </FormGroup>\r\n                                                                </div>\r\n\r\n                                                                <div className=\"form-group mb-3 col-md-3\">\r\n                                                                    <FormGroup>\r\n                                                                        <Label for=\"contactEmail\">Email</Label>\r\n                                                                        <input\r\n                                                                            className=\"form-control\"\r\n                                                                            type=\"text\"\r\n                                                                            name=\"contactEmail\"\r\n                                                                            id=\"contactEmail\"\r\n                                                                            style={{border: \"1px solid #04C4D9\"}}\r\n                                                                            {...register(\"contactEmail\")}\r\n                                                                        />\r\n                                                                        {errors.contactEmail && <p>{errors.contactEmail.message}</p>}\r\n                                                                    </FormGroup>\r\n                                                                </div>\r\n\r\n                                                                <div className=\"form-group mb-3 col-md-3\">\r\n                                                                    <FormGroup>\r\n                                                                        <Label for=\"contactAddress\">Address</Label>\r\n                                                                        <input\r\n                                                                            className=\"form-control\"\r\n                                                                            type=\"text\"\r\n                                                                            name=\"contactAddress\"\r\n                                                                            id=\"contactAddress\"\r\n                                                                            style={{border: \"1px solid #04C4D9\"}}\r\n                                                                            {...register(\"contactAddress\")}\r\n                                                                        />\r\n                                                                        {errors.contactAddress && <p>{errors.contactAddress.message}</p>}\r\n                                                                    </FormGroup>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                            <div className=\"row\">\r\n                                                                <div className=\"\">\r\n                                                                    <MatButton\r\n                                                                        type=\"button\"\r\n                                                                        variant=\"contained\"\r\n                                                                        color=\"primary\"\r\n                                                                        className={classes.button}\r\n                                                                        onClick={handleSaveRelationship}\r\n                                                                    >\r\n                                                                        Add\r\n                                                                    </MatButton>\r\n                                                                </div>\r\n\r\n                                                                <div className=\"\">\r\n                                                                    <MatButton\r\n                                                                        type=\"button\"\r\n                                                                        variant=\"contained\"\r\n                                                                        color=\"secondary\"\r\n                                                                        className={classes.button}\r\n                                                                        onClick={handleCancelSaveRelationship}\r\n                                                                    >\r\n                                                                        Cancel\r\n                                                                    </MatButton>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"row\">\r\n                                        <MatButton\r\n                                            type=\"button\"\r\n                                            variant=\"contained\"\r\n                                            color=\"primary\"\r\n                                            className={classes.button}\r\n                                            startIcon={<AddIcon />}\r\n                                            onClick={handleAddRelative}\r\n                                            style={{backgroundColor:'#04C4D9',fontWeight:\"bolder\"}}\r\n                                        >\r\n                                            Add a Relative/Next Of Kin\r\n                                        </MatButton>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {saving ? <Spinner /> : \"\"}\r\n\r\n                            <br />\r\n\r\n                            {userDetail ===null ? (\r\n                                    <MatButton\r\n                                        type=\"submit\"\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        className={classes.button}\r\n                                        startIcon={<SaveIcon />}\r\n                                    >\r\n                                        {!saving ? (\r\n                                            <span style={{ textTransform: \"capitalize\" }}>Save</span>\r\n                                        ) : (\r\n                                            <span style={{ textTransform: \"capitalize\" }}>Saving...</span>\r\n                                        )}\r\n                                    </MatButton>\r\n                                )\r\n                                :\r\n                                (\r\n                                    <MatButton\r\n                                        type=\"submit\"\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        className={classes.button}\r\n                                        startIcon={<SaveIcon />}\r\n                                    >\r\n                                        {!saving ? (\r\n                                            <span style={{ textTransform: \"capitalize\" }}>Save</span>\r\n                                        ) : (\r\n                                            <span style={{ textTransform: \"capitalize\" }}>Saving...</span>\r\n                                        )}\r\n                                    </MatButton>\r\n                                )\r\n                            }\r\n                            <MatButton\r\n                                variant=\"contained\"\r\n                                className={classes.button}\r\n                                startIcon={<CancelIcon />}\r\n                                onClick={handleCancel}\r\n                            >\r\n                                <span style={{ textTransform: \"capitalize\" }}>Cancel</span>\r\n                            </MatButton>\r\n                        </Form>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UserRegistration\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport {Modal,ModalHeader, ModalBody,Form,\r\n        Row,Label,Card,CardBody,Col, FormGroup,CardHeader, Input\r\n        } from \"reactstrap\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Select from \"react-select\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"react-widgets/dist/css/react-widgets.css\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport MatButton from \"@material-ui/core/Button\";\r\nimport FingerprintIcon from '@material-ui/icons/Fingerprint';\r\nimport { Button2, Icon, List } from 'semantic-ui-react'\r\nimport {ToastContainer, toast} from \"react-toastify\";\r\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\r\nimport axios from \"axios\";\r\nimport {token, url as baseUrl} from \"../../../api\";\r\n\r\nimport { green, red } from '@mui/material/colors';\r\nimport { Dimmer, Loader, Image, Segment } from 'semantic-ui-react'\r\n\r\nimport Box from '@mui/material/Box';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Button from '@mui/material/Button';\r\nimport Fab from '@mui/material/Fab';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n//import SaveIcon from '@mui/icons-material/Save';\r\n// import LinearProgress from '@mui/material/LinearProgress';\r\nimport Typography from '@mui/material/Typography';\r\n// import CancelIcon from '@mui/icons-material/Cancel';\r\n// import ModalImage from \"react-modal-image\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    card: {\r\n        margin: theme.spacing(20),\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n    },\r\n    form: {\r\n        width: \"100%\", // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n    cardBottom: {\r\n        marginBottom: 20,\r\n    },\r\n    Select: {\r\n        height: 45,\r\n        width: 350,\r\n    },\r\n    button: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    root: {\r\n        \"& > *\": {\r\n            margin: theme.spacing(1),\r\n        },\r\n    },\r\n    input: {\r\n        display: \"none\",\r\n    },\r\n    error: {\r\n        color: \"#f85032\",\r\n        fontSize: \"12.8px\",\r\n    },\r\n}));\r\n\r\nlet checkUrl=\"\"\r\n\r\nconst CaptureBiometric = (props) => {\r\n    const classes = useStyles()\r\n    const biometricDevices = props.biometricDevices\r\n    const [objValues, setObjValues]= useState({biometricType: \"FINGERPRINT\", patientId:props.patientId, templateType:\"\", device:\"\"})\r\n    const [fingerType, setFingerType] = useState([]);\r\n    const [devices, setDevices] = useState(props.biometricDevices);\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [showCapture, setshowCapture] = React.useState(false);\r\n    const [tryAgain, setTryAgain] = React.useState(false);\r\n    const [success, setSuccess] = React.useState(false);\r\n    const [errors, setErrors] = useState({});\r\n   // const [responseImage, setResponseImage] = useState(\"\")\r\n    const [capturedFingered, setCapturedFingered]= useState([])\r\n     console.log(biometricDevices)\r\n    const buttonSx = {\r\n      ...(success && {\r\n        bgcolor: green[500],\r\n        '&:hover': {\r\n          bgcolor: green[700],\r\n        },\r\n      }),\r\n    };\r\n\r\n\r\n    useEffect(() => {      \r\n        TemplateType();\r\n        if(objValues.device===\"\"){\r\n            setshowCapture(false)\r\n        }\r\n        \r\n      }, []);\r\n     //Get list of Finger index\r\n     const TemplateType =()=>{\r\n        axios\r\n           .get(`${baseUrl}application-codesets/v2/BIOMETRIC_CAPTURE_FINGERS`,\r\n               { headers: {\"Authorization\" : `Bearer ${token}`} }\r\n           )\r\n           .then((response) => {\r\n               setFingerType(response.data);\r\n           })\r\n           .catch((error) => {\r\n           });\r\n       \r\n     }\r\n\r\n     //check if device is plugged or not \r\n     const checkDevice = e =>{\r\n        const deviceName =e.target.value;\r\n        const selectedDevice=biometricDevices.find((x)=> x.name ===deviceName )\r\n        checkUrl= selectedDevice.url===null? baseUrl : selectedDevice.url\r\n        console.log(checkUrl)\r\n        setObjValues({...objValues, device:deviceName})\r\n        axios\r\n           .get(`${checkUrl}biometrics/secugen/boot?reader=${deviceName}`,\r\n               { headers: {\"Authorization\" : `Bearer ${token}`} }\r\n           )\r\n           .then((response) => {\r\n            if(response.data.errorType ===\"ERROR\"){\r\n                toast.error(response.data.errorName + \" is not plug\");\r\n                //setshowCapture(true)\r\n            }else{\r\n                setshowCapture(true)\r\n            }\r\n           })\r\n           .catch((error) => {\r\n           });\r\n     }\r\n     // handle the input changes \r\n\r\n     const handleInputChange = e => {        \r\n        setObjValues ({...objValues,  [e.target.name]: e.target.value});\r\n    }\r\n    //form validation \r\n    const validate = () => {\r\n        let temp = { ...errors }\r\n        temp.templateType = objValues.templateType ? \"\" : \"This field is required\"\r\n        temp.device = objValues.device ? \"\" : \"This field is required\"\r\n        setErrors({\r\n            ...temp\r\n            })    \r\n        return Object.values(temp).every(x => x == \"\")\r\n    }\r\n    //to capture  selected index finger \r\n    const captureFinger = (e) => {        \r\n        e.preventDefault();\r\n        if(validate()){\r\n            axios.post(`${checkUrl}biometrics/secugen/enrollment?reader=SG_DEV_AUTO`,objValues,\r\n            { headers: {\"Authorization\" : `Bearer ${token}`}},           \r\n            )\r\n              .then(response => {\r\n                  setLoading(true);\r\n                  if(response.data.type ===\"ERROR\"){                   \r\n                    setLoading(false);\r\n                    setTryAgain(true);\r\n                    window.setTimeout(() => {\r\n                        setTryAgain(false);\r\n                      }, 5000);\r\n                    toast.error(response.data.message.ERROR);\r\n                  }else{\r\n                    const templateType= response.data.templateType\r\n                    setTryAgain(false);\r\n                    setSuccess(true)\r\n                    window.setTimeout(() => {\r\n                        setSuccess(false)\r\n                        setLoading(false);                        \r\n                      }, 5000);\r\n                                        \r\n                    setCapturedFingered([...capturedFingered, response.data])\r\n                    fingerType.splice(templateType, 1);\r\n                    setFingerType([...fingerType]);\r\n                  }\r\n                  //toast.success(\"Record save successful\");\r\n              })\r\n              .catch(error => {                 \r\n              });\r\n        }\r\n    }\r\n\r\n    //Save Biometric capture\r\n    const saveBiometrics = (e) => {        \r\n        e.preventDefault();\r\n        if(capturedFingered.length > 1){\r\n            const capturedObj= capturedFingered[capturedFingered.length - 1]\r\n            axios.post(`${baseUrl}biometrics/templates`,capturedObj,\r\n            { headers: {\"Authorization\" : `Bearer ${token}`}},           \r\n            )\r\n              .then(response => {\r\n                toast.success(\"Biometric save successful\");\r\n                setCapturedFingered([])\r\n                props.setPatientBiometricStatus(true)\r\n                props.togglestatus()\r\n            })\r\n            .catch(error => {\r\n                toast.error(\"Something went wrong\");\r\n            });\r\n        }else{\r\n            \r\n            toast.error(\"You can't save less than 2 finger\");\r\n        }\r\n  }  \r\n    \r\n // console.log(capturedFingered)\r\n\r\n    return (\r\n        <div >\r\n            <Card >\r\n                <CardBody>\r\n                    <Modal isOpen={props.modalstatus} toggle={props.togglestatus} className={props.className} size=\"lg\">\r\n                        <Form >\r\n                            <ModalHeader toggle={props.togglestatus}>capture Biometric</ModalHeader>\r\n                            <ModalBody>\r\n                                <Card>\r\n                                {/* <CardHeader>\r\n                                    Capture Biometrics\r\n                                </CardHeader> */}\r\n                                    <CardBody>\r\n                                    <Row form>\r\n                                    <ToastContainer />\r\n                                        <Col md={4}>\r\n                                            <FormGroup>\r\n                                                <Label for='device'>Select Device </Label>\r\n                                                <Input\r\n                                                    type=\"select\"\r\n                                                    name=\"device\"\r\n                                                    id=\"device\"\r\n                                                    onChange={checkDevice}\r\n                                                    value={objValues.device}\r\n                                                    required\r\n                                                >\r\n                                                <option value=\"\">Select Device </option>\r\n                                                {biometricDevices.map(({ id, name }) => (\r\n                                                    <option key={id} value={name}>\r\n                                                        {name}\r\n                                                    </option>\r\n                                                ))}\r\n                                              \r\n                                            </Input>\r\n                                            {errors.device !==\"\" ? (\r\n                                                <span className={classes.error}>{errors.device}</span>\r\n                                            ) : \"\" }\r\n                                            </FormGroup>\r\n                                        </Col>\r\n                                        {showCapture ? (\r\n                                        <>\r\n                                            <Col md={4}>\r\n                                            <FormGroup>\r\n                                                <Label for='device'>Select Finger</Label>\r\n                                                <Input\r\n                                                    type=\"select\"\r\n                                                    name=\"templateType\"\r\n                                                    id=\"templateType\"\r\n                                                    onChange={handleInputChange}\r\n                                                    value={objValues.templateType}\r\n                                                    required\r\n                                                >\r\n                                                <option value=\"\">Select Finger </option>\r\n\r\n                                                {fingerType.map((value) => (\r\n                                                    <option key={value.id} value={value.display}>\r\n                                                        {value.display}\r\n                                                    </option>\r\n                                                ))}\r\n                                            </Input>\r\n                                            {errors.templateType !==\"\" ? (\r\n                                                <span className={classes.error}>{errors.templateType}</span>\r\n                                            ) : \"\" }\r\n                                            </FormGroup>\r\n                                        </Col>\r\n                                        \r\n\r\n                                        <Col md={4}>\r\n                                        \r\n                                        <MatButton\r\n                                            type='button'\r\n                                            variant='contained'\r\n                                            color='primary'\r\n                                            onClick={captureFinger}\r\n                                            className={'mt-4'}\r\n                                            startIcon={<FingerprintIcon />}\r\n                                        >\r\n                                            Capture Finger\r\n                                        </MatButton>\r\n\r\n                                        </Col>\r\n                                        <br/>\r\n                                        \r\n                                        </>\r\n                                        )\r\n                                        :\r\n                                        \"\"\r\n                                        }\r\n                                        {/* <img width='500' height='200' src={responseImage}/> */}\r\n                                        <Col sm=\"12\" md={{ size: 6, offset: 3 }}>\r\n                                       \r\n                                     {loading && (\r\n                                        <>\r\n                                         <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                                            <Box sx={{ m: 1, position: 'relative' }}>\r\n                                                <Fab\r\n                                                aria-label=\"save\"\r\n                                                color=\"secondary\"\r\n                                                sx={buttonSx}\r\n                                                \r\n                                                >\r\n                                                {success ? <CheckIcon /> : <FingerprintIcon />}\r\n                                                </Fab>\r\n                                                {loading && (\r\n                                                <CircularProgress\r\n                                                    size={68}\r\n                                                    sx={{\r\n                                                    color: green[500],\r\n                                                    position: 'absolute',\r\n                                                    top: -6,\r\n                                                    left: -6,\r\n                                                    zIndex: 1,\r\n                                                    }}\r\n                                                />\r\n                                                )}\r\n                                            </Box>\r\n                                            <Typography variant=\"h6\" gutterBottom component=\"div\">\r\n                                            {success ?` your  ${objValues.templateType} Finger captured.` : `Please place your  ${objValues.templateType} Finger on scanner.`}\r\n                                            </Typography>\r\n                                        </Box>\r\n                                        </>\r\n                                        )\r\n                                        } \r\n                                        {tryAgain && (\r\n                                        <>\r\n                                        \r\n\r\n                                         <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                                            <Box sx={{ m: 1, position: 'relative' }}>\r\n                                                <Fab\r\n                                                aria-label=\"save\"\r\n                                                color=\"secondary\"\r\n                                                sx={buttonSx}\r\n                                                \r\n                                                >\r\n                                                 <FingerprintIcon />\r\n                                                </Fab>\r\n                                                {tryAgain && (\r\n                                                <CircularProgress\r\n                                                    size={68}\r\n                                                    sx={{\r\n                                                    color: red[500],\r\n                                                    position: 'absolute',\r\n                                                    top: -6,\r\n                                                    left: -6,\r\n                                                    zIndex: 1,\r\n                                                    }}\r\n                                                />\r\n                                                )}\r\n                                            </Box>\r\n                                            <Typography variant=\"h6\" gutterBottom component=\"div\">\r\n                                            Click to Recapture Again\r\n                                            </Typography>\r\n                                        </Box>\r\n                                        </>\r\n                                        )\r\n                                        } \r\n                                        {/*  */}\r\n                                        </Col>\r\n                                       \r\n                                            \r\n                                        </Row>\r\n\r\n                                    <Row>\r\n                                 {capturedFingered.length >=1 ? (  \r\n                                     <>                               \r\n                                    <Col md={12} >\r\n                                        <h3>Captured Fingerprints</h3>\r\n                                    </Col>\r\n                                    <Col md={12} style={{marginTop:\"20px\"}}>\r\n                                        <List celled horizontal>\r\n                                            {capturedFingered.map((x) => (\r\n                                                <List.Item>\r\n                                                    {/* <List.Header><Icon name='cancel'  color='red' /> </List.Header> */}\r\n                                                    <List.Content> <FingerprintIcon style={{color:\"#2E7D32\", fontSize: 40}}/>{x.templateType}</List.Content>\r\n                                                </List.Item>\r\n                                            ))}\r\n\r\n                                        </List>\r\n\r\n                                    </Col>\r\n                                    {/* <Col md={6} style={{marginTop:\"20px\"}}>\r\n                                        <List celled horizontal>\r\n                                            {[1,2,3].map((x) => (\r\n                                                <List.Item>\r\n                                                    <List.Header><Icon name='checkmark' color='green'/> </List.Header>\r\n                                                    <List.Content > <FingerprintIcon style={{color:\"#2E7D32\", fontSize: 40}} /> Finger Type</List.Content>\r\n                                                </List.Item>\r\n                                            ))}\r\n\r\n                                        </List>\r\n\r\n                                    </Col> */}\r\n                                    <br/><br/><br/><br/><br/><br/>\r\n                                        <Col md={12} >\r\n                                            <MatButton\r\n                                                type='button'\r\n                                                variant='contained'\r\n                                                color='primary'\r\n                                                onClick={saveBiometrics}\r\n                                                // className={classes.button}\r\n                                                startIcon={<SaveIcon/>}\r\n                                            >\r\n                                                Save Capture\r\n                                            </MatButton>\r\n                                        </Col>\r\n                                    </> \r\n                                    )\r\n                                        :\r\n                                        \"\"\r\n                                    }\r\n                                    </Row>\r\n                                    </CardBody>\r\n                                </Card>\r\n                            </ModalBody>\r\n                        </Form>\r\n                    </Modal>\r\n                </CardBody>\r\n            </Card>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CaptureBiometric;\r\n","import React,{useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport {Accordion, AccordionActions, AccordionDetails, AccordionSummary} from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport {Button, Label} from 'semantic-ui-react';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport {Col, Row, Modal} from \"reactstrap\";\r\nimport CaptureBiometric from './CaptureBiometric';\r\nimport axios from \"axios\";\r\nimport {token, url as baseUrl} from \"../../../api\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    icon: {\r\n        verticalAlign: 'bottom',\r\n        height: 20,\r\n        width: 20,\r\n    },\r\n    details: {\r\n        alignItems: 'center',\r\n    },\r\n    column: {\r\n        flexBasis: '20.33%',\r\n    },\r\n    helper: {\r\n        borderLeft: `2px solid ${theme.palette.divider}`,\r\n        padding: `${theme.spacing(1)}px ${theme.spacing(1) * 2}px`,\r\n    },\r\n    link: {\r\n        color: theme.palette.primary.main,\r\n        textDecoration: 'none',\r\n        '&:hover': {\r\n            textDecoration: 'underline',\r\n        },\r\n    },\r\n});\r\n\r\nfunction PatientCard(props) {\r\n    const { classes } = props;\r\n    const patientObj = props.patientObj ? props.patientObj : {};\r\n    const permissions= props.permissions ? props.permissions : [];\r\n    const [modal, setModal] = useState(false) //Modal to collect sample\r\n    const [patientBiometricStatus, setPatientBiometricStatus]= useState(props.patientObj.biometricStatus);\r\n    const toggleModal = () => setModal(!modal)\r\n\r\n    const [biometricStatus, setBiometricStatus] = useState(false);\r\n    const [devices, setDevices] = useState([]);\r\n    useEffect(() => {\r\n        TemplateType();\r\n    }, []);\r\n    //Get list of KP\r\n    const TemplateType =()=>{\r\n        axios\r\n            .get(`${baseUrl}modules/check?moduleName=biometric`,\r\n                { headers: {\"Authorization\" : `Bearer ${token}`} }\r\n            )\r\n            .then((response) => {\r\n                console.log(response.data);\r\n                setBiometricStatus(response.data);\r\n                if(response.data===true){\r\n                    axios\r\n                        .get(`${baseUrl}biometrics/devices`,\r\n                            { headers: {\"Authorization\" : `Bearer ${token}`} }\r\n                        )\r\n                        .then((response) => {\r\n                            setDevices(response.data);\r\n\r\n                        })\r\n                        .catch((error) => {\r\n                            console.log(error)\r\n                        });\r\n\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                //console.log(error);\r\n            });\r\n\r\n    }\r\n    const getHospitalNumber = (identifier) => {\r\n        const hospitalNumber = identifier.identifier.find(obj => obj.type == 'HospitalNumber');\r\n        return hospitalNumber ? hospitalNumber.value : '';\r\n    };\r\n\r\n    const calculate_age = dob => {\r\n        const today = new Date();\r\n        const dateParts = dob.split(\"-\");\r\n        const birthDate = new Date(dob); // create a date object directlyfrom`dob1`argument\r\n        let age_now = today.getFullYear() - birthDate.getFullYear();\r\n        const m = today.getMonth() - birthDate.getMonth();\r\n        if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n            age_now--;\r\n        }\r\n        if (age_now === 0) {\r\n            return m + \" month(s)\";\r\n        }\r\n        return age_now + \" year(s)\";\r\n    };\r\n\r\n    const getPhone = (contactPoint) => {\r\n        const phoneContact = contactPoint.contactPoint.find(obj => obj.type == 'phone');\r\n        return phoneContact ? phoneContact.value : '';\r\n    };\r\n\r\n    const getAddress = (address) => {\r\n        const city = address && address.address && address.address.length > 0 ? address.address[0].city : null;\r\n        return city;\r\n    };\r\n\r\n\r\n    const handleBiometricCapture = (id) => {\r\n        let patientObjID= id\r\n        setModal(!modal)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Accordion defaultExpanded>\r\n                <AccordionSummary>\r\n\r\n                    <Row>\r\n\r\n                        <Col md={11}>\r\n                            <Row className={\"mt-1\"}>\r\n                                <Col md={12} className={classes.root2}>\r\n                                    <b style={{fontSize: \"25px\"}}>\r\n                                        {patientObj.surname + \", \" + patientObj.firstName + \" \" + patientObj.otherName}\r\n                                    </b>\r\n\r\n                                </Col>\r\n                                <Col md={4} className={classes.root2}>\r\n                                    <span>\r\n                                        {\" \"}\r\n                                        Hospital Number : <b>{getHospitalNumber(patientObj.identifier) }</b>\r\n                                    </span>\r\n                                </Col>\r\n\r\n                                <Col md={4} className={classes.root2}>\r\n                                    <span>\r\n                                        Date Of Birth : <b>{patientObj.dateOfBirth }</b>\r\n                                    </span>\r\n                                </Col>\r\n                                <Col md={4} className={classes.root2}>\r\n                                <span>\r\n                                    {\" \"}\r\n                                    Age : <b>{calculate_age(patientObj.dateOfBirth) }</b>\r\n                                </span>\r\n                                </Col>\r\n                                <Col md={4}>\r\n                                <span>\r\n                                    {\" \"}\r\n                                    Gender :{\" \"}\r\n                                    <b>{patientObj.gender.display }</b>\r\n                                </span>\r\n                                    <Label color={\"green\"} size={\"mini\"}>\r\n                                        Patient Status\r\n                                        <Label.Detail>Active</Label.Detail>\r\n                                    </Label>\r\n                                </Col>\r\n                                <Col md={4} className={classes.root2}>\r\n                                <span>\r\n                                    {\" \"}\r\n                                    Phone Number : <b>{getPhone(patientObj.contactPoint) }</b>\r\n                                </span>\r\n                                </Col>\r\n                                <Col md={4} className={classes.root2}>\r\n                                <span>\r\n                                    {\" \"}\r\n                                    Address : <b>{getAddress(patientObj.address)} </b>\r\n                                </span>\r\n\r\n                                </Col>\r\n\r\n\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                </AccordionSummary>\r\n                <AccordionDetails className={classes.details}>\r\n                    <div className={classes.column} >\r\n                        <Button\r\n                            color='red'\r\n                            content='BloodType'\r\n                            //icon='heart'\r\n                            label={{ basic: true, color: 'red', pointing: 'left', content: 'AB+' }}\r\n                        />\r\n\r\n                    </div>\r\n                    <div className={classes.column}>\r\n                        <Button\r\n                            basic\r\n                            color='blue'\r\n                            content='Height'\r\n                            icon='fork'\r\n                            label={{\r\n                                as: 'a',\r\n                                basic: true,\r\n                                color: 'blue',\r\n                                pointing: 'left',\r\n                                content: '74.5 in',\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div className={classes.column}>\r\n                        <Button\r\n                            basic\r\n                            color='blue'\r\n                            content='Weight'\r\n                            icon='fork'\r\n                            label={{\r\n                                as: 'a',\r\n                                basic: true,\r\n                                color: 'blue',\r\n                                pointing: 'left',\r\n                                content: '74.5 in',\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    {biometricStatus===true ? (\r\n                            <>\r\n                                <div >\r\n                                    <Typography variant=\"caption\">\r\n                                        <Label color={patientBiometricStatus===true? \"green\" : \"red\"} size={\"mini\"}>\r\n                                            Biometric Status\r\n                                            <Label.Detail>{patientBiometricStatus===true? \"Captured\" : \"Not Capture\"}</Label.Detail>\r\n                                        </Label>\r\n                                        {patientBiometricStatus!==true ? (\r\n\r\n                                                <>\r\n                                                    {permissions.includes('patient_check_in') || permissions.includes(\"all_permission\") ? (\r\n                                                            <>\r\n                                                                <Label as='a' color='teal' onClick={() => handleBiometricCapture(patientObj.id)} tag>\r\n                                                                    Capture Now\r\n                                                                </Label>\r\n                                                            </>\r\n                                                        )\r\n                                                        :\"\"\r\n                                                    }\r\n                                                </>\r\n                                            )\r\n                                            :\"\"\r\n                                        }\r\n\r\n                                    </Typography>\r\n                                </div>\r\n                            </>\r\n                        )\r\n                        :\r\n                        <>\r\n                            <div >\r\n                                <Typography variant=\"caption\">\r\n                                    <Label color={\"red\"} size={\"mini\"}>\r\n                                        Biometric Not Install\r\n\r\n                                    </Label>\r\n\r\n                                </Typography>\r\n                            </div>\r\n                        </>\r\n                    }\r\n                </AccordionDetails>\r\n                <Divider />\r\n                <AccordionActions>\r\n\r\n                </AccordionActions>\r\n            </Accordion>\r\n            <CaptureBiometric modalstatus={modal} togglestatus={toggleModal} patientId={patientObj.id} biometricDevices={devices} setPatientBiometricStatus={setPatientBiometricStatus} />\r\n        </div>\r\n    );\r\n}\r\n\r\nPatientCard.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(PatientCard);","import React, {useCallback, useEffect, useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\nimport ButtonMui from \"@material-ui/core/Button\";\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport { Col} from \"reactstrap\";\r\nimport { Step, Label, Segment, Icon } from \"semantic-ui-react\";\r\nimport PatientCardDetail from './PatientCard'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Tab } from 'semantic-ui-react';\r\nimport { DataGrid } from '@mui/x-data-grid';\r\nimport Box from '@mui/material/Box';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport axios from \"axios\";\r\nimport {token, url as baseUrl} from \"../../../api\";\r\nimport Swal from \"sweetalert2\";\r\nimport {Controller, useForm} from \"react-hook-form\";\r\nimport {Button, Card, CardContent, FormControl, Grid, MenuItem, Paper, TextField, Typography} from \"@mui/material\";\r\nimport {format} from 'date-fns';\r\nimport { toast} from \"react-toastify\";\r\nimport MaterialTable from 'material-table';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport CheckBoxOutlineBlankIcon from '@mui/icons-material/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@mui/icons-material/CheckBox';\r\n\r\n\r\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\r\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    icon: {\r\n        verticalAlign: 'bottom',\r\n        height: 20,\r\n        width: 20,\r\n    },\r\n    details: {\r\n        alignItems: 'center',\r\n    },\r\n    column: {\r\n        flexBasis: '20.33%',\r\n    },\r\n    helper: {\r\n        borderLeft: `2px solid ${theme.palette.divider}`,\r\n        padding: `${theme.spacing(1)}px ${theme.spacing(1) * 2}px`,\r\n    },\r\n    link: {\r\n        color: theme.palette.primary.main,\r\n        textDecoration: 'none',\r\n        '&:hover': {\r\n            textDecoration: 'underline',\r\n        },\r\n    },\r\n});\r\n\r\nconst appointmentColumns = [\r\n    { field: 'id', headerName: 'ID', width: 90 },\r\n    {\r\n        field: 'firstName',\r\n        headerName: 'First name',\r\n        width: 150,\r\n        editable: true,\r\n    },\r\n    {\r\n        field: 'lastName',\r\n        headerName: 'Last name',\r\n        width: 150,\r\n        editable: true,\r\n    },\r\n    {\r\n        field: 'age',\r\n        headerName: 'Age',\r\n        type: 'number',\r\n        width: 110,\r\n        editable: true,\r\n    },\r\n\r\n];\r\n\r\nconst appointments = [\r\n    // { id: 1, lastName: 'Snow', firstName: 'Jon', age: 35 },\r\n\r\n];\r\n\r\n\r\nlet newDate = new Date()\r\nfunction PatientDashboard(props) {\r\n    const [loading, setLoading] = useState('');\r\n    let history = useHistory();\r\n    const { classes } = props;\r\n    const patientObj = history.location && history.location.state ? history.location.state.patientObj : {};\r\n    const permissions = history.location && history.location.state ? history.location.state.permissions : [];\r\n    const { handleSubmit, control } = useForm();\r\n    const [modal, setModal] = useState(false);\r\n    const [checkinStatus, setCheckinStatus]= useState(false)\r\n    const [modalCheckOut, setModalCheckOut] = useState(false);\r\n    const [services, setServices]= useState([]);\r\n    const [selectedServices, setSelectedServices]= useState({checkInServices:\"\"});\r\n    const [patientVisits, setPatientVisits]= useState([]);\r\n    const [checkOutObj, setCheckOutObj] = useState({\r\n        facilityId: 1,\r\n        personId: \"\",\r\n        visitEndDate:format(new Date(newDate), 'yyyy-MM-dd'),\r\n        visitStartDate:\"\"\r\n    })\r\n    const [checkInObj, setCheckInObj] = useState({\r\n        serviceIds:\"\",\r\n        visitDto: {\r\n            facilityId: 1,\r\n            personId: patientObj.id,\r\n            visitEndDate: \"\",\r\n            visitStartDate: format(new Date(newDate), 'yyyy-MM-dd')\r\n        }\r\n    })\r\n\r\n    const loadServices = useCallback(async () => {\r\n        try {\r\n            const response = await axios.get(`${baseUrl}patient/post-service`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            setServices(response.data);\r\n        } catch (e) {\r\n            await Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: 'An error occurred fetching services!',\r\n            });\r\n        }\r\n    }, []);\r\n    const loadPatientVisits = useCallback(async () => {\r\n        try {\r\n            const response = await axios.get(`${baseUrl}patient/visit/visit-detail/${patientObj.id}`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            setPatientVisits(response.data);\r\n            response.data.map((visits)=> {\r\n                if(visits.checkOutDate===null){\r\n                    setCheckinStatus(true)\r\n                }\r\n            })\r\n\r\n\r\n        } catch (e) {\r\n            await Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: 'An error occurred fetching services!',\r\n            });\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        loadServices();\r\n        loadPatientVisits();\r\n    }, [loadServices, loadPatientVisits]);\r\n\r\n    let visitTypesRows = null;\r\n    if (services && services.length > 0) {\r\n        visitTypesRows = services.map((service, index) => (\r\n            <MenuItem key={service.moduleServiceCode} value={service.moduleServiceCode}>{service.moduleServiceName}</MenuItem>\r\n        ));\r\n    }\r\n\r\n\r\n\r\n\r\n    const columns = [\r\n        {\r\n            field: 'checkInDate',\r\n            headerName: 'Checked In Date',\r\n            width: 200,\r\n            editable: false,\r\n        },\r\n        {\r\n            field: 'checkOutDate',\r\n            headerName: 'Check Out Date',\r\n            width: 200,\r\n            editable: false,\r\n        },\r\n        {\r\n            field: 'service',\r\n            headerName: 'Service',\r\n            width: 200,\r\n            editable: false,\r\n        },\r\n        {\r\n            field: 'status',\r\n            headerName: 'Status',\r\n            width: 200,\r\n            editable: false,\r\n        }\r\n    ];\r\n\r\n    const panes = [\r\n        { menuItem: 'Patient Visit', render: () =>\r\n                <Tab.Pane>\r\n\r\n                    <MaterialTable\r\n                        title=\"\"\r\n                        columns={[\r\n                            {\r\n                                title: \"Checked In Date\",\r\n                                field: \"checkInDate\", filtering: false\r\n                            },\r\n                            { title: \"Check Out Date\", field: \"checkOutDate\", filtering: false  },\r\n                            { title: \"Service\", field: \"service\", filtering: false  },\r\n                            { title: \"Status\", field: \"status\", filtering: false },\r\n                        ]}\r\n                        isLoading={loading}\r\n                        data={patientVisits.map((row) => ({\r\n                            checkInDate: row.checkInDate,\r\n                            checkOutDate: row.checkOutDate,\r\n                            service:row.service,\r\n                            status:(<Label color={row.status ==='COMPLETED' ? 'green' : 'red'} size=\"mini\">{row.status}</Label>),\r\n\r\n                        }))}\r\n\r\n                        options={{\r\n                            headerStyle: {\r\n                                backgroundColor: \"#000\",\r\n                                color: \"#ffffff\",\r\n                            },\r\n                            search: true,\r\n                            // searchFieldStyle: {\r\n                            //     width : '200%',\r\n                            //     margingLeft: '250px',\r\n                            // },\r\n                            filtering: false,\r\n                            exportButton: false,\r\n                            searchFieldAlignment: 'left',\r\n                            pageSizeOptions:[10,20,100],\r\n                            pageSize:10,\r\n                            debounceInterval: 400\r\n                        }}\r\n                    />\r\n                </Tab.Pane>\r\n        },\r\n\r\n        { menuItem: permissions.includes('view_patient_appointment') || permissions.includes(\"all_permission\") ? 'Appointments' : \"\", render: () =>\r\n                permissions.includes('view_patient_appointment') || permissions.includes(\"all_permission\") ?\r\n                    <Tab.Pane>\r\n                        <div style={{ height: 400, width: '100%' }}>\r\n                            <DataGrid\r\n                                rows={appointments}\r\n                                columns={appointmentColumns}\r\n                                pageSize={5}\r\n                                rowsPerPageOptions={[5]}\r\n                                checkboxSelection\r\n                                disableSelectionOnClick\r\n                            />\r\n                        </div>\r\n                    </Tab.Pane>\r\n                    :\"\"\r\n        }\r\n\r\n\r\n    ];\r\n\r\n    const handleCheckIn = () => {\r\n        setModal(true);\r\n    };\r\n    const handleCheckOut = () => {\r\n        setModalCheckOut(true);\r\n    };\r\n\r\n    const onCancelCheckIn = () => {\r\n        setModal(false);\r\n    };\r\n    const onCancelCheckOut = () => {\r\n        setModalCheckOut(false);\r\n    };\r\n    const onDelete = () => {\r\n\r\n    };\r\n    const handleInputChangeService = (e) => {\r\n        setSelectedServices({ ...selectedServices, [e.target.name]: e.target.value });\r\n    };\r\n    //console.lo(selectedServices)\r\n\r\n    const onSubmit = async (data) => {\r\n        try {\r\n            const today = new Date();\r\n            const visitDetails = await axios.get(`${baseUrl}patient/visit/visit-detail/${patientObj.id}`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            const visitDetail = visitDetails.data;\r\n            const pendingVisit = visitDetail.find(obj => obj.status == \"PENDING\");\r\n            let visit = null;\r\n            if (!pendingVisit) {\r\n                const visitResponse = await axios.post(`${baseUrl}patient/visit`, {\r\n                    \"personId\": patientObj.id,\r\n                    \"visitStartDate\": today\r\n                }, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n                visit = visitResponse.data;\r\n            } else {\r\n                visit = pendingVisit;\r\n            }\r\n            await axios.post(`${baseUrl}patient/encounter`, {\r\n                \"encounterDate\": today,\r\n                \"personId\": patientObj.id,\r\n                \"serviceCode\": data.VisitType,\r\n                \"status\": \"PENDING\",\r\n                \"visitId\": visit.id\r\n            }, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            setModal(false);\r\n            await Swal.fire({\r\n                icon: 'success',\r\n                text: 'CheckedIn successfully',\r\n                timer: 1500\r\n            });\r\n        } catch (e) {\r\n            await Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: 'An error occurred while checking in Patient!',\r\n            });\r\n        }\r\n    };\r\n    const onError = async () => {\r\n        await Swal.fire({\r\n            icon: 'error',\r\n            title: 'Oops...',\r\n            text: 'An error occurred while checking in Patient!',\r\n        });\r\n    };\r\n\r\n    let checkInServicesID = [];\r\n    /**** Submit Button For CheckIN  */\r\n    const handleSubmitCheckIn = (e) => {\r\n        e.preventDefault();\r\n        selectedServices.checkInServices.length > 0 && selectedServices.checkInServices.map((service)=> {\r\n\r\n            if(service.id!==null){\r\n                checkInServicesID.push(service.id)\r\n                console.log(service)\r\n            }\r\n        })\r\n        checkInObj.serviceIds= checkInServicesID\r\n        axios.post(`${baseUrl}patient/visit/checkin`, checkInObj,\r\n            { headers: {\"Authorization\" : `Bearer ${token}`}},\r\n\r\n        )\r\n            .then(response => {\r\n                toast.success(\"Patient Check-In successful\");\r\n                setCheckinStatus(true)\r\n                onCancelCheckIn()\r\n                loadPatientVisits()\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                toast.error(\"Something went wrong\");\r\n                onCancelCheckIn()\r\n            });\r\n    }\r\n    /**** Submit Button Processing  */\r\n    const handleSubmitCheckOut = (e) => {\r\n        e.preventDefault();\r\n        const getVisitID= patientVisits.find((visits)=> visits.status==='PENDING')\r\n\r\n        axios.put(`${baseUrl}patient/visit/checkout/${getVisitID.id}`,getVisitID.id,\r\n            { headers: {\"Authorization\" : `Bearer ${token}`}},\r\n\r\n        )\r\n            .then(response => {\r\n                toast.success(\"Record save successful\");\r\n                setCheckinStatus(false)\r\n                onCancelCheckOut()\r\n                loadPatientVisits()\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                toast.error(\"Something went wrong\");\r\n                onCancelCheckOut()\r\n            });\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Card>\r\n                <CardContent>\r\n\r\n                    <PatientCardDetail patientObj={patientObj} permissions={permissions}/>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <div className=\"row\">\r\n                                <div className=\"mb-3 col-md-3\">\r\n                                    &nbsp;\r\n                                </div>\r\n                                <div className=\"mb-3 col-md-3\">\r\n                                    &nbsp;\r\n                                </div>\r\n                                <div className=\"mb-3 col-md-3\">\r\n                                    &nbsp;\r\n                                </div>\r\n                                <div className=\"mb-3 col-md-3\">\r\n                                    <Link to={\"/\"} >\r\n                                        <ButtonMui\r\n                                            variant=\"contained\"\r\n                                            color=\"primary\"\r\n                                            className=\" float-right mr-1\">\r\n                                            <span style={{ textTransform: \"capitalize\" }}>Back</span>\r\n                                        </ButtonMui>\r\n                                    </Link>\r\n                                    {permissions.includes('patient_check_in') || permissions.includes(\"all_permission\") ? (\r\n                                            <>\r\n                                                {checkinStatus===false ? (\r\n                                                        <Button\r\n                                                            variant=\"contained\"\r\n                                                            style={{ backgroundColor: \"black\" }}\r\n                                                            onClick={handleCheckIn}\r\n                                                            className=\" float-right mr-1\"\r\n                                                        >\r\n                                                            <span style={{ textTransform: \"capitalize\" }}>CheckIn</span>\r\n                                                        </Button>\r\n                                                    )\r\n                                                    :\r\n                                                    \"\"\r\n                                                }\r\n                                            </>\r\n                                        )\r\n                                        :\"\"\r\n                                    }\r\n                                    {checkinStatus===true ? (\r\n                                            <Button\r\n                                                variant=\"contained\"\r\n                                                style={{ backgroundColor: \"black\" }}\r\n                                                onClick={handleCheckOut}\r\n                                                className=\" float-right mr-1\"\r\n                                            >\r\n                                                <span style={{ textTransform: \"capitalize\" }}>CheckOut</span>\r\n                                            </Button>\r\n                                        )\r\n                                        :\r\n                                        \"\"\r\n                                    }\r\n\r\n                                </div>\r\n                            </div>\r\n                            <Tab panes={panes} />\r\n                        </CardContent>\r\n                    </Card>\r\n                </CardContent>\r\n            </Card>\r\n            <Modal isOpen={modal} toggle={onCancelCheckIn}>\r\n                <ModalHeader toggle={onCancelCheckIn}>Select a Service Area</ModalHeader>\r\n                <ModalBody>\r\n                    <form onSubmit={handleSubmitCheckIn}>\r\n                        <Paper\r\n                            style={{\r\n                                display: \"grid\",\r\n                                gridRowGap: \"20px\",\r\n                                padding: \"20px\",\r\n                                margin: \"10px 10px\",\r\n                            }}>\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={8}>\r\n                                    <FormControl >\r\n\r\n                                        <Autocomplete\r\n                                            multiple\r\n                                            id=\"checkboxes-tags-demo\"\r\n                                            options={services}\r\n                                            //disableCloseOnSelect\r\n                                            getOptionLabel={(option) => option.moduleServiceName}\r\n                                            onChange={(e, i) => {\r\n                                                console.log(i)\r\n                                                setSelectedServices({ ...selectedServices, checkInServices: i });\r\n                                            }}\r\n                                            renderOption={(props, option, { selected }) => (\r\n                                                <li {...props}>\r\n                                                    <Checkbox\r\n                                                        icon={icon}\r\n                                                        checkedIcon={checkedIcon}\r\n                                                        style={{ marginRight: 8 }}\r\n                                                        checked={selected}\r\n                                                    />\r\n                                                    {option.moduleServiceName}\r\n                                                </li>\r\n                                            )}\r\n                                            style={{ width: 400 }}\r\n                                            renderInput={(params) => (\r\n                                                <TextField {...params} label=\"Services\" />\r\n                                            )}\r\n                                        />\r\n\r\n                                    </FormControl>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12}>\r\n                                    <Button type={\"submit\"} variant=\"contained\" color={\"primary\"}>Submit</Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </form>\r\n                </ModalBody>\r\n            </Modal>\r\n            {/* Modal for CheckOut Patient */}\r\n            <Modal isOpen={modalCheckOut} toggle={onCancelCheckOut}>\r\n                <ModalHeader toggle={onCancelCheckOut}>CheckOut </ModalHeader>\r\n                <ModalBody>\r\n                    <form >\r\n                        <Paper\r\n                            style={{\r\n                                display: \"grid\",\r\n                                gridRowGap: \"20px\",\r\n                                padding: \"20px\",\r\n                                margin: \"10px 10px\",\r\n                            }}>\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12}>\r\n                                    <h5>Are you sure you want to check-out patient?</h5>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12}>\r\n                                    <Button type={\"submit\"} onClick={handleSubmitCheckOut} variant=\"contained\" color={\"primary\"}>Yes</Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </form>\r\n                </ModalBody>\r\n            </Modal>\r\n            {/* End of Checkout Modal */}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withStyles(styles)(PatientDashboard);\r\n","import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\r\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\r\nimport Grow from '@mui/material/Grow';\r\nimport Paper from '@mui/material/Paper';\r\nimport Popper from '@mui/material/Popper';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport MenuList from '@mui/material/MenuList';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ContentCut from '@mui/icons-material/ContentCut';\r\nimport Typography from '@mui/material/Typography';\r\nimport {FaEye, FaCaretDown } from \"react-icons/fa\";\r\nimport Divider from '@mui/material/Divider';\r\nimport {useRef} from \"react\";\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\n\r\nconst options = ['Delete', 'Edit'];\r\n\r\n\r\n\r\nexport default function SplitActionButton(props) {\r\n    const [open, setOpen] = React.useState(false);\r\n    const anchorRef = useRef(null);\r\n    const [selectedIndex, setSelectedIndex] = React.useState(1);\r\n\r\n    const handleClick = () => {\r\n        console.info(`You clicked ${options[selectedIndex]}`);\r\n    };\r\n\r\n    const handleMenuItemClick = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleToggle = () => {\r\n        setOpen((prevOpen) => !prevOpen);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ButtonGroup variant=\"contained\" ref={anchorRef} style={{backgroundColor:'rgb(4, 196, 217)', height:'30px',width:'130px'}} >\r\n                <Link to={props.actions[0].to}>\r\n                    <Button size=\"small\" onClick={handleClick} variant=\"contained\" startIcon={props.actions[0].icon} style={{backgroundColor:'rgb(4, 196, 217)'}}>\r\n                        <Typography variant=\"h7\" style={{fontWeight:'bolder'}}>{props.actions[0].name}</Typography>\r\n                    </Button>\r\n                </Link>\r\n\r\n                <Divider orientation=\"vertical\" flexItem>\r\n                </Divider>\r\n                <Button\r\n                    size=\"medium\"\r\n                    aria-controls={open ? 'split-button-menu' : undefined}\r\n                    aria-expanded={open ? 'true' : undefined}\r\n                    aria-label=\"select merge strategy\"\r\n                    aria-haspopup=\"menu\"\r\n                    onClick={handleToggle}\r\n                    style={{backgroundColor:'rgb(4, 196, 217)'}}\r\n                >\r\n                    <FaCaretDown size='24' />\r\n                </Button>\r\n            </ButtonGroup>\r\n            <Popper\r\n                open={open}\r\n                anchorEl={anchorRef.current}\r\n                role={undefined}\r\n                transition\r\n                disablePortal\r\n                style={{ zIndex:'10000' }}\r\n            >\r\n                {({ TransitionProps, placement }) => (\r\n                    <Grow\r\n                        {...TransitionProps}\r\n                        style={{\r\n                            transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom',\r\n                            zIndex:'1000'\r\n                        }}\r\n                    >\r\n                        {/*width: 130,*/}\r\n                        <Paper sx={{  maxWidth: '100%', marginTop:'2px', zIndex:'1000' }}>\r\n                            <ClickAwayListener onClickAway={handleClose}>\r\n                                <MenuList id=\"split-button-menu\" autoFocusItem>\r\n                                    {props.actions.slice(1).map((option, index) => (\r\n                                        <MenuItem\r\n                                            key={Math.random()}\r\n                                        >\r\n                                            <Link\r\n                                                to={option.to}\r\n                                            >\r\n                                                {option.icon}<span style={{color: '#645f5f', fontWeight:'bolder', fontSize:'12px'}}>{option.name}</span>\r\n                                            </Link>\r\n\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </MenuList>\r\n                            </ClickAwayListener>\r\n                        </Paper>\r\n                    </Grow>\r\n                )}\r\n            </Popper>\r\n        </React.Fragment>\r\n    );\r\n}\r\n","import React, {useState, useEffect, useCallback} from 'react'\r\nimport MaterialTable from 'material-table';\r\nimport axios from \"axios\";\r\nimport { url as baseUrl, token } from \"../../../api\";\r\nimport { Link } from 'react-router-dom'\r\nimport { Card,CardBody,} from 'reactstrap';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport 'react-widgets/dist/css/react-widgets.css';\r\nimport {FaEye, FaUserPlus} from \"react-icons/fa\";\r\nimport { MdDashboard, MdDeleteForever, MdModeEdit,MdPerson} from \"react-icons/md\";\r\nimport {Menu,MenuList,MenuButton,MenuItem,} from \"@reach/menu-button\";\r\nimport \"@reach/menu-button/styles.css\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { Label } from 'semantic-ui-react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport \"./patient.css\";\r\nimport SplitActionButton from './SplitActionButton';\r\n\r\nimport { forwardRef } from 'react';\r\n//import { Button} from \"react-bootstrap\";\r\nimport AddBox from '@material-ui/icons/AddBox';\r\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\r\nimport Check from '@material-ui/icons/Check';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport FirstPage from '@material-ui/icons/FirstPage';\r\nimport LastPage from '@material-ui/icons/LastPage';\r\nimport Remove from '@material-ui/icons/Remove';\r\nimport SaveAlt from '@material-ui/icons/SaveAlt';\r\nimport Search from '@material-ui/icons/Search';\r\nimport ViewColumn from '@material-ui/icons/ViewColumn';\r\n\r\nconst tableIcons = {\r\n    Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\nCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\nClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\nDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\nDetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\nEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\nExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\nFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\nFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\nLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\nNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\nPreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\nResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\nSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\nSortArrow: forwardRef((props, ref) => <ArrowUpward {...props} ref={ref} />),\r\nThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\nViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\r\n};\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    card: {\r\n        margin: theme.spacing(20),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center'\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3)\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2)\r\n    },\r\n    cardBottom: {\r\n        marginBottom: 20\r\n    },\r\n    Select: {\r\n        height: 45,\r\n        width: 350\r\n    },\r\n    button: {\r\n        margin: theme.spacing(1)\r\n    },\r\n\r\n    root: {\r\n        '& > *': {\r\n            margin: theme.spacing(1)\r\n        }\r\n    },\r\n    input: {\r\n        display: 'none'\r\n    },\r\n    error: {\r\n        color: \"#f85032\",\r\n        fontSize: \"11px\",\r\n    },\r\n    success: {\r\n        color: \"#4BB543 \",\r\n        fontSize: \"11px\",\r\n    },\r\n}));\r\n\r\n\r\n\r\nconst PatientList = (props) => {\r\n\r\n    const [patients, setPatients] = useState([]);\r\n    const [permissions, setPermissions] = useState([]);\r\n    const [loading, setLoading] = useState('');\r\n    const [modal, setModal] = useState(false);\r\n    const [patient, setPatient] = useState(false);\r\n    const toggle = (id) => {\r\n        const patient = patients.find(obj => obj.id == id);\r\n        setPatient(patient);\r\n        setModal(!modal);\r\n    }\r\n    useEffect(() => {\r\n        userPermission();\r\n      }, []);\r\n    //Get list of Finger index\r\n    const userPermission =()=>{\r\n        axios\r\n           .get(`${baseUrl}account`,\r\n               { headers: {\"Authorization\" : `Bearer ${token}`} }\r\n           )\r\n           .then((response) => {\r\n                setPermissions(response.data.permissions);\r\n\r\n           })\r\n           .catch((error) => {\r\n           });\r\n\r\n     }\r\n    const loadPatients = useCallback(async () => {\r\n        try {\r\n            const response = await axios.get(`${baseUrl}patient`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            setPatients(response.data);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }, []);\r\n\r\n    const onDelete = async (id) => {\r\n        try {\r\n            if (id) {\r\n                const response = await axios.delete(`${baseUrl}patient/${id}`, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n                window.location.reload();\r\n            }\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n\r\n    const onCancelDelete = () => {\r\n        setModal(false);\r\n    }\r\n\r\n    const calculate_age = dob => {\r\n        const today = new Date();\r\n        const dateParts = dob.split(\"-\");\r\n        const birthDate = new Date(dob); // create a date object directlyfrom`dob1`argument\r\n        let age_now = today.getFullYear() - birthDate.getFullYear();\r\n        const m = today.getMonth() - birthDate.getMonth();\r\n        if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n            age_now--;\r\n        }\r\n        if (age_now === 0) {\r\n            return m + \" month(s)\";\r\n        }\r\n        return age_now + \" year(s)\";\r\n    };\r\n\r\n    const getHospitalNumber = (identifier) => {\r\n        const hospitalNumber = identifier.identifier.find(obj => obj.type == 'HospitalNumber');\r\n        return hospitalNumber ? hospitalNumber.value : '';\r\n    };\r\n\r\n    const getAddress = (address) => {\r\n        const city = address && address.address && address.address.length > 0 ? address.address[0].city : null;\r\n        return city;\r\n    };\r\n\r\n    const getGender = (gender) => {\r\n        return gender.display;\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadPatients();\r\n    }, [loadPatients]);\r\n    console.log(permissions)\r\nconsole.log(permissions.includes( \"all_permission\"))\r\n    function actionItems(row){\r\n       return  [\r\n           {\r\n               name:'View',\r\n               icon:<FaEye  size=\"22\"/>,\r\n               to:{\r\n                   pathname: \"/register-patient\",\r\n                   state: { patientId : row.id, permissions:permissions  }\r\n               }\r\n           },\r\n           {...(permissions.includes('view_patient') || permissions.includes(\"all_permission\")&&\r\n                   {\r\n                       name:'Patient Dashboard',\r\n                       icon:<MdPerson size=\"20\" color='rgb(4, 196, 217)' />,\r\n                       to:{\r\n                           pathname: \"/patient-dashboard\",\r\n                           state: { patientObj: row, permissions:permissions  }\r\n                       }\r\n                   }\r\n           )},\r\n           {...(permissions.includes('edit_patient') || permissions.includes(\"all_permission\")&&\r\n                   {\r\n                       name:'Edit Patient',\r\n                       icon:<MdModeEdit size=\"20\" color='rgb(4, 196, 217)' />,\r\n                       to:{\r\n                           pathname: \"/register-patient\",\r\n                           state: { patientId : row.id, permissions:permissions  }\r\n                       }\r\n                   }\r\n               )},\r\n           {...(permissions.includes('delete_patient') || permissions.includes(\"all_permission\")&&\r\n                   {\r\n                       name:'Delete Patient',\r\n                       icon:<MdDeleteForever size=\"20\" color='rgb(4, 196, 217)'  />,\r\n                       to:{\r\n                           pathname: \"/#\",\r\n                           state: { patientObj: row, permissions:permissions  }\r\n                       }\r\n                   }\r\n               )}\r\n        ]\r\n    }\r\n  return (\r\n    <div>\r\n        <ToastContainer autoClose={3000} hideProgressBar />\r\n        <Card>\r\n            <CardBody>\r\n            {permissions.includes('view_patient') || permissions.includes(\"all_permission\") ? (\r\n                <Link to={\"register-patient\"}>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className=\" float-right mr-1\"\r\n                        startIcon={<FaUserPlus size=\"25\"/>}\r\n                        style={{backgroundColor:'rgb(4, 196, 217)'}}\r\n                    >\r\n                        <span style={{ textTransform: \"capitalize\", fontWeight:'bolder' }}>New Patient</span>\r\n                    </Button>\r\n                </Link>\r\n            ):\"\"\r\n        }\r\n                <br/><br/>\r\n                <br/>\r\n                <MaterialTable\r\n                    icons={tableIcons}\r\n                    title=\"Find patients\"\r\n                    columns={[\r\n                        {\r\n                            title: \"Patient Name\",\r\n                            field: \"name\", filtering: false\r\n                        },\r\n                        { title: \"Patient ID\", field: \"id\" , filtering: false},\r\n                        { title: \"Gender\", field: \"gender\", filtering: false },\r\n                        { title: \"Date Of Birth\", field: \"dateOfBirth\", filtering: false },\r\n                        { title: \"Age\", field: \"age\", filtering: false },\r\n                        /*{ title: \"Address\", field: \"address\", filtering: false },*/\r\n                        { title: \"Status\", field: \"status\", filtering: false },\r\n                        {title: \"Actions\", field: \"actions\", filtering: false },\r\n                    ]}\r\n                    isLoading={loading}\r\n                    data={patients.map((row) => ({\r\n                        name: row.firstName +  ' ' + row.otherName +  ' ' + row.surname,\r\n                        id: getHospitalNumber(row.identifier),\r\n                        gender: getGender(row.gender),\r\n                        dateOfBirth: row.dateOfBirth,\r\n                        age: (row.dateOfBirth === 0 ||\r\n                            row.dateOfBirth === undefined ||\r\n                            row.dateOfBirth === null ||\r\n                            row.dateOfBirth === \"\" )\r\n                            ? 0\r\n                            : calculate_age(row.dateOfBirth),\r\n                        /*address: getAddress(row.address),*/\r\n/*                        status: row.active ?\r\n                            (<Label color=\"green\" size=\"mini\">active</Label>)\r\n                            : (<Label color=\"teal\" size=\"mini\">not-active</Label>),*/\r\n                        status: row.active ?\r\n                            \"Active\"\r\n                            : \"Not-Active\",\r\n                        actions:\r\n                            <div>\r\n                                {permissions.includes('view_patient') || permissions.includes(\"all_permission\") ? (\r\n                                    <SplitActionButton actions={actionItems(row)} />\r\n                                ):\"\"\r\n                                }\r\n\r\n{/*                                <Menu>\r\n                                    <MenuButton style={{ backgroundColor:\"#3F51B5\", color:\"#fff\", border:\"2px solid #3F51B5\", borderRadius:\"4px\", }}>\r\n                                        Actions <span aria-hidden></span>\r\n                                    </MenuButton>\r\n\r\n                                    <MenuList className={'menuClass'} >\r\n                                    {permissions.includes('view_patient') || permissions.includes(\"all_permission\") ? (\r\n                                        <MenuItem  style={{ color:\"#000 !important\"}}>\r\n                                            <Link\r\n                                                to={{\r\n                                                    pathname: \"/patient-dashboard\",\r\n                                                    state: { patientObj: row, permissions:permissions }\r\n                                                }}\r\n                                            >\r\n                                                <MdDashboard size=\"15\" />{\" \"}<span style={{color: '#000'}}>Patient Dashboard</span>\r\n                                            </Link>\r\n                                        </MenuItem>\r\n                                    ):\"\"\r\n                                }\r\n\r\n                                    {permissions.includes('edit_patient') || permissions.includes(\"all_permission\") ? (\r\n                                        <MenuItem style={{ color:\"#000 !important\"}}>\r\n                                            <Link\r\n                                                to={{\r\n                                                    pathname: \"/register-patient\",\r\n                                                    state: { patientId : row.id }\r\n                                                }}\r\n                                            >\r\n                                                <MdModeEdit size=\"15\" />{\" \"}<span style={{color: '#000'}}>Edit Patient </span>\r\n                                            </Link>\r\n                                        </MenuItem>\r\n                                    ):\"\"}\r\n                                    {permissions.includes('delete_patient') || permissions.includes(\"all_permission\") ? (\r\n                                        <MenuItem style={{ color:\"#000 !important\"}}>\r\n                                            <Link\r\n                                                onClick={(e) => toggle(row.id)}\r\n                                                to={{\r\n                                                    pathname: \"/#\",\r\n                                                    currentId: row\r\n                                                }}\r\n                                            >\r\n                                                <MdDeleteForever size=\"15\"  />{\" \"}\r\n                                                <span style={{color: '#000'}}>Delete Patient</span>\r\n                                            </Link>\r\n                                        </MenuItem>\r\n                                    ):\"\"}\r\n                                    </MenuList>\r\n                                </Menu>*/}\r\n                            </div>\r\n                    }))}\r\n\r\n                    options={{\r\n                        headerStyle: {\r\n                            //backgroundColor: \"#9F9FA5\",\r\n                            color: \"#000\",\r\n                        },\r\n                        searchFieldStyle: {\r\n                            width : '200%',\r\n                            margingLeft: '250px',\r\n                        },\r\n                        filtering: true,\r\n                        exportButton: false,\r\n                        searchFieldAlignment: 'left',\r\n                        pageSizeOptions:[10,20,100],\r\n                        pageSize:10,\r\n                        debounceInterval: 400\r\n                    }}\r\n                />\r\n\r\n            </CardBody>\r\n        </Card>\r\n        <Modal isOpen={modal} toggle={onCancelDelete}>\r\n            <ModalHeader toggle={onCancelDelete}>Delete Patient</ModalHeader>\r\n            <ModalBody>\r\n                Are you sure to delete this record? { patient ? patient.surname +  ', ' + patient.firstname +  ' ' + patient.otherName : '' }\r\n            </ModalBody>\r\n            <ModalFooter>\r\n                <Button color=\"primary\" type=\"button\" onClick={(e) => onDelete(patient.id)}>Yes</Button>{' '}\r\n                <Button color=\"secondary\" type=\"button\" onClick={(e) => onCancelDelete()}>No</Button>\r\n            </ModalFooter>\r\n        </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientList;\r\n\r\n\r\n","import React, {useCallback, useEffect, useState} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {Button, Card, CardContent, FormControl, Grid, MenuItem, Paper, TextField, Typography, Box} from \"@mui/material\";\r\nimport { DataGrid } from '@mui/x-data-grid';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\nconst columns = [\r\n    {\r\n        field: 'weight',\r\n        headerName: 'Weight',\r\n        width: 200,\r\n        editable: false,\r\n    },\r\n    {\r\n        field: 'height',\r\n        headerName: 'Height',\r\n        width: 200,\r\n        editable: false,\r\n    },\r\n    {\r\n        field: 'temperature',\r\n        headerName: 'Temperature',\r\n        width: 200,\r\n        editable: false,\r\n    },\r\n    {\r\n        field: 'status',\r\n        headerName: 'Status',\r\n        width: 200,\r\n        editable: false,\r\n    }\r\n];\r\n\r\nconst PatientVitals = () => {\r\n    const rows = [];\r\n\r\n    return (\r\n        <Card>\r\n            <CardContent>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={3}>&nbsp;</Grid>\r\n                    <Grid item xs={3}>&nbsp;</Grid>\r\n                    <Grid item xs={3}>&nbsp;</Grid>\r\n                    <Grid item xs={3}>\r\n                        <Box\r\n                            m={1}\r\n                            display=\"flex\"\r\n                            justifyContent=\"center\"\r\n                            alignItems=\"center\"\r\n                        >\r\n                            <Link to={{\r\n                                pathname: \"/add-patient-vital\"\r\n                            }}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    style={{ backgroundColor: \"black\" }}\r\n                                >\r\n                                    <AddIcon /> Add Vital Signs\r\n                                </Button>\r\n                            </Link>\r\n                        </Box>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={12}>\r\n                        <Box height={\"200px\"}>\r\n                            <DataGrid\r\n                                rows={rows}\r\n                                columns={columns}\r\n                                pageSize={5}\r\n                                rowsPerPageOptions={[5]}\r\n                                disableSelectionOnClick\r\n                            />\r\n                        </Box>\r\n                    </Grid>\r\n                </Grid>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default PatientVitals;\r\n","import React, {useState} from \"react\";\r\nimport {Button, Card, CardContent, FormControl, Grid, Paper, TextField, Typography} from \"@mui/material\";\r\nimport {Controller, useForm} from \"react-hook-form\";\r\nimport {LocalizationProvider} from \"@mui/x-date-pickers/LocalizationProvider\";\r\nimport {AdapterDateFns} from \"@mui/x-date-pickers/AdapterDateFns\";\r\nimport {DatePicker} from \"@mui/x-date-pickers\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport {token, url as baseUrl} from \"../../../api\";\r\n\r\n\r\nconst AddPatientVitals = () => {\r\n    const { handleSubmit, control } = useForm();\r\n    const onSubmit = async (data) => {\r\n        //console.log(data);\r\n        try {\r\n            const InData = {\r\n                \"bodyWeight\": data.Weight,\r\n                \"diastolic\": data.Diastolic,\r\n                \"encounterDate\": data.DateOfVitalSigns,\r\n                \"height\": data.Height,\r\n                \"personId\": 1,\r\n                \"systolic\": data.Systolic\r\n            }\r\n            await axios.post(`${baseUrl}patient/vital-sign`, InData, { headers: {\"Authorization\" : `Bearer ${token}`} });\r\n            await Swal.fire({\r\n                icon: 'success',\r\n                text: 'Add Patient Vital successfully',\r\n                timer: 1500\r\n            });\r\n        } catch (e) {\r\n            await Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: 'An error occurred while saving patient vitals!',\r\n            });\r\n        }\r\n    };\r\n    const onError = () => {\r\n\r\n    };\r\n\r\n    return (\r\n        <Card>\r\n            <CardContent>\r\n                <form onSubmit={handleSubmit(onSubmit, onError)}>\r\n                    <Paper\r\n                        style={{\r\n                            display: \"grid\",\r\n                            gridRowGap: \"20px\",\r\n                            padding: \"20px\",\r\n                            margin: \"10px 10px\",\r\n                        }}>\r\n                        <Typography variant=\"h6\">Take Patient Vitals</Typography>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item xs={6}>\r\n                                <FormControl fullWidth>\r\n                                    <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                                        <Controller\r\n                                            name=\"DateOfVitalSigns\"\r\n                                            control={control}\r\n                                            defaultValue={null}\r\n                                            render={({ field: { onChange, value }, fieldState: { error}}) => (\r\n                                                <DatePicker\r\n                                                    renderInput={(props) => <TextField {...props} />}\r\n                                                    label=\"Date Of Vital Signs\"\r\n                                                    selected={value}\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    error={!!error}\r\n                                                    helperText={error ? error.message : null}\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </LocalizationProvider>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={6}>\r\n                                <FormControl fullWidth>\r\n                                    <Controller\r\n                                        name=\"Pulse\"\r\n                                        control={control}\r\n                                        defaultValue=\"\"\r\n                                        render={({ field: { onChange, value }, fieldState: { error }}) => (\r\n                                            <TextField\r\n                                                label=\"Pulse(bpm)\"\r\n                                                id=\"Pulse\"\r\n                                                variant=\"outlined\"\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                error={!!error}\r\n                                                helperText={error ? error.message : null}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={6}>\r\n                                <FormControl fullWidth>\r\n                                    <Controller\r\n                                        name=\"RespiratoryRate\"\r\n                                        control={control}\r\n                                        defaultValue=\"\"\r\n                                        render={({ field: { onChange, value }, fieldState: { error }}) => (\r\n                                            <TextField\r\n                                                label=\"Respiratory Rate (bpm)\"\r\n                                                id=\"RespiratoryRate\"\r\n                                                variant=\"outlined\"\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                error={!!error}\r\n                                                helperText={error ? error.message : null}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={6}>\r\n                                <FormControl fullWidth>\r\n                                    <Controller\r\n                                        name=\"Temperature\"\r\n                                        control={control}\r\n                                        defaultValue=\"\"\r\n                                        render={({ field: { onChange, value }, fieldState: { error }}) => (\r\n                                            <TextField\r\n                                                label=\"Temperature (C)\"\r\n                                                id=\"Temperature\"\r\n                                                variant=\"outlined\"\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                error={!!error}\r\n                                                helperText={error ? error.message : null}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={6}>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item xs={6}>\r\n                                        <FormControl fullWidth>\r\n                                            <Controller\r\n                                                name=\"Systolic\"\r\n                                                control={control}\r\n                                                defaultValue=\"\"\r\n                                                render={({ field: { onChange, value }, fieldState: { error }}) => (\r\n                                                    <TextField\r\n                                                        label=\"Systolic (mmHg)\"\r\n                                                        id=\"Systolic\"\r\n                                                        variant=\"outlined\"\r\n                                                        value={value}\r\n                                                        onChange={onChange}\r\n                                                        error={!!error}\r\n                                                        helperText={error ? error.message : null}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                        </FormControl>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6}>\r\n                                        <FormControl fullWidth>\r\n                                            <Controller\r\n                                                name=\"Diastolic\"\r\n                                                control={control}\r\n                                                defaultValue=\"\"\r\n                                                render={({ field: { onChange, value }, fieldState: { error }}) => (\r\n                                                    <TextField\r\n                                                        label=\"Diastolic (mmHg)\"\r\n                                                        id=\"Diastolic\"\r\n                                                        variant=\"outlined\"\r\n                                                        value={value}\r\n                                                        onChange={onChange}\r\n                                                        error={!!error}\r\n                                                        helperText={error ? error.message : null}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                        </FormControl>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item xs={6}>\r\n                                <FormControl fullWidth>\r\n                                    <Controller\r\n                                        name=\"Weight\"\r\n                                        control={control}\r\n                                        defaultValue=\"\"\r\n                                        render={({ field: { onChange, value }, fieldState: { error }}) => (\r\n                                            <TextField\r\n                                                label=\"Weight (Kg)\"\r\n                                                id=\"Weight\"\r\n                                                variant=\"outlined\"\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                error={!!error}\r\n                                                helperText={error ? error.message : null}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <FormControl fullWidth>\r\n                                    <Controller\r\n                                        name=\"Height\"\r\n                                        control={control}\r\n                                        defaultValue=\"\"\r\n                                        render={({ field: { onChange, value }, fieldState: { error }}) => (\r\n                                            <TextField\r\n                                                label=\"Height (cm)\"\r\n                                                id=\"Height\"\r\n                                                variant=\"outlined\"\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                error={!!error}\r\n                                                helperText={error ? error.message : null}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </FormControl>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item xs={12}>\r\n                                <Button type={\"button\"} variant=\"contained\" color={\"error\"}>Cancel</Button>\r\n                                &nbsp;&nbsp;\r\n                                <Button type={\"submit\"} variant=\"contained\" color={\"primary\"}>Submit</Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </form>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default AddPatientVitals;\r\n","import React from \"react\";\r\nimport {\r\n  MemoryRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport RegisterPatient from './main/webapp/components/RegisterPatient';\r\nimport PatientDashboard from './main/webapp/components/PatientDashboard';\r\nimport Dashboard from './main/webapp/components/Dashboard';\r\nimport PatientVitals from './main/webapp/components/PatientVitals';\r\nimport AddPatientVitals from './main/webapp/components/Add-Patient-Vitals';\r\nimport { ToastContainer} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function App() {\r\n  return (\r\n    <Router>\r\n      <div>\r\n      <ToastContainer />\r\n        {/* A <Switch> looks through its children <Route>s and\r\n            renders the first one that matches the current URL. */}\r\n        <Switch>\r\n         \r\n          <Route path=\"/register-patient\">\r\n            <RegisterPatientPage />\r\n          </Route>\r\n          <Route path=\"/patient-dashboard\">\r\n            <PatientDashboardPage />\r\n          </Route>\r\n          <Route path=\"/patient-vitals\">\r\n            <PatientVitalsPage />\r\n          </Route>\r\n          <Route path=\"/add-patient-vital\">\r\n            <AddPatientVitalsPage />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Dashboard />\r\n          </Route>\r\n          \r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nfunction PatientDashboardPage() {\r\n  return <PatientDashboard />;\r\n}\r\nfunction RegisterPatientPage() {\r\n  return <RegisterPatient />;\r\n}\r\nfunction PatientVitalsPage() {\r\n  return <PatientVitals />\r\n}\r\nfunction AddPatientVitalsPage() {\r\n  return <AddPatientVitals />\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\n"],"sourceRoot":""}